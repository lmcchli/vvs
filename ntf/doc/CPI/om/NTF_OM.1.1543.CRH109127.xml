<?xml version="1.0" encoding="utf-8"?>
<!--Arbortext, Inc., 1988-2006, v.4002-->
<!DOCTYPE doc PUBLIC "-//ABCXYZ//DTD XSEIF 1/FAD 110 05 R5//EN"
 "XSEIF_R5.dtd">
<doc new-page-level="npl1" version="XSEIF R5" xmlns="urn:x-abcxyz:r2:reg-doc:1551-fad.110.05:en:*"
xmlns:atict="http://www.arbortext.com/namespace/atict"><atict:info tracking="off"
ref="4"/><atict:user user="qtommlu" fullname="Tommy Lundemo XX (SU/EAB)"/>
<atict:user user="enikfyh" fullname="Niklas Fyhr (SU/EAB)"/>
<meta-data><?Pub Dtl?>
<confidentiality class="abcxyz-confidential"/>
<doc-name>Operation Directions</doc-name>
<doc-id>
<doc-no type="reference">1/1543-CRH 109 127</doc-no><language code="en"/>
<rev>PAD3</rev>
<date><y>2008</y><m>05</m><d>08</d></date>
</doc-id>
<company-id>
<business-unit>Core Unit Service Network and Applications (CSNA)</business-unit>
<company-name>Abcxyz AB</company-name>
<company-symbol logotype="abcxyz"></company-symbol>
</company-id>
<title>Operation and Maintenance NTF</title>
<drafted-by>
<person>
<name>Niklas Fyhr</name><signature>MNIFY</signature>
<location></location><company></company><department></department>
</person>
</drafted-by>
<approved-by approved="yes">
<person>
<name>Magnus Bj&ouml;rkman</name><signature>ERMMABJ</signature>
<location></location><company></company><department></department>
</person>
</approved-by>
</meta-data>
<front>
<title-page>
<copyright><p>&copy; Abcxyz AB 2001-2008 - All Rights Reserved</p>
</copyright>
<disclaimer>
<p>The information in this document is subject to change without notice.</p>
<p>Abcxyz makes no warranty of any kind with regard to this material, including,
but not limited to, the implied warranties of merchantability and fitness
for a particular purpose. Abcxyz shall not be liable for errors contained
herein nor for incidental or consequential damages in connection with the
furnishing, performance or use of this material.</p>
</disclaimer>
<trademark-list>
<tm-item><trademark>Solaris</trademark><owner>is a trademark of Sun Microsystems,
Inc.</owner></tm-item>
<tm-item><trademark>Apache Software Foundation</trademark><owner>This product
includes software developed by the Apache Software Foundation (http://www.apache.org/).</owner>
</tm-item>
<tm-item><trademark> The Hypersonic SQL Group &amp; The HSQL Development Group</trademark>
<owner>This product includes software developed by The Hypersonic SQL Group
and The HSQL Development Group. See Copyright Notices in the Appendix.</owner>
</tm-item>
</trademark-list>
</title-page>
</front>
<body>
<chl1><title>Introduction</title>
<chl2><title>Scope</title>
<p>This document provides information on operation and maintenance specific
for the Notification component (NTF).</p>
</chl2>
<chl2><title>Audience</title>
<p>The document is primarily written for O&amp;M personnel.</p>
<p>Part of the document may also be useful for personnel responsible for software
installation.</p>
<chl3><title>Prerequisite Knowledge</title>
<p>The readers of this document should have a good understanding of Messaging-over-IP
and good knowledge and experience of:</p>
<list type="unordered">
<list-item><p>IP based networks</p>
</list-item>
<list-item><p>Protocols LDAP, SNMP, SMTP, IMAP, HTTP, SMPP or CIMD2, RADIUS.</p>
</list-item>
<list-item><p>UNIX</p>
</list-item>
</list>
<note><p>Operation and maintenance of the system is only to be performed by
personnel authorized by having attended the corresponding courses.</p>
</note>
</chl3>
</chl2>
<chl2><title>Related Documents</title>
<p>The following documents also contain information related to the component,
or are referred to from this document:</p>
<list type="unordered">
<list-item><p>Messaging-over-IP Overview </p>
</list-item>
<list-item><p>Glossary</p>
</list-item>
<list-item><p>Installation Guide NTF</p>
</list-item>
<list-item><p>Solaris Documentation  (http://docs.sun.com) <emph type="low">System
Administration Guide, Solaris 10</emph></p>
</list-item>
</list>
</chl2>
<chl2><title>Document Conventions</title>
<chl3><title>Notational Conventions</title>
<p>This document uses the following notational conventions:</p>
<p><emph>Bold font</emph> style is used for emphasis, to indicate keywords
and buttons.</p>
<p><emph type="low">Italic font</emph> style is used for references, window/page/menu
titles and specific terms.</p>
<p><input>Bold Monospace font</input> is used to describe user input.</p>
<p><output>Monospace font</output> is used for code, paths and on-screen computer
output.</p>
<p>Square brackets <quote>[]</quote> are used to enclose parameters that are
optional.</p>
<p>Curly brackets <quote>{}</quote> are used to enclose parameter values given
as examples.</p>
<p>Less than and greater than characters <quote>&lt;></quote> are used to
enclose variable names.</p>
<p>Backslash <quote>\</quote> at the end of a line means that this line is
continued onto the next line.</p>
<p>The dollar sign <quote>$</quote> is the UNIX Korn (and Bourne) shell prompt.</p>
<p>The percent sign <quote>%</quote> is the UNIX C shell prompt.</p>
<p>The number sign <quote>#</quote> is the superuser prompt.</p>
<p>The number sign <quote>#</quote> is also used for comments.</p>
<p>A star <quote>*</quote> matches zero or more characters.</p>
<p>A question mark <quote>?</quote> matches one character.</p>
<p>A tilde <quote>~</quote> means the home directory of the current user.</p>
<p><resource-id type="file-path">&lt;BASEDIR></resource-id> is the installation
directory for NTF, for example <resource-id type="file-path">/apps/ntf</resource-id>.</p>
<p><resource-id type="file-path">&lt;NTF_HOME></resource-id> is the instance
directory for NTF, for example <resource-id type="file-path">/apps/ntf</resource-id> or <resource-id
type="file-path">/global/ms2/ntf</resource-id>. In a non-HA system, <resource-id
type="file-path">BASEDIR</resource-id> and <resource-id type="file-path">NTF_HOME</resource-id> are
the same.</p>
</chl3>
</chl2>
</chl1>
<chl1><title>About the Component</title>
<p>NTF is a component within Messaging-over-IP that provides notification
services. For an overview of the NTF component, see <emph type="low">Messaging-over-IP
Overview</emph>.</p>
<chl2><title>Third Party Products</title>
<p>The NTF component includes software developed by the Apache Software Foundation
(http://www.apache.org/).</p>
<p>The NTF component includes software developed by the Hypersonic SQL Group
and The HSQL Development Group</p>
</chl2>
<chl2><title>SNMP Environment</title>
<p>The component includes the component specific NTF MIB, which has the following
OID:</p>
<p><resource-id type="file-path">enterprises.abcxyz.ipms.ipmsProducts.ntf</resource-id>(1.3.6.1.4.1.193.41.3.9).</p>
</chl2>
</chl1>
<chl1><title>Operation</title>
<p>Operation includes tasks as described in:</p>
<list type="unordered">
<list-item><p><xref linkend="startcmp"/></p>
</list-item>
<list-item><p><xref linkend="stopallcmp"/></p>
</list-item>
<list-item><p><xref linkend="restallcmp"/></p>
</list-item>
<list-item><p><xref linkend="statusallcmp"/></p>
</list-item>
<list-item><p><xref linkend="autostartcmp"/></p>
</list-item>
<list-item><p><xref linkend="lockcmp"/></p>
</list-item>
<list-item><p><xref linkend="autorecover"/></p>
</list-item>
</list>
<chl2><title xml:id="startcmp">Start NTF</title>
<p>The <resource-id type="file-path"> /etc/init.d/rc.ntf </resource-id> script
with argument <resource-id type="file-path">start</resource-id> can be used
to manually start the NTF component in a controlled way.  </p>
<step-list>
<sl-item><p>Become superuser (root).</p>
<p><input>% su -</input></p>
</sl-item>
<sl-item><p>Run the script with <input>start</input> option.</p>
<p><input># ./etc/init.d/rc.ntf start</input></p>
<p>The result should be like the following output:</p>
<p><output>NTF : &lt;host name> : result ok<nl/>NTF : &lt;host name> : info
ntfWatchdog started on PID: &lt;pid><nl/>#</output></p>
</sl-item>
</step-list>
</chl2>
<chl2><title xml:id="stopallcmp">Stop NTF</title>
<p>The <resource-id type="file-path"> /etc/init.d/rc.ntf </resource-id> script
with argument <resource-id type="file-path">stop</resource-id> can be used
to stop the NTF component.  </p>
<step-list>
<sl-item><p>Become superuser (root).</p>
<p><input>% su -</input></p>
</sl-item>
<sl-item><p>Run the script with <input>stop</input> option.</p>
<p><input># /etc/init.d/rc.ntf stop</input></p>
<p>The result should be like the following output:</p>
<p><output>NTF : &lt;host name> : result ok<nl/>NTF : &lt;host name> : info
ntfWatchdog process stopped.</output></p>
<p></p>
</sl-item>
</step-list>
</chl2>
<chl2><title xml:id="restallcmp">Restart NTF </title>
<p>The <resource-id type="file-path"> /etc/init.d/rc.ntf </resource-id> script
with argument <resource-id type="file-path">restart</resource-id> can be used
to restart NTF component. </p>
<step-list>
<sl-item><p>Become superuser (root).</p>
<p><input>% su -</input></p>
</sl-item>
<sl-item><p>Run the script with <input>restart</input> option.</p>
<p><input># /etc/init.d/rc.ntf restart</input></p>
<p>The result should be like the following output:</p>
<p><output>NTF : &lt;host name> : info ntfWatchdog process stopped.<nl/>NTF
: &lt;host name> : result ok<nl/>NTF : &lt;host name> : info ntfWatchdog started
on PID: &lt;pid><nl/>#</output></p>
</sl-item>
</step-list>
</chl2>
<chl2><title xml:id="statusallcmp">Check Status of NTF </title>
<p>The <resource-id type="file-path"> rc.ntf </resource-id> script with argument <resource-id
type="file-path">status</resource-id> can be used to check the status of the
NTF component.  </p>
<step-list>
<sl-item><p>Become superuser (root).</p>
<p><input>% su -</input></p>
</sl-item>
<sl-item><p>Run the script with <input>status</input> option.</p>
<p><input># /etc/init.d/rc.ntf status</input></p>
<p>The result can be one of the following,</p>
<p>After a <emph type="low">start</emph>:</p>
<p><output>NTF : &lt;host name> : status ntf started on PID: &lt;pid> (autostart) <nl/>NTF
: &lt;host name> : info ntfagent started on PID: &lt;pid> (autostart)<nl/>NTF
: &lt;host name> : info ntfWatchdog started on PID: &lt;pid> (autostart)<nl/>#</output></p>
<p>where <quote>(autostart)</quote> indicates that autostart is enabled, while <quote>(not
autostart)</quote> indicates that autostart is disabled.</p>
</sl-item>
</step-list>
</chl2>
<chl2><title xml:id="autostartcmp">Autostart  Enable/Disable</title>
<p>The autostart function makes NTF start automatically after boot.</p>
<p>The <resource-id type="file-path"> rc.ntf </resource-id> script with argument <resource-id
type="file-path">enableautostart</resource-id> or <resource-id type="file-path">disableautostart</resource-id> can
be used to enable or disable autostart of the NTF component. Autostart is
enabled during installation</p>
<chl3><title xml:id="enableautostartcmp">Enable Autostart</title>
<step-list>
<sl-item><p>Become superuser (root).</p>
<p><input># su -</input></p>
</sl-item>
<sl-item><p>Run the <input> rc.ntf </input> script with <input> enableautostart</input> as
argument.</p>
<p><input># /etc/init.d/rc.ntf enableautostart</input></p>
<p>The result can be one of the following:</p>
<p><output>NTF:&lt;host name>:result ok<nl/>NTF:&lt;host name>:info enableautostart
set</output></p>
<p>or (if already enabled):</p>
<p><output>NTF:&lt;host name>:result error enableautostart already set<nl/>NTF:&lt;host
name>:info S99ntf already exists<nl/>#</output></p>
</sl-item>
</step-list>
</chl3>
<chl3><title xml:id="disableautostartcmp">Disable Autostart</title>
<step-list>
<sl-item><p>Become superuser (root).</p>
<p><input># su -</input></p>
</sl-item>
<sl-item><p>Run the <resource-id type="file-path">rc.ntf </resource-id> script
with <input> disableautostart</input> as argument.</p>
<p><input># /etc/init.d/rc.ntf disableautostart</input></p>
<p>The result can be one of the following:</p>
<p><output>NTF:&lt;host name>:result ok<nl/>NTF:&lt;host name>:info disableautostart
set</output></p>
<p>or (if already disabled):</p>
<p><output>NTF:&lt;host name>:result error disableautostart already set<nl/>NTF:&lt;host
name>:info s99ntf already exists<nl/>#</output></p>
</sl-item>
</step-list>
</chl3>
</chl2>
<chl2><title xml:id="mcrunregistration">MCR Registration/Unregistration</title>
<p>During installation, NTF registers itself in the MCR.</p>
<p>If the MCR registration must be changed, for example if the version number
should be changed, change the <resource-id type="file-path">&lt;NTF_HOME>/cfg/ntf_cmp.cfg</resource-id> file,
and run the <resource-id type="file-path">&lt;BASEDIR>/bin/ntf_mcr_reg.sh</resource-id> script
with &lt;NTF_HOME> as input. MCR username and password is read from &lt;NTF_HOME>/cfg/notification.cfg.</p>
<chl3><title>MCR Registration</title>
<p><input># &lt;BASEDIR>/bin/ntf_mcr_reg.sh -d &lt;NTF_HOME></input>  				</p>
<p><preform>NTF registered succesful
#</preform></p>
</chl3>
<chl3><title>MCR Unregistration</title>
<p><input># &lt;BASEDIR>/bin/ntf_mcr_unreg.sh -d &lt;NTF_HOME></input>  	
		</p>
<p><preform>NTF unregistered succesful
#</preform></p>
</chl3>
</chl2>
<chl2><title>User Registrations</title>
<chl3><title xml:id="registergnotification">Mailboxes registration/unregistration</title>
<p>During installation, NTF registers a number of gnotification mailboxes
in MUR. The Message Store then uses these mailboxes to store the notifications
in. NTF then fetches the notifications from the mailboxes in Message Store.</p>
<p>If the number of mailboxes must be changed, or if the registrations failed
during installation, the gnotification mailboxes can be registered/unregistered
manually.</p>
<p>The number of mailboxes are defined by the <emph>IMAPThreads</emph> parameter
in <resource-id type="file-path">&lt;NTF_HOME>/cfg/notification.cfg</resource-id>.
If this parameter isn't defined, the default value will be used.</p>
<p>Username and password for MUR is read from <resource-id type="file-path">&lt;NTF_HOME>/cfg/notification.cfg</resource-id>,
or default it the parameter is not changed.</p>
<p>NTF will also register a notification.off user in the MUR during installation.
This user is used by other components to send notification.off messages to
NTF. If the NTF for example failed to register this user during installation,
it can be done manually.</p>
<p>The script will only update MUR if there will be any changes. Both gnotifications
and notification.off is handled in the same call.</p>
<p>So, if the gnotification mailboxes should be 3, just edit/add the <emph>IMAPThreads</emph> parameter
and give it the value <emph>3</emph>. Then run the mur registration script.</p>
<chl4><title>User Registration</title>
<p><input># ./&lt;BASEDIR>/bin/ntf_mur_reg.sh -d &lt;NTF_HOME></input></p>
<p><preform>Gnotification registration
**************************
gnotification3_0 registered. 
gnotification3_1 registered. 
gnotification3_2 registered. 
GNotification registered successful

Notification.off registration
*****************************
&lt;notification.off user> registered. 
Notification.off registration successful


#</preform></p>
</chl4>
<chl4><title>User Unregistration</title>
<p><input># ./&lt;BASEDIR>/bin/ntf_mur_unreg.sh -d &lt;NTF_HOME></input></p>
<p><preform>Gnotification unregistration
**************************
gnotification3_0 removed. 
gnotification3_1 removed. 
gnotification3_2 removed. 
GNotification unregistered successful

Notification.off unregistration
*****************************
&lt;notification.off user> removed. 
Notification.off unregistration successful
#</preform></p>
</chl4>
</chl3>
</chl2>
<chl2><title xml:id="autorecover">Auto Recover</title>
<p>NtfWatchdog is used to start up the NTF in case the NTF processes stop,
due to an unexpected process termination or crash.</p>
</chl2>
</chl1>
<chl1><title>Preventive Maintenance</title>
<p>Preventive maintenance means regularly performed measures to prevent faults
from occurring and to reduce the time needed to correct faults. Measures are
described in:</p>
<list type="unordered">
<list-item><p><xref linkend="bckup"/></p>
</list-item>
<list-item><p><xref linkend="vstatmib"/></p>
</list-item>
<list-item><p><xref linkend="vdynmib"/></p>
</list-item>
<list-item><p><xref linkend="mdsksp"/></p>
</list-item>
</list>
<chl2><title xml:id="bckup">Backup</title>
<p>It is important to back up the NTF component to be able to restore the
component in the event of a severe failure such as power failure, hard disk
problems, or if the component stops functioning.</p>
<p>The consequences of not backing up the component can for example be that
it may not be possible to rollback to a previous version, and in the event
of a severe failure with a following reinstallation of the software, the configurations
may not match.</p>
<p>A backup should be taken:</p>
<list type="unordered">
<list-item><p>Prior to any installation, upgrade or rollback.</p>
</list-item>
<list-item><p>Any time the configuration has been changed.</p>
</list-item>
</list>
<p>The following files are recommended to back up:</p>
<table indent="left-margin">
<caption>Files to back up.</caption>
<tgroup cols="4" align="left" char="" charoff="50"><colspec colname="col1"/>
<colspec colname="col2"/><colspec colname="col3"/><colspec colname="col4"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>File/Directory</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Contents</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Time recommended</tp></entry>
<entry colname="col4" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Consequence of loss</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp> 				<resource-id
type="file-path">&lt;NTF_HOME>/cfg/ notification.cfg</resource-id></tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See: <xref
linkend="notcfg"/></tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Installation.
Upgrade. Rollback.</tp>
</entry>
<entry colname="col4" colsep="1" rowsep="1" char="" rotate="0"><tp>Since each
installation has a different configuration, loss of this file may result in
incorrect operation, such as connecting to the wrong message store or reading
from the wrong notification mailbox.</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp><resource-id type="file-path">&lt;NTF_HOME>/cfg/ systemnotification.cfg</resource-id></tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>See: <xref linkend="systemnotifcfg"/></tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Installation. Upgrade. Rollback.</tp>
</entry>
<entry colname="col4" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>System notifications will not work without this file.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp> 				<resource-id
type="file-path">&lt;NTF_HOME>/ templates/*</resource-id></tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See: <xref
linkend="phrasefiles"/></tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Installation.
Upgrade. Rollback.</tp>
</entry>
<entry colname="col4" colsep="1" rowsep="1" char="" rotate="0"><tp>All NTF
messages for to the user will be simple messages in English. </tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp><resource-id type="file-path">&lt;NTF_HOME>/logs/ Notification
Trace.log</resource-id></tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>See: <xref linkend="inslog"/></tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>After an error has occurred.</tp>
</entry>
<entry colname="col4" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Information for tracing an error in NTF may be lost.</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp><resource-id type="file-path">&lt;NTF_HOME>/logs/ ntfagent.log</resource-id></tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>See: <xref linkend="inslog"/></tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>After an error has occurred.</tp>
</entry>
<entry colname="col4" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Important information for tracing an error in NTF may be
lost.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>All files
in NTFs data directory &lt;NTF_HOME>/data</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>These files
contain journal files and databases with information about notifications that
have not yet been delivered.  They also contain persistent management information
from the NTF MIB.</tp>
<tp> When NTF is started, the state of NTFs pending notifications is reconstructed
from this file.</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Upgrade.
Rollback</tp>
</entry>
<entry colname="col4" colsep="1" rowsep="1" char="" rotate="0"><tp>Old, not
completed outdial notifications and reminders will be lost.<tnote type="specific">If
this is acceptable, you do not need to restore these files.</tnote></tp>
<tp>Slamdown information for slamdownlist will be lost.</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
<chl3><title>Backup Script</title>
<p>Run the script <resource-id type="file-path">bckntfconfig.sh</resource-id> to
backup the NTF files in the table above. The files are added to a tar file
named <resource-id type="file-path">NTF.&lt;instancename>.backup.tar</resource-id>,
where <resource-id type="file-path">instancename</resource-id> is the value
of the parameter <resource-id type="file-path">MCR_INSTANCE_NAME</resource-id> in <resource-id
type="file-path">notification.cfg</resource-id> (e.g. <input>ntf1@host.domain</input>).
The script writes out the location of the created tar file to <output>stdout</output>.</p>
<p>In a <emph>standard system</emph>, the script is located in <resource-id
type="file-path">/apps/moipbackup/bckntfconfig.sh</resource-id></p>
<p>In a <emph>HA-system</emph>, the script is located in <resource-id type="file-path">&lt;NTF_HOME>/moipbackup/bckntfconfig.sh</resource-id>.
To back up all NTF instances on a cluster node, you must run the script once
for each instance.</p>
</chl3>
</chl2>
<chl2><title xml:id="vstatmib">View Static Data in MIB</title>
<p>Static parameter values are not updated by the component during operation.
The static parameters defined by the NTF MIB can be divided into groups as
described in:</p>
<list type="unordered">
<list-item><p><xref linkend="vstatmibntf"/></p>
</list-item>
<list-item><p><xref linkend="vstatmibconsumedservice"/></p>
</list-item>
</list>
<p>For instructions on how to view static MIB parameters, see <emph type="low">MIB
Management User's Guide</emph>, or see the documentation supplied with your
SNMP management tool.</p>
<chl3><title xml:id="vstatmibntf">NTF</title>
<p>The NTF MIB defines the following static parameters for the NTF:</p>
<table indent="column">
<caption>NTF MIB Static Parameters</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Parameter</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Type</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>ntfName</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>DisplayString</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Name of the NTF(as in MCR).</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>ntfVersion</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>DisplayString</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Version of the NTF.</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>ntfInstallDate</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>TimeStamp</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Date and time when the current version of the
NTF was last installed or upgraded.</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title xml:id="vstatmibconsumedservice">Consumed Service</title>
<p>For NTF, a consumed service is an output interface. Each type of output
is one consumed service, SMS is one consumed service, MMS another etc. If
all SMSCs are working, that consumed service is up. If some of the SMSCs are
not working, the cosumed service is impaired, and if all SMSCs are down, the
consumbed service is down.</p>
<p>The NTF MIB defines the following static parameters for the consumed service
within the NTF:</p>
<table indent="column">
<caption>NTF MIB Consumed Service Static Paramers</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Parameter</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Type</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>ntfConsumedServiceName</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>DisplayString</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The name of the ntfConsumedService entry</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>ntfConsumedServiceIndex</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>INTEGER</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>The index
for the service</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>Consumed Service Instance</title>
<p>NTF reports server instances that are not working (status is down). The
instance is added if the status is changed from up. The instance is removed
if the status is turned up again.</p>
<p>The NTF MIB defines the following static parameters for the consumed service
instance within the NTF:</p>
<table indent="column">
<caption>NTF MIB Consumed Service Instance Static Parameters</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Parameter</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Type</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>ntfConsumedServiceInstanceName</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>DisplayString</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The name of the ntfConsumedService entry</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>ntfConsumedServiceInstanceIndex</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>INTEGER</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>The index
for the instance</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>ntfConsumedServiceIndex</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>INTEGER</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>The index
for the service</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>ntfConsumedServiceInstanceHostname</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>DisplayString</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>The host
for this instance</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>ntfConsumedServiceInstancePort</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>INTEGER</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>The port
for this instance</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>ntfConsumedServiceInstanceZone</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>DisplayString</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>The logical
zone for this instance</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
</chl2>
<chl2><title xml:id="vdynmib">View Dynamic Data in MIB</title>
<p>Dynamic parameter values may be updated by the component during operation.
The dynamic parameters defined by the NTF MIB can be divided into groups as
described in:</p>
<list type="unordered">
<list-item><p><xref linkend="vdynmibntf"/></p>
</list-item>
<list-item><p><xref linkend="vdynmibconsumedservice"/></p>
</list-item>
</list>
<p>For instructions on how to view dynamic MIB parameters, see <emph type="low">MIB
Management User's Guide</emph>, or see the documentation supplied with your
SNMP management tool.</p>
<chl3><title xml:id="vdynmibntf">NTF</title>
<p>The NTF MIB defines the following dynamic parameters for the NTF:</p>
<table indent="column">
<caption>NTF MIB Dynamic Parameters</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Parameter</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Type</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>ntfOperationalState</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>INTEGER</tp>
<tp>1=enabled, 2=disabled </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Indicates if the NTF is in operation. The NTF
may be disabled if mailboxPollerStatus is inactive or all notification consumed-services
are down.</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>ntfCurrentUpTime</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>TimeStamp</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Time (in hundreds of a second) the NTF has been
running since it was last restarted or put into enabled state.</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>ntfAccumulatedUpTime</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>TimeStamp</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Total time (in hundreds of a second) the NTF has
been in enabled state since the installation date.</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>ntfNotifInQueue</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>INTEGER </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>The total number of external notifications that
are queued to be handled.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>ntfNotifForRetry</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>INTEGER </tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>The total
number of external notifications in queue that are stored for retry.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>ntfInternalQueues</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>INTEGER </tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>The total
number of notifications that NTF has received and started processing, but
not yet delivered to the subscriber.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>ntfMailboxPollerStatus</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>INTEGER </tp>
<tp>1=active, 2=inactive</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>This parameter
indicates if NTF can read new messages.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>ntfLogLevel</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>INTEGER</tp>
<tp>0=none, 1=errors, 2=verbose, 3=debug</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>This parameter
controls the amount of logging in NTF.</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title xml:id="vdynmibconsumedservice">Consumed Service</title>
<p>The NTF MIB defines the following dynamic parameters for the management
and monitoring subsystem within the NTF :</p>
<table indent="column">
<caption>NTF MIB Consumed Service Dynamic Parameters</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1.5*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Parameter</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Type</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>ntfConsumedServiceStatus</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>INTEGER</tp>
<tp>1=up, 2=down, 3=impaired</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Denotes whether the service is up, down or impaired.
up indicates that all consumed services are accessible. down indicates that
all consumed services are not accessible. impaired indicates that one or more,
but not all consumed services are accessible.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>ntfConsumedServiceTime</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>INTEGER </tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>The number
of seconds since the last change of service status.</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>ntfConsumedServiceNumSuccess</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>INTEGER</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>The total number of successfully notifications
sent to service</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>ntfConsumedServiceNumFailures</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>INTEGER</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>The total number of notifications with failures
sent to service</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
</chl2>
<chl2><title xml:id="mdsksp">Manage Disk Space</title>
<p>There is no need to clean old files created by NTF.</p>
<p>The data in the data directory <resource-id type="file-path">&lt;NTF_HOME>/data</resource-id> does
not grow over time. The log files automatically roll over to a .sav file when
reaching the maximum log file size, which is 1 MB by default.</p>
<p>The amount of data stored is not large (a few hundred megabytes), but if
there is little disk available, you can review the size of data files when
a new system has been running fo a while, to see how much data is need for
this systems particular traffic pattern.</p>
</chl2>
<chl2><title>Self Diagnostics</title>
<p>The Self Diagnostics simplifies some of the regular preventive health checks
needed to keep the Messaging-over-IP system operational.</p>
<p>Self Diagnostics is described in <resource-id type="file-path">Operation
and Maintenance Messaging-over-IP</resource-id></p>
<chl3><title>Self Diagnostics test cases for the NTF component</title>
<p>Below is a decription of the NTF specific test cases in Self Diagnostics:</p>
<p>(M) for mandatory or (C) for conditional.</p>
<p><emph>ntf.env.ver.gen</emph> Registered version (C)</p>
<p><emph>ntf.env.conf.cons.gen</emph> Checks that config parameter is correct
(M)</p>
<p><emph>ntf.env.data.datadir</emph> Checks that the datadirectory is writable
(M)</p>
<p><emph>ntf.env.data.free</emph> Checks that the datadirectory has enough
free space (M)</p>
<p><emph>ntf.env.data.slamdown_journal_size</emph> Checks the size of the
slamdown_journal file (M)</p>
<p><emph>ntf.env.data.database_files</emph> Checks for needed database files
(M)</p>
<p><emph>ntf.env.data.dbsize</emph> Checks the size of the database files
(C)</p>
<p><emph>ntf.info.extra</emph> Extra info from log files (C)</p>
<p><emph>ntf.env.conf.dirdns.gen</emph> Checks DNS alias for directory access
(C)</p>
<p><emph>ntf.env.conf.static.sieve_filter</emph> Checks that the sieve filter
is the same in MS and NTF (M)</p>
<p><emph>ntf.fun.perf.op.gen</emph> Operational state (M)</p>
<p><emph>ntf.fun.perf.adm.gen</emph> Administrative state (C)</p>
<p><emph>ntf.fun.perf.loglev.gen</emph> Checks the log level (M)</p>
<p><emph>ntf.fun.perf.logerr.NotificationTrace_log.gen</emph> Checks for error
in logfile (C)</p>
<p><emph>ntf.fun.perf.pr.all.gen</emph> Checks processinformation (C)</p>
<p><emph>ntf.fun.perf.core.gen</emph> Checks for core files (C)</p>
<p><emph>ntf.fun.perf.gnotsize</emph> Check the size of notification mailboxes
(C)</p>
<p><emph>ntf.fun.perf.gnotdiff</emph> Check that all notification mailboxes
are polled, and that messages are deleted (M)</p>
<p><emph>ntf.fun.perf.threads</emph> Collect thread status and check for java
level deadlocks in the notification process (M)</p>
<p><emph>ext.ntp.gen</emph> NTP synchronization (M)</p>
<p><emph>ntf.ext.cs.status.multimediamessage.gen</emph> Status for consumed
service MultimediaMessage (C)</p>
<p><emph>ntf.ext.cs.status.wapgateway.gen</emph> Status for consumed service
WapGateway (C)</p>
<p><emph>ntf.ext.cs.status.pagernotification.gen</emph> Status for consumed
service PagerNotification (C)</p>
<p><emph>ntf.ext.cs.status.callmwinotification.gen</emph> Status for consumed
service CallMwiNotification (C)</p>
<p><emph>ntf.ext.cs.status.outdialnotification.gen</emph> Status for consumed
service OutdialNotification (C)</p>
<p><emph>ntf.ext.cs.status.shortmessage.gen</emph> Status for consumed service
ShortMessage (C)</p>
<p><emph>ntf.ext.cs.status.externalsubscriberinformation.gen</emph> Status
for consumed service ExternalSubscriberInformation (C)</p>
<p><emph>ntf.ext.cs.failure.multimediamessage.gen</emph> Unsuccessful requests
for consumed service MultimediaMessage (C)</p>
<p><emph>ntf.ext.cs.failure.wapgateway.gen</emph> Unsuccessful requests for
consumed service WapGateway(C)</p>
<p><emph>ntf.ext.cs.failure.pagernotification.gen</emph> Unsuccessful requests
for consumed service PagerNotification (C)</p>
<p><emph>ntf.ext.cs.failure.callmwinotification.gen</emph> Unsuccessful requests
for consumed service CallMwiNotification (C)</p>
<p><emph>ntf.ext.cs.failure.outdialnotification.gen</emph> Unsuccessful requests
for consumed service OutdialNotification (C)</p>
<p><emph>ntf.ext.cs.failure.shortmessage.gen</emph> Unsuccessful requests
for consumed service ShortMessage (C)</p>
<p><emph>ntf.ext.cs.failure.externalsubscriberinformation.gen</emph> Unsuccessful
requests for consumed service ExternalSubscriberInformation (C)</p>
</chl3>
<chl3><title>Self Diagnostics data collection for the NTF component</title>
<p>This section describes the data collected by Self Diagnostics when started
with the -c switch. The assembled data is stored in a compressed archive file,
see <resource-id type="file-path">Operation and Maintenance Messaging-over-IP</resource-id> for
more details. The data-file is stored in /apps/selfdiag/ntf and named selfdiag_&lt;TIMESTAMP>.tar.gz.
For example</p>
<p>/apps/selfdiag/ntf/selfdiag_2006_11_01_164230.tar.gz.</p>
</chl3>
</chl2>
</chl1>
<chl1><title>Corrective Maintenance</title>
<p>Corrective maintenance means fault tracing and correction. Measures are
described in:</p>
<list type="unordered">
<list-item><p><xref linkend="mtraps"/></p>
</list-item>
<list-item><p><xref linkend="rdata"/></p>
</list-item>
<list-item><p><xref linkend="inslog"/></p>
</list-item>
<list-item><p><xref linkend="cconmib"/></p>
</list-item>
<list-item><p><xref linkend="cconfil"/></p>
</list-item>
</list>
<chl2><title xml:id="mtraps">Monitor Traps and Correct Faults</title>
<p>The NTF MIB defines SNMP traps that can be sent from the NTF component,
which are described in:</p>
<list type="unordered">
<list-item><p><xref linkend="ntfstart"/></p>
</list-item>
<list-item><p><xref linkend="ntfstop"/></p>
</list-item>
</list>
<chl3><title xml:id="ntfstart">ntfStarted</title>
<p>The <output>ntfStarted</output> trap (OID: 1.3.6.1.4.1.193.41.3.9.2.1)
is issued when the NTF component is started. It reports:</p>
<list type="alphabetic">
<list-item><p>The operational state of the NTF ( <quote>ntfOperationalState</quote>). </p>
</list-item>
<list-item><p>The administrative state of the NTF ( <quote>ntfAdministrativeState</quote>).</p>
</list-item>
</list>
</chl3>
<chl3><title xml:id="ntfstop">ntfStopped</title>
<p>The <output>ntfStopped</output> trap (OID: 1.3.6.1.4.1.193.41.3.9.2.2)
is issued when the NTF component is stopped. It reports:</p>
<list type="alphabetic">
<list-item><p>The operational state of the NTF ( <quote>ntfOperationalState</quote>). </p>
</list-item>
<list-item><p>The administrative state of the NTF ( <quote>ntfAdministrativeState</quote>).</p>
</list-item>
</list>
</chl3>
</chl2>
<chl2><title xml:id="rdata">Restore Data</title>
<p>For information on how to rollback the NTF installation to a previous version,
see <emph type="low">Installation Guide NTF</emph>, section <emph type="low">Rollback</emph>.</p>
<chl3><title>Restore Instance Data</title>
<p>To restore NTF instance data from a backup:</p>
<step-list>
<sl-item><p>Stop the NTF you want to restore configuration data for.</p>
<p>See <xref linkend="stopallcmp"/>.</p>
</sl-item>
<sl-item><p>Move to the &lt;NTF_HOME> directory.</p>
<p><input># cd &lt;NTF_HOME></input></p>
</sl-item>
<sl-item><p>Locate the tape archive ( <emph type="low">tar-file</emph>) that
was created when NTF was backed up. It may have been compressed by the backup
tools, and must then be uncompressed:</p>
<p>If the file is called *.Z, uncompress it with the uncompress command.</p>
<p>If the file is called *.gz, uncompress it with the gunzip command.</p>
</sl-item>
<sl-item><p>Copy the tape archive ( <emph type="low">tar-file</emph>) to &lt;NTF_HOME></p>
<p><input># cp &lt;tar-file> &lt;NTF_HOME></input></p>
</sl-item>
<sl-item><p>Either make a full restore from the tape archive ( <emph type="low">tar-file</emph>)
or make a partial restore by defining which files that should be restored.</p>
<p><input># tar xvf &lt;tar-file></input></p>
<p>or</p>
<p><input># tar xvf &lt;tar-file> &lt;files_to_extract></input></p>
</sl-item>
<sl-item><p>If the backup were taken on a different host, than it is restored
on, the following parameters in <resource-id type="file-path">&lt;NTF_HOME>/cfg/notification.cfg</resource-id> must
be manually configured.</p>
</sl-item>
</step-list>
<table indent="column">
<caption>Parameters that must be manually configured in notification.cfg</caption>
<tgroup cols="2" char="" charoff="50"><colspec colname="col1"/><colspec colname="col2"/>
<tbody>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp> <emph>Parameter</emph> </tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp> <emph>Description</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MCR_INSTANCE_NAME</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>This value
must be changed to apply to the current hostname.</tp>
<tp> <emph>Example: {ntf1@hostname.domainname}</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>IMAPHost</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Defines
which Message Store this NTF should run towards.</tp>
<tp> <emph>Example: {ms.domainname}</emph> </tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
<step-list reset="no">
<sl-item><p>If you restore data files from a NTF where the file names includes
an instance number, you must then manually rename the restored data files:</p>
<p><input># mv outdial.&lt;inst_nr>.journal outdial.journal</input></p>
<p><input># mv outdial.&lt;inst_nr>.journal.second outdial.journal.second</input></p>
</sl-item>
<sl-item><p>Restart the NTF  to make configuration take effect.</p>
<p>See <xref linkend="startcmp"/>.</p>
</sl-item>
</step-list>
</chl3>
</chl2>
<chl2><title>Monitoring Communication with Snoop</title>
<p>The command snoop can be used to monitor communication between the NTF
host and other hosts. It is probably most useful for monitoring the communication
with the SMSC, with ESI, MVAS/MAS and with ESS. Since the MS is usually on
the same host as NTF, the communication between NTF and MS can not be monitored
this way.</p>
<p>A full description of the snoop command is found in the man page for snoop.
Examples of usage that are useful with NTF are:</p>
<p><input># snoop tcp port portno</input> 				</p>
<p>Snoop displays, in a brief text format, all TCP communication to and from
the port. If the port number of an SMSC is used for example, you will see
information about TCP packets to and from the SMSC. If the port number is
used for XMP communication, you will see traffic to and from ESIs and MVAS/MASes.
If the port is used for event sending you will see traffic to and from the
ESS.</p>
<p><input>snoop -o filename tcp port portno</input> 				</p>
<p>Snoop logs TCP communication to and from the designated port in a binary
file. This file can then be analyzed with some protocol analyzer. More information
is available in the binary format and protocol analyzers usually understand
the SMPP protocol used to communicate with SMSCs and HTTP which is used for
XMP, so it is easier to analyze the communication that way. Snoop itself can
also be used to view, in text format, the content of the binary file, with
the command</p>
<p><input># snoop -i filename</input> 				</p>
</chl2>
<chl2><title xml:id="inslog">Log Files</title>
<p>The NTF log files reside in the directory <resource-id type="file-path"> &lt;NTF_HOME>/logs</resource-id>.
The log files can also be accessed from the MoIP log directory <resource-id
type="file-path"> /apps/logs/ntf</resource-id>, through the symbolic link: <resource-id
type="file-path">ntf.logdir</resource-id>.</p>
<p>The NTF component maintains the following log files:</p>
<table indent="column">
<caption>NTF Log Files</caption>
<tgroup cols="2" char="" charoff="50"><colspec colname="col1"/><colspec colname="col2"/>
<tbody>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp> <emph>File</emph></tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp> <emph>Description</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>NotificationTrace.log</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Contains
error and debug messages for the notification process.</tp>
<tp>This file can also be placed somewhere else, by defining the parameter
LogFile in notification.cfg</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>NotificationProcess.log</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Contains
initialization and error messages for the notification process.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>ntfagent.log</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Contains
log information for management and monitoring.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>error.log</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Contains
information about some serious errors concerning the NTF database for outdial
notifications and reminders.</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
<chl3><title xml:id="descnottracelog">Description of NotificationTrace.log</title>
<p>The format of each entry in the <resource-id type="file-path">NotificationTrace.log</resource-id> file
is:</p>
<p><output>&lt;Date-Time> [&lt;Log Level>] [&lt;Thread Name>] &lt;Message></output> 
				</p>
<p>where:</p>
<p><output>&lt;Date-Time></output> indicates when the system has encountered
the event.</p>
<p><output>&lt;Log Level></output> indicates the type of event, e.g. Error.</p>
<p><output>&lt;Thread Name></output> indicates the name of the current Thread,
e.g. Thread-10.</p>
<p><output>&lt;Message></output> further describes the event.</p>
<p>Each entry is on a separate line. Here follows an example of an entry in
the log file:</p>
<p><preform>&lt;date> [ Error ] [EventSender-Thread] Problem sending \
to MER Info: Preferred RadiusServer is: &lt;host name> at \
port: 1813</preform></p>
<p><emph>The only log level that should be used during operation is Error</emph>.
Error indicates that an error has occurred in the system.</p>
</chl3>
<chl3><title>Description of ntfagent.log</title>
<p>The format of each entry in the <resource-id type="file-path">ntfagent.log</resource-id> file
is:</p>
<p><output>&lt;Date-Time>|&lt;pid>|[&lt;Log Level>]|&lt;source>: &lt;Message></output> 
				</p>
<p>where:</p>
<p><output>&lt;Date-Time></output> indicates when the system has encountered
the event.</p>
<p>&lt;pid> indicates the process ID of the source</p>
<p><output>&lt;Log Level></output> indicates the type of event, i.e. Error
or Verbose.</p>
<p>&lt;source> indicates which sub-part of NTF that generated the event.</p>
<p><output>&lt;Message></output> further describes the event.</p>
<p>Each entry is on a separate line.</p>
<example condensed="yes" indent="column">
<caption>ntfagent.log</caption>
<preform>2000-03-14 11:51:31.194 + 0100|531|Information|AgentThread:
Sending start trap.</preform>
</example>
</chl3>
<chl3><title>Description of NotificationProcess.log</title>
<p>The <resource-id type="file-path"> NotificationProcess.log </resource-id> lists
error messages that are directed to <resource-id type="file-path">standard
error</resource-id>. This file is normally empty, since errors are logged
in <resource-id type="file-path">NotificationTrace.log</resource-id>.</p>
<p>Errors are logged in <resource-id type="file-path">NotificationProcess.log</resource-id> if
they occur during the startup phase before proper logging has been established,
and some low-level errors java may also occur there.</p>
</chl3>
<chl3><title>Description of error.log</title>
<p>The format of each entry in the <resource-id type="file-path">error.log</resource-id> file
is:</p>
<p><output>&lt;Date-Time> &lt;Message></output></p>
<p>where:</p>
<p><output>&lt;Date-Time></output> indicates when the system has encountered
the event.</p>
<p><output>&lt;Message></output> further describes the event.</p>
<p>Each entry is on a separate line.</p>
</chl3>
</chl2>
<chl2><title>Control NTF Through the MIB</title>
<chl3><title xml:id="lockcmp">Lock/Unlock Component</title>
<p>This following parameter in the NTF-MIB controls the behaviour of the started
component.</p>
<table indent="column">
<caption>NTF Administrative States</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Parameter</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>value</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="2" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>ntfAdministrativeState</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>In the unlocked state, NTF processes  notifications
to the end users</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>1=unlocked</tp>
</entry>
</row>
<row>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>In the locked state, NTF does not process  notifications
to the end users</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>2=locked</tp>
</entry>
</row>
<row>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>In the shutdown state, NTF starts to finish all
ongoing operations and is smoothly going to the locked state</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>3=shutdown</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
<p>The ntfAdministrativeState MIB attribute value can be changed by using
a SNMP management tool.</p>
<p>For instructions on how to change the value of a parameter in the MIB,
see <emph type="low">MIB Management User's Guide</emph>, or see the documentation
supplied with your SNMP management tool.</p>
</chl3>
<chl3><title xml:id="cconmib">Change Configuration Parameters in MIB</title>
<p>The following parameters in the NTF-MIB control the behaviour of the started
component.</p>
<table indent="column">
<caption>NTF MIB Changeable Values</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Parameter</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>value</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>ntfLoadConfig</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>1=active</tp>
<tp>2=inactive</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>If this
variable is set to active, NTF configuration file is reloaded. After the reload
is done, the value is set to inactive</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>LogLevel</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>0=No logging</tp>
<tp>1=Error</tp>
<tp>2=Verbose</tp>
<tp>3=Debug</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>This variable
has the same effect as changing the LogLevel parameter, but is effective immediately,
without restarting NTF.</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
<p>The MIB attribute value can be changed by using a SNMP management tool.</p>
<p>For instructions on how to change the value of a parameter in the MIB,
see <emph type="low">MIB Management User's Guide</emph>, or see the documentation
supplied with your SNMP management tool.</p>
</chl3>
</chl2>
<chl2><title xml:id="cconfil">Change Configuration Parameters in File</title>
<p>The NTF component uses the configuration files as described in:</p>
<list type="unordered">
<list-item><p><xref linkend="notcfg"/></p>
</list-item>
<list-item><p><xref linkend="mcraddon"/></p>
</list-item>
<list-item><p><xref linkend="phrasefiles"/></p>
</list-item>
<list-item><p><xref linkend="systemnotifcfg"/></p>
</list-item>
<list-item><p><xref linkend="xmperrorcodes"/></p>
</list-item>
</list>
<chl3><title xml:id="notcfg">notification.cfg</title>
<p>The <resource-id type="file-path"> notification.cfg </resource-id> configuration
file can be used to configure most of the NTF functions. </p>
<p>The file will probably only be set once, at installation time. The file
is read at start up. Changes to this file will not take effect until NTF is
restarted or NTF is instructed to reload the file through the MIB management
interface. Back up the file prior to an upgrade or new installation of the
NTF, otherwise the configuration parameter values will be lost.</p>
<p>The <resource-id type="file-path"> notification.cfg </resource-id> file
is by default located in the directory:</p>
<p><resource-id type="file-path"> &lt;NTF_HOME>/cfg</resource-id>  				</p>
<p>The format is: <quote> &lt;Parameter>=&lt;Value></quote></p>
<p>The name of all parameters is case insensitive</p>
<p>The tables below show which configuration parameters in the <resource-id
type="file-path"> notification.cfg </resource-id> file that can be changed.
Some of these parameters are, by default, not present in the file. To change
the value for such a parameter (from the default value), you just have to
add a line in the file that defines a new value for the parameter.</p>
<p>There is a tool that can analyze and clean the NTF configuration file.
It is described in <xref linkend="checkconfig"/>.</p>
</chl3>
<chl3><title xml:id="mcraddon">MCRAddon.xml</title>
<p>The MCRAddon.xml file can be used to configure extra parameters for MCR
components.</p>
<p>When NTF reads a component from MCR it also checks this file for extra
parameters for that component. If the component doesn't exists in this file
no additional parameters are read.</p>
<p>MCRAddon.xml must be located in &lt;NTF_HOME>/cfg to be read. If it don't
exists there, no components addons will be used, but there will be no errors.</p>
<p>The file is an xml document in the following format.</p>
<p><preform>&lt;register>
 &lt;service name="ShortMessage">
  &lt;component name="SMSCA">
   &lt;username>USERNAME&lt;/username>
   &lt;password>PASSWORD&lt;/password>
   &lt;systemtype>SYSTEMTYPE&lt;/systemtype>
  &lt;/component>

  &lt;component name="SMSCB">
   ...
  &lt;/component>
 &lt;/service>

 &lt;service name="SERVICETYPE">
  ...
 &lt;/service>
&lt;/register></preform></p>
</chl3>
<chl3><title xml:id="xmperrorcodes">XmpErrorCodes.cfg</title>
<p>NTF handles XMP results in two stages. The result first goes to a handler
for the general cases which will pass the result on to a more intelligent
handler if necessary. If the result shall be regarded as a success or failure
for the consumed service is always determined by the general handler.</p>
<p>The operation of the general handler is controlled by the configuration
in XmpErrorCodes.cfg, which tells NTF how to react on different XMP error
codes. There are general settings for all XMP services, which can be overridden
by individual settings for each XMP service.</p>
<p>The file can have one common section and one section for each service.
All sections are optional. Each section starts with a heading consisting of
the service name within square brackets, followed by one or more XMP code-action
pairs. A line beginning with a hash mark is a comment.</p>
<p>The XMP codes can be any number allowed in the XMP protocol.  </p>
<p>The actions can be</p>
<list type="unordered">
<list-item><p>remove. Retry this XMP service request on the next available
XMP server. Stop using the current XMP server. NTF checks for unavailable
servers at a regular interval and making the servers availible again. The
interval time is defined in the parameter mcrExpiryTime. This count a failure
for this consumed service.</p>
</list-item>
<list-item><p>next. Retry this XMP service request on the next available XMP
server. Continue to consider the current XMP server as available. This count
a failure for this consumed service.</p>
</list-item>
<list-item><p>report. Forward this result to the specialized result handler
for the service. This count a failure for this consumed service.</p>
</list-item>
<list-item><p>pass. Forward the result to the specialized result handler for
the service. This count a success for this consumed service.</p>
</list-item>
</list>
<example condensed="yes" indent="column">
<caption>Example of XmpErrorCodes.cfg</caption>
<preform>#XMP error handling for NTF
[ common ]
408=next
421=remove
500=report
501=report
502=next
521=remove

[ outdialnotification ]
513=remove

[ pagernotification ]
503=remove
513=remove

[ callmwinotification ]
513=remove</preform>
</example>
</chl3>
<chl3><title>SMPPErrorCodes.cfg</title>
<p>Configuration for error actions for the SMPP protocol. Each error code
from the SMPP PDU can have an error action such as "retry" or "failed". The
SMPP error codes can be configured for actions in the file &lt;NTF_HOME>/cfg/SMPPErrorCodes.cfg.
Error codes not specified in the file will use the action configured in the
default field.</p>
<p>The actions are:</p>
<list type="unordered">
<list-item><p>retry. The errorcode will be handled as a temporary error and
the notification will be resent later. The mail in the gnotification mailbox
will be marked for retry and is fetched the next time NTF reads mails marked
for retry.</p>
</list-item>
<list-item><p>failed. The errorcode will be handles as a permanent error and
the notification will not be retried.</p>
</list-item>
</list>
<example condensed="yes" indent="column">
<caption>Example of SMPPErrorCodes.cfg</caption>
<preform>## SMPP error code actions
#  Add an SMPP error code with action if you want 
#  another behaviour than the default action.
#
#  Format:
#  &lt;error code>=&lt;action>
#  where action can be equal to "retry" or "failed"

default=failed

# Throttling error
0x00000058=retry

# Message Queue Full
0x00000014=retry</preform>
</example>
<note><p>The configuration parameters SmscErrorAction and <nl/>SmppErrorCodesIgnored
will override the configuration in <nl/>file &lt;NTF_HOME>/cfg/SMPPErrorCodes.cfg.</p>
</note>
</chl3>
</chl2>
<chl2><title xml:id="phrasefiles">Configuring Notification Templates for Different
Languages</title>
<p>When a notification is sent as an SMS, WAP Push or E-mail, the message
text is generated from a template. The template defines a text, which can
include information from these sources:</p>
<list type="unordered">
<list-item><p>Fixed texts.</p>
</list-item>
<list-item><p>Mail content and headers (sender, date, subject etc.).</p>
</list-item>
<list-item><p>The receivers inbox (number of new messages, whether the inbox
is full etc).</p>
</list-item>
</list>
<p>The templates for notification texts are configured in one <emph type="low">phrase
file</emph> for each supported language, so the user gets notification texts
in his preferred language. It is possible to specify templates per CoS as
described in <xref linkend="costemplates"/>.</p>
<p>A phrase file contains the following information:</p>
<list type="unordered">
<list-item><p>Translations </p>
<p>(See <xref linkend="translations"/>)</p>
</list-item>
<list-item><p>Template strings </p>
<p>(See <xref linkend="templatestrings"/>)</p>
</list-item>
<list-item><p>Subtemplate strings </p>
<p>(See <xref linkend="subtemplatestrings"/>)</p>
</list-item>
<list-item><p>Conversion Specification</p>
<p>(See <xref linkend="convertedphone"/>)</p>
</list-item>
</list>
<p>All language files must be stored in the directory &lt;NTF_HOME>/templates,
and have a file name consisting of the language name with the file extension <quote>.cphr</quote>,
for example <quote>en.cphr</quote> for the English phrase file. NTF must be
restarted for changes to take place, this includes if a file has been changed
or added.</p>
<note><p>The phrase files must be located in the specified directory and have
the required file names. Otherwise, the NTF component will not find the files.</p>
</note>
<chl3><title xml:id="costemplates">CoS specific templates</title>
<p>It is possible to specify templates per CoS that override the language
templates. CoS templates are defined per language and CoS. If no CoS template
is found, NTF will use the language template. CoS templates are defined in
files named &lt;language>-x-&lt;cosname>.cphr where &lt;language> is the language
and &lt;cosname> is COSname in MUR, cosname is case insensitive, for example <quote>en-x-business.cphr</quote>. </p>
<p>The format of the CoS file is the same as the regular phrase file, but
only the templates that are different from the language template need to be
defined. Templates that are not CoS dependent are fetched from the language
file.</p>
</chl3>
<chl3><title xml:id="formatofphrasefile">Format of Phrase Files</title>
<p>The information in a phrase file is stored as a number of lines, where
each line defines a name and a value. The format is:</p>
<p><resource-id type="file-path">&lt;Name>={<nl/>&lt;Value><nl/>}</resource-id></p>
<p>For example:</p>
<p><resource-id type="file-path">general={<nl/>&rdquo;You have a new message&rdquo;<nl/>}</resource-id></p>
<p>Consider the following format rules when you create a phrase file:</p>
<list type="unordered">
<list-item><p>The name must <emph type="medium">not</emph> contain any spaces.</p>
</list-item>
<list-item><p>The value is a combination of one or more constants or tags.
Constants are surrounded with quotes. Tags <emph type="medium">must not</emph> be
surrounded with quotes.</p>
</list-item>
<list-item><p>Long values can be split over multiple lines using newline characters.</p>
</list-item>
<list-item><p>Comment lines must start with a hash mark (#).</p>
</list-item>
<list-item><p>Missing templates, subtemplates, and translations, are given
the value of the <quote>general</quote> template.</p>
</list-item>
<list-item><p>Missing languages are given the templates for the default language.</p>
</list-item>
<list-item><p>Any Unicode character can be entered with its hexadecimal code
prefixed by "\u", e.g. the newline character can be entered as \u000a. This
is most useful for unprintable characters and characters not in ISO 8859-1.
Note that the \u000a and other special characters are treated as tags and
can not be embedded in a constant text. I.e. they need to be placed outside
quotes.</p>
</list-item>
</list>
</chl3>
<chl3><title xml:id="translations">Translations</title>
<p>The simplest lines in the phrase file just specify a translation for an
english word into another language. Then the name in the line is an english
word and the value is a corresponding word or sequence of words in another
language. A translation in a phrase file for spanish could contain the following
line.</p>
<example condensed="yes" indent="column">
<caption>A translation for the spanish language.</caption>
<preform>voice=voz</preform>
</example>
<p>The table below shows all english words that can be translated in the phrase
file.</p>
<table indent="column" xml:id="tbltranslations">
<caption>Translations</caption>
<tgroup cols="2" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="0.78*"/><colspec colname="col2" colwidth="1.01*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Translations</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>urgent</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>String used to indicate that the message status is <resource-id
type="file-path">urgent</resource-id>.</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>normal</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>String used to indicate that the message status is <resource-id
type="file-path">normal</resource-id>.</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>email</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>String used to indicate that the message is an e-mail.</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>voice</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>String used to indicate that the message is a voice message.</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>fax</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>String used to indicate that the message is a fax message.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>video</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>String
used to indicate that the message is a video message.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>unknownsender</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>If a callers
telephone number is restricted or not found, this text will be shown instead
of the number.</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title xml:id="templatestrings">Template Strings</title>
<p><emph type="low">A template string</emph> is a string that defines the
layout and contents of a complete notification message. The following template
strings are available:</p>
<def-list><dl-item>
<term>h</term><def><p>SMS <quote>header</quote> notification text.</p>
</def>
</dl-item>
<dl-item>
<term>s</term><def><p>SMS <quote>subject</quote> notification text.</p>
</def>
</dl-item>
<dl-item>
<term>c</term><def><p>SMS <quote>count</quote> notification text.</p>
</def>
</dl-item>
<dl-item>
<term>f</term><def><p>Flash SMS notification text.</p>
</def>
</dl-item>
<dl-item>
<term>e0</term><def><p>First of the ten available templates for Notification
by Email. The templates e0 to e9 can be used. (see <xref linkend="configuringnotificationbyemail"/>)</p>
</def>
</dl-item>
<dl-item>
<term>slamdown</term><def><p>Slamdown information text. See <xref linkend="slamdown"/></p>
</def>
</dl-item>
<dl-item>
<term>ivrtosms</term><def><p>Missed call information notification text.</p>
</def>
</dl-item>
<dl-item>
<term>faxprintfail</term><def><p>Text in notification of faxprint failure.</p>
</def>
</dl-item>
<dl-item>
<term>WapPushText</term><def><p>WAP push notification text.</p>
</def>
</dl-item>
<dl-item>
<term>general</term><def><p>default template which is used when use of the
other templates fails, e.g. when a template string includes a message count
but the message count cannot be determined.</p>
<note><p>The general template should not contain any tags.</p>
</note>
</def>
</dl-item>
<dl-item>
<term>mailquotaexceeded</term><def><p>The template for warnings that the users
mailbox is full (the name of this template is configurable, see <xref linkend="quotatemplate"/>,
but mailquotaexceeded is the default name).</p>
</def>
</dl-item>
<dl-item>
<term>mailquotahighlevelexceeded</term><def><p>The template for warnings that
the users mailbox is <emph type="low">almost</emph> full.</p>
</def>
</dl-item>
<dl-item>
<term>smstype0text</term><def><p>Normally empty, but if there are many users
with old telephones that do not handle SMS type 0 correctly, an explanatory
message can be set here.</p>
</def>
</dl-item>
<dl-item>
<term>mwiontext</term><def><p>Normally empty, but if there are many users
with old telephones that do not handle MWI on correctly, an explanatory message
can be set here.</p>
</def>
</dl-item>
<dl-item>
<term>mwiofftext</term><def><p>Normally empty, but if there are many users
with old telephones that do not handle MWI off correctly, an explanatory message
can be set here.</p>
</def>
</dl-item>
<dl-item>
<term>unreadmessagereminder</term><def><p>The template used for reminder SMS.
The mail based tags can be used if the users inbox contains exactly one message,
otherwise only inbox based tags can be used just like in <xref linkend="updateafterretrievalexampel"/> for
updateafterretrieval.</p>
</def>
</dl-item>
<dl-item>
<term>updateafterretrieval</term><def><p>The template to use if a update SMS
is sent after a user has made retrieval. The mail based tags can be used if
the users inbox contains exactly one message, otherwise only inbox based tags
can be used. See <xref linkend="updateafterretrievalexampel"/></p>
</def>
</dl-item>
<dl-item>
<term>updateafterterminalchange</term><def><p>The text to use for a update
SMS after terminal change. The mail based tags can be used if the users inbox
contains exactly one message, otherwise only inbox based tags can be used
just like in <xref linkend="updateafterretrievalexampel"/> for updateafterretrieval.</p>
</def>
</dl-item>
<dl-item>
<term>smsinsteadofmwi</term><def><p>A template to use if the user have mwi
but the terminal does not support mwi.</p>
</def>
</dl-item>
<dl-item>
<term>&lt;system notification name></term><def><p>Template for system notification
defined in <resource-id type="file-path">systemnotification.cfg</resource-id>.
Any number of system notifications can be defined (see <xref linkend="systemnotifcfg"/>).</p>
</def>
</dl-item>
</def-list>
<p>The template names (h, s and c) imply notifications with <emph type="low">header</emph>, <emph
type="low">subject</emph> and <emph type="low">message count</emph> information,
but this is just a guideline, and any content can be configured for each of
the notification types. Which SMS template that is used for a particular notification
is controlled by notification filter settings. Notification filters can be
defined through the <emph type="low"> Provisioning GUI</emph> or through the
Web interface used for managing mailboxes.</p>
<example condensed="no" xml:id="updateafterretrievalexampel">
<caption>Updateafterretrieval</caption>
<preform>updateafterretrieval = {
(*) "You still have "
(2-) TCOUNT
(2-) " new messages"
(1) "one new message from "
(1) FROM
(*) " in your mailbox"
}
</preform>
</example>
<p>The format on how to write count templates can be found in <xref linkend="countTemplates"/>. </p>
</chl3>
<chl3><title>Tags</title>
<p>A template string contains constant text in the target language surrounded
by quotes. It is also possible to insert <emph type="low">tags</emph> anywhere
outside the quotes. A tag is a special word that is replaced by a piece of
information from the e-mail or the receivers inbox. Some examples of possible <resource-id
type="file-path">c</resource-id> (count) template strings are shown below.</p>
<example condensed="yes" indent="column">
<caption></caption>
<preform>c= {
"You have new messages."
}
c={
"You have " TCOUNT " new messages."
}
c={
"You have a new message from " FROM ". "
  "(" VCOUNT " voice messages, " FCOUNT " faxes, "
  ECOUNT " emails, " MCOUNT " new video messages)."
}</preform>
</example>
<p>In the example above, the tags <resource-id type="file-path">TCOUNT</resource-id>, <resource-id
type="file-path">VCOUNT</resource-id> , <resource-id type="file-path">FCOUNT</resource-id>, <resource-id
type="file-path">ECOUNT</resource-id> and <resource-id type="file-path">MCOUNT</resource-id> will
be replaced by the total number of new messages, the number of new voice messages,
the number of new fax messages, the number of new e-mail messages and the
number of video messages in the subscribers inbox. The tag <resource-id type="file-path">FROM</resource-id> will
be replaced by the From address in the message.</p>
<p>Any words outside quoted constant text are <emph>tags</emph> that are replaced
with dynamic information. The table below shows which tags that can be used
in template strings for notification texts.</p>
<table indent="column" xml:id="tblinsertionspecifiers">
<caption>Tags for notification texts</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="0.80*"/><colspec colname="col2" colwidth="1.55*"/><colspec colname="COLSPEC0"
colwidth="0.43*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Tag</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry rotate="0" valign="top">
<tp>Based-on</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>TCOUNT</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The total number of new messages in the subscriber's inbox.</tp>
</entry>
<entry rotate="0"><tp>Inbox</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>FCOUNT</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The number of new fax messages in the subscriber's inbox.</tp>
</entry>
<entry rotate="0"><tp>Inbox</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>ECOUNT</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The number of new e-mail messages in the subscriber's inbox.</tp>
</entry>
<entry rotate="0"><tp>Inbox</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>VCOUNT</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The number of new voice messages in the subscriber's inbox.</tp>
</entry>
<entry rotate="0"><tp>Inbox</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MCOUNT</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>The number
of new video messages in the subscriber's inbox</tp>
</entry>
<entry rotate="0"><tp>Inbox</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" align="left" char="" rotate="0"
valign="top"><tp>STATUS</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>This field displays the priority of the message.
The data for this field is from the <resource-id type="file-path">X-Priority</resource-id> mail
field. If the priority of the message is equal to <input>1</input> or <input>2</input> then
the message is classified as <resource-id type="file-path">urgent</resource-id>.
Otherwise the message is classified as <resource-id type="file-path">normal</resource-id>.</tp>
<tp>The string used to notify the status is selected from the translations
named <resource-id type="file-path">urgent</resource-id> and <resource-id
type="file-path">normal</resource-id> in the phrase file (see <xref linkend="translations"/>).</tp>
</entry>
<entry rotate="0"><tp>Mail</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" align="left" char="" rotate="0"
valign="top"><tp>TYPE</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>This field denotes the type of message. The message
can be a voice mail message, a video message, a fax message, or an e-mail
message.</tp>
<tp>The string inserted is selected from the translations named <resource-id
type="file-path">voice, video, fax</resource-id> and <resource-id type="file-path">email</resource-id> in
the phrase file (see <xref linkend="translations"/>).</tp>
</entry>
<entry rotate="0"><tp>Mail</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>TIME</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>This field contains the time when the message
was deposited. The format is based on the subscriber's preference.</tp>
</entry>
<entry rotate="0"><tp>Mail</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>DATE</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>This field contains the date when the message
was deposited. The date is by default presented in the subscribers preferred
date format. The date tag can optionally include a format specification, which
will then be used instead of the subscribers preferred format. The optional
date format is described in <xref linkend="dateformat"/>.</tp>
</entry>
<entry rotate="0"><tp>Mail</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>SUBJECT</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>The subject of the e-mail message. This is in
the <resource-id type="file-path">subject</resource-id> header field of the
e-mail message. If no subject is defined then <resource-id type="file-path">&lt;no
subject></resource-id> is substituted for this string.</tp>
</entry>
<entry rotate="0"><tp>Mail</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>FROM</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>The sender of the e-mail message. This is in the <resource-id
type="file-path">from</resource-id> header field of the e-mail message. If
the sender is a non-subscriber, only the <resource-id type="file-path">&lt;cli-number>@mvas.domain</resource-id> will
be displayed. If the number is restricted or not present, this tag will be
replaces by the contents of the translation <resource-id type="file-path">unknownsender</resource-id></tp>
</entry>
<entry rotate="0"><tp>Mail</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" align="left" char="" rotate="0"
valign="top"><tp>SIZE</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>The size of the message. </tp>
<tp>If the message type (TYPE) is an e-mail message, the size is in bytes.</tp>
<tp>If it is a voice or video message, then it is represented in seconds.</tp>
<tp>If it is a fax message, it is represented in pages.</tp>
<tp>The format of the size information can be customized with a subtemplate.
(See <xref linkend="tblmsgsizesubtemplate"/>)</tp>
</entry>
<entry rotate="0"><tp>Mail</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" align="left" char="" rotate="0"
valign="top"><tp>NUM_ATTACHMENTS</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>If the message is not a MIME message then the
number of attachments is 0. <tnote type="specific">NOTE. Do not use this parameter
unnecessarily. Heavy load is put on NTF.</tnote></tp>
<tp>If the message is a MIME message and the content type of the message indicates
it is a multi-part message then each part to the multi-part message is counted.
Note that this multi-part message can contain recursive multi-parts. These
recursive parts are not counted.</tp>
</entry>
<entry rotate="0"><tp>Mail</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>EMAIL_TEXT</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>The text portion of the e-mail.<tnote type="specific">NOTE.
Do not use this parameter unnecessarily. Heavy load is put on NTF.</tnote></tp>
</entry>
<entry rotate="0"><tp>Mail</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>QUOTA_TEXT</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>This tag
is a subtemplate that adds a warning about a full inbox, to the normal notification
text. If the inbox is not full, this tag is replaced by an empty string. See
QUTOA_TEXT in <xref linkend="tblmsgsizesubtemplate"/></tp>
</entry>
<entry rotate="0"><tp>Inbox</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>PHONE</tp>
</entry>
<entry colname="col2" morerows="1" colsep="1" rowsep="1" char="" rotate="0">
<tp>The telephone number of the subscriber is inserted into the message. This
will in some telephones let the user call back to the messaging system with
a single click.</tp>
<tp>Using CONVERTED_PHONE, the telephone number can be modified before it
is inserted into the text. The beginning and end of the telephone number can
be replaced with other characters. The prefix, the suffix and their replacements
is configurable ( <xref linkend="convertedphone"/>.)</tp>
</entry>
<entry rotate="0"><tp>Inbox</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>CONVERTED_PHONE</tp>
</entry>
<entry rotate="0"><tp>Inbox</tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>QUOTE</tp>
</entry>
<entry rotate="0"><tp>Inserts a double quote (&ldquo;) into the message. </tp>
</entry>
<entry rotate="0"><tp>None</tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>UNICODE=</tp>
</entry>
<entry rotate="0"><tp>Inserts a unicode character. I.e UNICODE=000a is equivalent
to \u000a wich is a newline.</tp>
</entry>
<entry rotate="0"><tp>None</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
<chl4><title>Special Date Format</title>
<p>The date tag can include a format specification and then has the form</p>
<p><preform>DATE=&lt;format></preform></p>
<p>where &lt;format> is a format specification with the syntax described in <xref
linkend="dateformat"/></p>
<p>Example:will be replaced by the date like 2008-01-20, independent of the
subscribers preferred date format.</p>
<p><preform>DATE=yyyy-MM-dd</preform></p>
<note><p>One template can include several date tags with different special
date formats, and different templates can also have different special date
formats.</p>
</note>
</chl4>
<chl4><title xml:id="dateformat">DATE= format tag</title>
<p>In slamdown information, the subscribers preferred date and time formats
are ignored. To allow a compact time representation, it is separately configured,
with the <resource-id type="file-path">DATE=</resource-id> tag.</p>
<p>The tag is followed by a string composed of the characters yMdEahHm,.:;-_=+
with the following interpretation:</p>
<def-list><dl-item>
<term>yy</term><def><p>year - two-digit format.</p>
</def>
</dl-item>
<dl-item>
<term>yyyy</term><def><p>year - fourdigit format.</p>
</def>
</dl-item>
<dl-item>
<term>M</term><def><p>month - one or two digits.</p>
</def>
</dl-item>
<dl-item>
<term>MM</term><def><p>month - two digits.</p>
</def>
</dl-item>
<dl-item>
<term>MMM</term><def><p>month - abbreviated name.</p>
</def>
</dl-item>
<dl-item>
<term>MMMM</term><def><p>month - full name</p>
</def>
</dl-item>
<dl-item>
<term>d</term><def><p>date - one or two digits</p>
</def>
</dl-item>
<dl-item>
<term>dd</term><def><p>date - two digits</p>
</def>
</dl-item>
<dl-item>
<term>EEE</term><def><p>weekday - abbreviated name.</p>
</def>
</dl-item>
<dl-item>
<term>EEEE</term><def><p>weekday - full name.</p>
</def>
</dl-item>
<dl-item>
<term>a</term><def><p>am or pm.</p>
</def>
</dl-item>
<dl-item>
<term>h</term><def><p>hour - one or two digits in 12-hour format.</p>
</def>
</dl-item>
<dl-item>
<term>hh</term><def><p>hour - two digits in 12-hour format.</p>
</def>
</dl-item>
<dl-item>
<term>H</term><def><p>hour - one or two digits in 24-hour format.</p>
</def>
</dl-item>
<dl-item>
<term>HH</term><def><p>hour - two digits in 24-hour format.</p>
</def>
</dl-item>
<dl-item>
<term>m</term><def><p>minute - one or two digits.</p>
</def>
</dl-item>
<dl-item>
<term>mm</term><def><p>minute - two digits.</p>
</def>
</dl-item>
</def-list>
<p>, . : ; - = + can be used anywhere in the string without special meaning.
A space is represented by _ character</p>
<p>The names of months and weekdays are shown in the users preferred language.</p>
</chl4>
</chl3>
<chl3 xml:id="countTemplates"><title>Adapting Template Strings to the Number
of New Messages</title>
<p>Sometimes the quality of text messages can be improved by adapting the
text to the number of messages. As an example, you probably want to avoid
messages like <quote>You have 0 new voice message(s) and 1 new fax message(s).</quote> NTF
allows this through <emph type="low">Count Specific Template Strings</emph>.
Count Specific Template Strings extends the syntax for Template Strings.</p>
<p>A part of a Template String that starts with a parenthesis on a new line
is treated as a Count Specific Template String.</p>
<p>It can handle zero, one, two, three, four, five, six, seven, eight, nine
and many. It can also handle a range of numbers such as numbers between two
and four, or all numbers greater than or equal to five.</p>
<p>A Count Specific Template String shall consist of several lines with an
optional mail count condition in front. The mail count condition can have
4 numbers or 1 number. If it is 4 number they are treated as voice, fax, email,
video. Such as:</p>
<p>(1,0,0,0) &ldquo; one new voice message &ldquo;</p>
<p> or if it is 1 number it is treated as the total count of new mails (voice
+ fax + email + video) such as:</p>
<p>(2) &ldquo;you have 2 new messages in&rdquo;</p>
<p>The first line above has the condition (1,0,0,0) for one voice, zero fax,
zero e-mail and zero video messages. The second line matches 2 new messages
of any kind. </p>
<p>See Table 1 for valid values in condition.</p>
<table indent="column">
<caption>Valid values for condition</caption>
<tgroup cols="2" char="" charoff="50"><colspec colname="col1"/><colspec colname="col2"/>
<thead>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0">
<tp>Condition</tp></entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0">
<tp>Description</tp></entry>
</row>
</thead>
<tbody>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>d</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Condition
is true when the number of mail in INBOX of type voice, fax, e-mail or video
is:</tp>
<tp>- equal to d </tp>
<tp>where d is an integer between 0 and 9.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>d-</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Condition
is true when the number of mail in INBOX of type voice, fax, e-mail or video
is:</tp>
<tp>- equal to d</tp>
<tp>- greater than d</tp>
<tp>where d is an integer between 0 and 9.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>-d</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Condition
is true when the number of mail in INBOX of type voice, fax, e-mail or video
is:</tp>
<tp>- equal to d</tp>
<tp>- less than d</tp>
<tp>where d is an integer between 0 and 9.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>d1-d2</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Condition
is true when the number of mail in INBOX of type voice, fax, e-mail or video
is:</tp>
<tp>- equal to d1 or d2</tp>
<tp>- less than d2</tp>
<tp>- greater than d1</tp>
<tp>where d1 and d2 are an integer between 0 and 9.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>*</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Condition
is always true.</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
<p>A generated text from a template is the concatenation of all lines where
condition matches the actual number of messages of different types. Several
text combinations can thus be generated with a minimum number of lines in
the template.</p>
<p>There are two examples below that show how to build up a template. One
c template is defined in English for voice and fax messages and one c template
is defined in Croatian also for voice and fax messages.</p>
<example>
<caption>Configure a count (c) template in English for voice and fax messages</caption>
<preform>1. c = {
2.   &ldquo;You have &rdquo;
3. (0,0,*,*) &ldquo;no new messages.
4. (1,*,*,*) &ldquo;one&rdquo;
5. (2-,*,*,*) VCOUNT
6. (1-,*,*,*) &ldquo; new voice message&rdquo;
7. (2-,*,*,*) &ldquo;s&rdquo;
8. (1-,0,0,0) &ldquo;.&rdquo;
9. (1-,1-,*,*) &ldquo; and &ldquo;
10. (*,1,*,*) &ldquo;one&rdquo;
11. (*,2-,*,*) FCOUNT
12. (*,1-,*,*) &ldquo; new fax&rdquo;
13. (*,2-,*,*) &ldquo;es&rdquo;
14. (*,1-,0,0) &ldquo;.&rdquo;
15. }</preform>
</example>
<p>Note that the line numbers on the left side in the example shall not be
included in the .cphr file.</p>
<p>A user with no new messages in the INBOX, condition (0,0,0,0), would give
the phrase: &ldquo;You have no new messages.&rdquo;. Lines 2 and 3 in the
c template have a condition that matches the INBOX.</p>
<p>A user with one new voice message and one new fax in the INBOX, condition
(1,1,0,0), would give the phrase: &rdquo;You have one new voice message and
one new fax.&rdquo;. Lines 2, 4, 6, 9, 10, 12 and 14 in the c template have
a condition that matches the INBOX.</p>
<p>A user with 5 new voice messages and 20 new faxes in the INBOX, condition
(5,20,0,0), would give the phrase: &rdquo;You have 5 new voice messages and
20 new faxes.&rdquo;. Lines 2, 5, 6, 7, 9, 11, 12, 13 and 14 in the c template
have a condition that matches the INBOX.</p>
<p>A user with no voice messages and 3 new faxes in the INBOX, condition (0,3,0,0),
would give the phrase: &ldquo;You have 3 new faxes.&rdquo;. Lines 2, 11, 12,
13 and 14 in the c template have a condition that matches the INBOX.</p>
<example>
<caption>Configure a count (c) template in Croatian for voice and fax messages</caption>
<preform>1. c = {
2.  &ldquo;Imate &rdquo;
3. (1-,*,*,*) VCOUNT
4. (1,*,*,*) &ldquo; novu glasovnu poruku&ldquo;
5. (2-4,*,*,*) &ldquo; nove glasovne poruke&ldquo;
6. (5-,*,*,*) &ldquo; novih glasovnih poruka&rdquo;
7. (1-,0,0,0) &rdquo;.&rdquo;
8. (1-,1-,*,*) &ldquo; i &ldquo;
9. (*,1-,*,*) FCOUNT
10. (*,1,*,*) &ldquo; novu fax poruku&rdquo;
11. (*,2-4,*,*) &ldquo; nove fax poruke&rdquo;
12. (*,5-,*,*) &ldquo; novih fax poruka&rdquo;
13. (*,1-,0,0) &ldquo;.&rdquo;
14. }</preform>
</example>
<p>Note that the line numbers on the left side in the example shall not be
included in the .cphr file.</p>
<p>A user with one voice message in the INBOX, condition (1,0,0,0), would
give the phrase: &ldquo;Imate 1 novu glasovnu poruku.&rdquo;. Lines 2, 3,
4 and 7 in the c template have a condition that matches the INBOX.</p>
<p>A user with 2 voice message in the INBOX, condition (2,0,0,0), would give
the phrase: &ldquo;Imate 2 nove glasovne poruke.&rdquo;. Lines 2, 3, 5 and
7 in the c template have a condition that matches the INBOX.</p>
<p>A user with 4 voice message in the INBOX, condition (4,0,0,0), would give
the phrase: &ldquo;Imate 4 nove glasovne poruke.&rdquo;. Lines 2, 3, 5 and
7 in the c template have a condition that matches the INBOX.</p>
<p>A user with 5 voice message in the INBOX, condition (5,0,0,0), would give
the phrase: &ldquo;Imate 5 novih glasovnih poruka.&rdquo;. Lines 2, 3, 6 and
7 in the c template have a condition that matches the INBOX.</p>
<p>A user with one new voice message and one fax message in the INBOX, condition
(1,1,0,0), would give the phrase: &ldquo;Imate 1 novu glasovnu poruku i 1
novu fax poruku.&rdquo;. Lines 2, 3, 4, 8, 10 and 13 in the c template have
a condition that matches the INBOX.</p>
<p></p>
<example>
<caption>Configure reminder SMS template for English language</caption>
<preform>1. unreadmessagereminder = {
2. (*) "This is a reminder that you still have "
3. (2-) TCOUNT
4. (2-) " new messages"
5. (1) "one new message from "
6. (1) FROM
7. (*) " in your mailbox"
8. }
</preform>
</example>
<p>Note that the line numbers on the left side in the example shall not be
included in the .cphr file.</p>
<p>A user with one unseen message from &ldquo;123456&rdquo; in the INBOX matches
lines 2, 5, 6, 7 and will get a notification with the text &ldquo;This is
a reminder that you still have one new message from 123456 in your mailbox&rdquo;.</p>
<p>A user with one unseen voice message, two unseen fax messages and one unseen
video message in the INBOX matches the lines 2, 3, 4, 7 and will get a notification
with the text &ldquo;This is a reminder that you still have 4 new messages
in your mailbox&rdquo;</p>
</chl3>
<chl3><title xml:id="subtemplatestrings">Subtemplate Strings</title>
<p><emph type="low">Subtemplate strings</emph> are strings that can be defined
in the phrase file, and then be included in one or more template strings.
The set of possible subtemplates is fixed.</p>
<p>The purpose of the subtemplate strings is to allow message type dependent
size information.</p>
<p>A <emph type="low">subtemplate</emph> is a string that can be used to format
the size information for a particular message type. It can be any string which
may include the special tag <resource-id type="file-path">SIZE</resource-id>.
If <resource-id type="file-path">SIZE</resource-id> is present, it is replaced
by the appropriate number when the notification text is generated. Note that
this is the only tag that can be used in a subtemplate, and that it cannot
be used in one of the main template strings. The table below shows the available
message size subtemplates.</p>
<table indent="column" xml:id="tblmsgsizesubtemplate">
<caption>Subtemplates</caption>
<tgroup cols="2" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="0.78*"/><colspec colname="col2" colwidth="1.01*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Subtemplate String</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>FSIZE_TEXT</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>String for information about the size of a fax. Example:<nl/><resource-id
type="file-path">FSIZE_TEXT= {&rdquo;SIZE pages&rdquo;}</resource-id></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>ESIZE_TEXT</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>String for information about the size of an e-mail. Example:</tp>
<tp><resource-id type="file-path">ESIZE_TEXT= {&rdquo;SIZE kilobytes&rdquo;}</resource-id></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>VSIZE_TEXT</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>String for information about the size of a voice mail. Since
the size information for voice messages is already formatted by the telephony
system, this subtemplate should normally be omitted from the phrase files.
Example:</tp>
<tp><resource-id type="file-path">VSIZE_TEXT= {&rdquo;SIZE seconds&rdquo;}</resource-id></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MSIZE_TEXT</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>String
for information about the size of an video message. Example:</tp>
<tp><resource-id type="file-path">MSIZE_TEXT={&rdquo;length SIZE seconds&rdquo;}</resource-id></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>fromnumberprefix</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>String
that prefixes the FROM tag if the sender is a number. Example:</tp>
<tp><resource-id type="file-path">fromnumberprefix={&rdquo;+&rdquo;}</resource-id></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>AM</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>String
for the text used as AM in time or date formats. Example:</tp>
<tp><resource-id type="file-path">AM={&rdquo;am&rdquo;}</resource-id></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>PM</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>String
for the text used as PM in time or date formats. Example:</tp>
<tp><resource-id type="file-path">PM={&rdquo;pm&rdquo;}</resource-id></tp>
<tp></tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>QUOTA_TEXT</tp>
</entry>
<entry rotate="0"><tp>String for information that user's mailbox is full.
It can not contain tags, only constant text. Example:</tp>
<tp><resource-id type="file-path">QUOTA_TEXT= {&rdquo; Your mailbox is full.&rdquo;}</resource-id></tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title xml:id="convertedphone">Converting the Telephone Number</title>
<p>How the subscribers telephone number for the tag <quote>CONVERTED_PHONE</quote> shall
be converted, is defined by the parameter <resource-id type="file-path">CONVERTED_PHONE</resource-id> in
the phrase file. This parameter specifies one or more conversions.</p>
<note><p>This tag concerns the phone number of the <emph>subscriber</emph>,
not the caller.</p>
</note>
<chl4><title>Prefix</title>
<p>The conversion string kan specify how to convert the beginning of a telephone
number. The format for this is:</p>
<p><input>prefix>replacement</input></p>
<p>The prefix is separated from the replacement by a greater-than character,
which you can see as an arrow from the old prefix to the new prefix.</p>
<example condensed="yes" indent="column">
<caption>Changing a swedish international number to a national number</caption>
<preform>CONVERTED_PHONE={"46>0"} 
in the conversion specification will change 46701234567 into 0701234567</preform>
</example>
</chl4>
<chl4><title>Suffix</title>
<p>The conversion string kan specify how to convert the end of a telephone
number. The format for this is:</p>
<p><input>,suffix>replacement</input></p>
<p>The conversion starts with a comma character to differentiate it from a
prefix conversion. The suffix is separated from the replacement by a greater-than
character.</p>
<example condensed="yes" indent="column">
<caption>Changing the end of a telephone number</caption>
<preform>CONVERTED_PHONE={",67>89"} 
in the conversion specification will change 46701234567 into 46701234589</preform>
</example>
</chl4>
<chl4><title>Prefix and Suffix</title>
<p>One conversion can combine both a prefix conversion and a suffix conversion.
This is applied to all telephone numbers that match both the prefix and the
suffix. The format for the combined conversion is the prefix conversion followed
by the suffix conversion:</p>
<p><input>prefix>replacement,suffix>replacement</input></p>
<example condensed="yes" indent="column">
<caption>Changing both ends of a telephone number</caption>
<preform>CONVERTED_PHONE={"0>46,7>99"}
in the conversion specification will change 0701234567 into 467012345699, 
but will not change 0701234568 or 1701234567, 
since they do not match the prefix and suffix.</preform>
</example>
</chl4>
<chl4><title>Multiple conversions</title>
<p>You can specify several different conversions in the same CONVERTED_PHONE
parameter. This is done by concatenating several conversions, separated by
a slash character, i.e. the format is:</p>
<p><input>p1>r1,s1>r2/p2>r3,s2>r4/...</input> where p1 and p2 specify prefixes,
s1 and s2 are suffixes and r1, r2, r3 and r4 are replacements. The conversions
are searched from the beginning and the first conversions that has a prefix
and suffix that matches the telephone number, is used. The remaining conversions
are skipped, i.e. at most one conversion is applied to each telephone number.</p>
<example condensed="yes" indent="column">
<caption>Multiple conversions</caption>
<preform>CONVERTED_PHONE={"46>0/47>0/358>0"} 
in the conversion specification will change the country codes 
for Sweden, Norway and Finland to the digit 0.

CONVERTED_PHONE={",1>11/,3>31/,5>51/,7>71/,9>91"} 
in the conversion specification will append the digit 1 to all odd
telephone numbers.

CONVERTED_PHONE= {
"46>46,1>11/46>46,3>31/46>46,5>51/46>46,7>71/46>46,9>91"
}
in the conversion specification will append the digit
1 to all odd swedish telephone numbers.

CONVERTED_PHONE={ " 46>46555/358>358555"}
in the conversion specification will insert the digits 555 after the 
country code in swedish and finnish international telephone numbers.</preform>
</example>
</chl4>
<chl4><title>Empty prefix or suffix</title>
<p>You can have an empty prefix or suffix, which will replace <quote>nothing</quote> with
the replacement string, i.e. add something to the beginning or end of the
telephone number.</p>
<example condensed="yes" indent="column">
<caption>Adding to the telephone number</caption>
<preform>CONVERTED_PHONE={ ">+" } in the conversion specification will add a
plus character to the beginning of all telephone numbers.

CONVERTED_PHONE={"358>358,>99/47>47,>98"} in the conversion
specification will append the digits 99 to the end of 
all finnish telephone numbers and 98 to the end of all 
norwegian telephone numbers.</preform>
</example>
</chl4>
<chl4><title>Empty replacement</title>
<p>You can have an empty replacement, which will replace the prefix or suffix
with <quote>nothing</quote>, i.e. remove something from the beginning or end
of the telephone number.</p>
<example condensed="yes" indent="column">
<caption>Removing from the telephone number</caption>
<preform>CONVERTED_PHONE={"46>/47>/358>"} in the conversion specification
will remove the country code from swedish, norwegian and finish
international telephone numbers.

CONVERTED_PHONE={ ",0>/,2>/,4>/,6>/,8>" } in the conversion
specification will delete the last digit from the
telephone number if it is even.</preform>
</example>
</chl4>
<chl4><title>Summary</title>
<p>The rules above can be summarized in these points:</p>
<list type="unordered">
<list-item><p>The greater-than character is used to separate the prefix and
its replacement and to separate the suffix and its replacement.</p>
</list-item>
<list-item><p>The comma character is used to separate the prefix rule from
the suffix rule.</p>
</list-item>
<list-item><p>The prefix, suffix and replacement can not contain a comma character
or a greater-than character or a slash character.</p>
</list-item>
<list-item><p>The prefix may be empty, to specify that the replacement shall
be added to the beginning of the telephone number.</p>
</list-item>
<list-item><p>The suffix may be empty, to specify that the replacement shall
be added to the end of the telephone number.</p>
</list-item>
<list-item><p>The replacement may be empty, to specify that the prefix or
suffix shall be removed from the telephone number.</p>
</list-item>
<list-item><p>If there is no need for a suffix rule, it can be omitted.</p>
</list-item>
<list-item><p>If there is no need for a prefix rule, it can be omitted, but
you must keep the comma before the suffix rule.</p>
</list-item>
<list-item><p>If there is both a prefix and a suffix, the conversion will
be applied only to telephone numbers that have both the prefix and suffix.
The rule <input>+46>0,7>9</input> will not change the telehone numbers <quote>+46701234568</quote> or <quote>46701234567</quote>,
but will convert <quote>+46701234567</quote> to <quote>0701234569</quote></p>
</list-item>
</list>
</chl4>
</chl3>
<chl3><title xml:id="exampleofphrasefile">Example of Phrase File</title>
<p>This section describes how a phrase file can be configured to generate
a certain message text in notifications.</p>
<p>Consider the following example, showing the currently available information
to use for a notification.</p>
<example condensed="yes" indent="column">
<caption>Email contents for a notification</caption>
<preform>Subject: Meeting next week
From: john@abcxyz.se
Date: 2002-01-30
Time: 12.00

Shall we meet next week?</preform>
</example>
<example condensed="yes" indent="column">
<caption>Inbox information for the notified user</caption>
<preform>Number of new voice messages: 2
Number of new faxes:          0
Number of new emails:         4
Number of new video messages: 0
Mailbox full?                   no</preform>
</example>
<example condensed="yes" indent="column">
<caption>Templates in the phrase file</caption>
<preform>.
.
.
s = {
FROM " sent you a message about " QUOTE SUBJECT QUOTE 
". Your mailbox has " TCOUNT " new messages "
"(" VCOUNT " voice messages and " ECOUNT " emails)."
}
.
.
.</preform>
</example>
<p>This will produce the following notification text:</p>
<example condensed="yes" indent="column">
<caption>Notification text</caption>
<preform>john@abcxyz.se sent you a message about "Meeting
next week". Your mailbox has 6 new messages (2 voice
mails and 4 emails).</preform>
</example>
<p>In producing this result, NTF goes through the following steps:</p>
<list type="unordered">
<list-item><p>NTF looks at the notification filters, and determines that the
user has selected SMS notification with the <quote>s</quote> content.</p>
</list-item>
<list-item><p>NTF looks at the users preferences and determines that the users
preferred language is <quote>en</quote> (english).</p>
</list-item>
<list-item><p>NTF finds the template string shown above.</p>
</list-item>
<list-item><p>NTF replaces FROM with the sender address in the email ( <quote>john@abcxyz.se</quote>)</p>
</list-item>
<list-item><p>NTF replaces SUBJECT with the email subject ( <quote>Meeting
next week</quote>)</p>
</list-item>
<list-item><p>NTF replaces TCOUNT, VCOUNT and ECOUNT with the numbers (6,
2 and 4).</p>
</list-item>
</list>
</chl3>
<chl3><title>Command Line Test Tool</title>
<p>Test your phrase file configuration before it&rsquo;s loaded in the NTF
application. A text is printed to stdout, generated from the phrase files
when you run the test tool with arguments. If anything went wrong in the creation
of phrase files such as syntax errors, check the output from the NTF log file.</p>
<p>To activate the new phrase file configuration, start or restart NTF.</p>
<p>To test your phrase file configuration:</p>
<p>1. Change directory to &lt;BASEDIR>/bin</p>
<input># cd &lt;BASEDIR>/bin</input>
<p>2. Start the command with arguments</p>
<p>#./generatetext &ndash;d &lt;NTF_HOME> &ndash;c &lt;content> &ndash;l &lt;language>
&ndash;v &lt;voice> &ndash;f &lt;fax> &ndash;e &lt;e-mail> &ndash;m &lt;video></p>
<p>Example:</p>
<p> <input>#./generatetext &ndash;d /global/ms1/ntf &ndash;c c &ndash;l en
&ndash;v 1 &ndash;f 3 &ndash;e 0 &ndash;m 0</input> </p>
<output>#Generated text: You have one new voice message and 3 new faxes.</output>
<table indent="column">
<caption>Test Tool Argument List</caption>
<tgroup cols="2" char="" charoff="50"><colspec colname="col1"/><colspec colname="col2"/>
<thead>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0">
<tp>Arguments</tp></entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0">
<tp>Valid values</tp></entry>
</row>
</thead>
<tbody>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>&lt;content></tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Notification
content for example c for count, s for subject h for header and e0 for first
Notification by Email template.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>&lt;language></tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>User preferred
language. Use the language code for a language ISO 639, e.g. en for English.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>&lt;voice></tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Number
of voice mail in INBOX. Positive integer.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>&lt;fax></tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Number
of fax mail in INBOX. Positive integer.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>&lt;e-mail></tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Number
of voice e-mail in INBOX. Positive integer.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>&lt;video></tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Number
of video mail in INBOX. Positive integer.</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
</chl2>
<chl2><title xml:id="configuringnotificationbyemail">Configuring Notification
by E-mail</title>
<p>The Notification by E-mail functionality is configured very much like the
SMS. If enabled, the quota warnings, slamdown information and fax print failed
messages will also be sent using e-mail according to delivery profile. Notification
by E-mail also uses templates for configuration (*.cphr). Template Strings <emph
type="medium">e0</emph> to <emph type="medium">e9</emph> are reserved for
e-mail notifications. In addition to these, the SMS Template Strings <emph
type="medium">s</emph>, <emph type="medium">c</emph> and <emph type="medium">h</emph> can
be used for email body content if content should be the same for SMS and E-mail
notifications.</p>
<p></p>
<p>For all Template Strings it is recommended to add a subject header for
the E-mail notification. A set of other e-mail headers can be associated with
the used template strings, these are described below. </p>
<p></p>
<chl3><title xml:base="">Notification by E-mail Header Configuration</title>
<p>The following headers can be set for each Template in a notification e-mail.
It is possible to have, for example, one subject for e-mail template <emph
type="medium">e0</emph> and another for e-mail template <emph type="medium">e1</emph>.
All e-mail header templates are associated with its parent e-mail template
(e.g. &ldquo;e0&rdquo; or &ldquo;s&rdquo;). For e0 to e9 the last digit is
noted as &lt;n> in the table below. For single character templates (c, s,
h) &lt;n> below is the character. The part of the e-mail header template noted
as &lt;CustomHeaderName> is any user defined header (usually starting with
X-). Any number of emailnotification-header-x&lt;n>&lt;CustomHeaderName> templates
can be specified for each parent e-mail template.</p>
<table indent="column">
<caption>Optional E-mail Header Template</caption>
<tgroup cols="2" char="" charoff="50"><colspec colname="col1"/><colspec colname="col2"/>
<thead>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0">
<tp>E-mail Header Template</tp></entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0">
<tp>Valid values</tp></entry>
</row>
</thead>
<tbody>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>emailnotification-header-subject-&lt;n></tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Any subject,
it may even be a count specific template.</tp>
<tp>Example:</tp>
<tp>emailnotification-header-subject-0 = { &ldquo;E-mail Notification&rdquo;
}</tp>
<tp>gives the email header for template e0:</tp>
<tp>SUBJECT : &ldquo;E-mail Notification&rdquo;</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>emailnotification-header-from-&lt;n></tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>A from
address.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>emailnotification-header-from-envelope-&lt;n></tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>A valid
envelope from address. <nl/>Note: this is empty as default to avoid returned
E-mails if subscriber is not found. Some SMTP servers does not accept this
to be empty.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>emailnotification-header-cc-&lt;n></tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>A valid
CC address.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>emailnotification-header-bcc-&lt;n></tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>A valid
BCC address.</tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>emailnotification-header-reply-to-&lt;n></tp>
</entry>
<entry rotate="0"><tp>A valid reply-to address.</tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>emailnotification-header-x-&lt;n>&lt;CustomHeaderName></tp>
</entry>
<entry rotate="0"><tp>Any user defined header.</tp>
<tp>Example:</tp>
<tp>emailnotification-header-x-0X-myHeader = { &ldquo;Off&rdquo; }</tp>
<tp>gives the email header for template e0:</tp>
<tp>X-myHeader : Off</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>Example Configuration for Notification by E-mail</title>
<p>The following is an example part of a phrase file used to configure template
&ldquo;s&rdquo; for notification by E-mail. Template &ldquo;s&rdquo; is used
for a CoS where some users want SMS notifications, some E-mail and some both
E-mail and SMS notifications. If content of the e-mail notifications should
be the same as for the SMS notifications there is no use configuring the e0
template for this, instead the specific Notification by E-mail headers for
&ldquo;s&rdquo; are configured.</p>
<p></p>
<p><preform>s = {
"You have a new " SIZE " message with "
 NUM_ATTACHMENTS " attachments, regarding "
 QUOTE SUBJECT QUOTE "."
}

emailnotification-header-reply-to-s = {
 "please.reply.to@this.address.com"
}

emailnotification-header-subject-s = {
 "You have a new message with the subject "
 QUOTE SUBJECT QUOTE "."
}

emailnotification-header-from-s = {
 "from@some.address.com"
}


</preform>This will generate the following example e-mail:</p>
<p><preform>
SUBJECT:    You have a new message with the subject "testemail".
REPLY-TO:   please.reply.to@this.address.com
FROM:       from@some.address.com
You have a new size 1 kilobytes message 
with 0 attachments, regarding "testemail".
</preform></p>
</chl3>
</chl2>
<chl2><title xml:id="systemnotifcfg">Configuring System Notifications</title>
<p>The system notification functionality is general and flexible and can have
many uses. It makes NTF convert some emails into SMS-messages, bypassing normal
notification functionality.</p>
<note><p>It is not really necessary that the mail arrives in the users mailbox.
The important thing is that the user is in the <quote>To:</quote> list in
the mail and that the mail arrives in one of NTFs gnotification mailboxes.</p>
</note>
<p>It is possible to configure which emails that shall be converted, and which
SMS message shall be sent. The original purpose is to let the MoIP system
notify a user about an important event, e.g. that the users mailbox is full.
The system sends a normal email to the user, but NTF looks at the mail headers
and recognizes that it is a system message and sends a special notification
instead of the normal <quote>You have new mail message</quote> type of notification.</p>
<list type="unordered">
<list-item><p>System notifications are always sent with SMS.</p>
</list-item>
<list-item><p>System notifications ignore filter settings.</p>
</list-item>
<list-item><p>System notifications are sent even if the user has disabled
notifications.</p>
</list-item>
<list-item><p>System notifications use their own special SMS templates, one
for each system notification.</p>
</list-item>
</list>
<p>Each system notification has a unique name. This is also the name of the
SMS template used for that system message. Configuring system notifications
is done in two steps:</p>
<list type="unordered">
<list-item><p>You tell NTF how to recognize a system message.</p>
</list-item>
<list-item><p>You configure the SMS template for the system message.</p>
</list-item>
</list>
<chl3><title>systemnotification.cfg</title>
<p>The file <resource-id type="file-path">systemnotification.cfg</resource-id> tells
NTF which system notifications there are, and how to recognize an e-mail as
a system notification.</p>
<p><emph>To disable system notifications completely</emph>, you remove systemnotification.cfg
(or rename it to e.g. systemnotification.off).</p>
<p>The rules for matching a system notification against an email are:</p>
<list type="unordered">
<list-item><p>A system notification is identified by one or more header name-header
value pairs.</p>
</list-item>
<list-item><p>A pair is considered to <quote>match</quote> an email if the
value in the pair is a substring of the corresponding mail header.</p>
<p>E.g. the pair <quote>Subject=hello</quote> matches an email with the header <quote>Subject:
You must say hello to John</quote>.</p>
</list-item>
<list-item><p>If all pairs configured for a system notification match the
email, the email will generate a system notification, otherwise it will be
a normal notification.</p>
</list-item>
<list-item><p>Case is ignored both in the header name and the value.</p>
</list-item>
</list>
<p>A systemnotification.cfg can look like this:</p>
<example condensed="yes" indent="column">
<caption>systemnotification.cfg</caption>
<preform>#System notification configuration

#This matches the mail sent to the user when
#his mailbox is full
[ mailquotaexceeded ]
From=Mail Administrator
Subject=WARNING: Quota exceeded

#This matches the mail sent when a caller sends a 
#cut-through-paging
[ cutthroughpaging ]
From=sink
Ipms-Notification-Type=sendshortmessage</preform>
</example>
<p>In this example, you can see that:</p>
<list type="unordered">
<list-item><p>The file consists of sections, one for each system notification.</p>
</list-item>
<list-item><p>Each section starts with the name of the system notification
in brackets ( <quote>[ mailquotaexceeded ]</quote>).</p>
</list-item>
<list-item><p>Each section has some configuration lines with a header name
and a value ( <quote>From=Mail_Administrator</quote>).</p>
</list-item>
<list-item><p>You can have blank lines.</p>
</list-item>
<list-item><p>Lines starting with # are comments ( <quote>#his mailbox is
full.</quote>).</p>
</list-item>
</list>
<p>This file can be configured for each system to the needs of the customer,
but keep a few things in mind:</p>
<list type="unordered">
<list-item><p>Processing a system notification takes a little time for each
arriving mail, so having hundreds of system notifications is not a good idea.</p>
</list-item>
</list>
<p><emph>WARNING: Make sure that the header-value combinations are unique
enough, so that not ordinary mails are misinterpreted as system notifications.
&ldquo;Subject=WARNING&rdquo; is not a good alternative in mailquotaexceeded
in the example above.</emph></p>
</chl3>
<chl3><title>Configuring SMS Templates for System Notifications</title>
<p>The name of a system notification, which is defined within brackets in <resource-id
type="file-path">systemnotification.cfg</resource-id>, is also the name of
a template string. A template string for each system notification should be
added to the phrase files for all languages (en.cphr, sv.cphr etc.) to give
the users the notifications in their preferred language.</p>
<p>Configuration of template strings is described in <xref linkend="phrasefiles"/>.
System notifications can use all the tags and subtemplate strings available
in normal template strings.</p>
<p>See the following sections for examples of configuration of system notifications
for various services.</p>
</chl3>
<chl3><title>Examples</title>
<chl4><title>Mail quota exceeded</title>
<p>The following two files exemplifies how NTF can be configured to warn users
with full mailboxes.</p>
<example condensed="yes" indent="column" xml:id="partofsystemnotif">
<caption>Part of systemnotification.cfg</caption>
<preform>[mailquoatexceeded]
From=Mail_Administrator
Subject=WARNING: Quota exceeded</preform>
</example>
<example condensed="yes" indent="column" xml:id="partofphrasefile">
<caption>Part of phrase file en.cphr (language en)</caption>
<preform>mailquotaexceeded={
"Your mailbox is full. Please delete old mails."
}</preform>
</example>
<p>If <resource-id type="file-path">systemnotification.cfg</resource-id> and <resource-id
type="file-path">en.cphr</resource-id> contain the values shown in <xref linkend="partofsystemnotif"/> and <xref
linkend="partofphrasefile"/>, the system could send an e-mail to the user
with the specified From and Subject, and the user would receive an SMS message
saying that the mailbox is full, and asking him to delete old mails, and if
he has unread messages, the SMS will tell how many.</p>
</chl4>
<chl4><title>CLI notifications</title>
<p>When listening to messages in the inbox, the subscriber can request that
the callers number is sent as an SMS.</p>
<p>The following two files exemplify how NTF can be configured to send CLI
messages</p>
<example condensed="yes" indent="column">
<caption>Part of systemnotification.cfg</caption>
<preform>[smscli]
From=sink
Ipms-Notification-Type=mvas.subscriber.caller_cli</preform>
</example>
<example condensed="yes" indent="column">
<caption>Part of phrase file en.cphr (language en)</caption>
<preform>smscli={"The number you requested: +" SUBJECT "."}</preform>
</example>
<note><p>The example shows how a plus character can be entered into the template,
to indicate that the number is an international number. If the system uses
national numbers, there should be no plus character.</p>
</note>
</chl4>
<chl4><title>Cut Through Paging notifications</title>
<p>The following two files exemplify how NTF can be configured to send Cut
Through Paging notifications.</p>
<example condensed="yes" indent="column">
<caption>Part of systemnotification.cfg</caption>
<preform>[cutthroughpaging]
From=sink
Ipms-Notification-Type=sendshortmessage</preform>
</example>
<example condensed="yes" indent="column">
<caption>Part of phrase files en.cphr (language en)</caption>
<preform>cutthroughpaging={
"+" EMAIL_TEXT " called you at " TIME ", "
DATE ". Please call back."
}</preform>
</example>
<note><p>The callers telephone number in a cut-through-paging request is sent
as the body of an email, thus <quote>EMAIL_TEXT</quote> in the example.</p>
</note>
<note><p>The example shows how a plus character can be entered into the template,
to indicate that the number is an international number. If the system uses
national numbers, there should be no plus character.</p>
</note>
</chl4>
</chl3>
</chl2>
<chl2><title>Configuring Missed Call Information Notification</title>
<p>The missed call information service is used to send SMS notification to
a user that is not a voice mail subscriber. This service is also known as
ivrtosms.</p>
<example condensed="yes" indent="column">
<caption>Part of phrase files en.cphr (language en)</caption>
<preform>ivrtosms= {
"+" EMAIL_TEXT " called you at " TIME ", "
DATE ". Please call back."
}</preform>
</example>
<p>The config parameter sourceAddress_IvrToSms can be configured to include
the callers phone number to make the SMS appear like it is being sent from
the caller phone number, see <xref linkend="sourceaddress"/> for parameter
description.</p>
<note><p>The callers telephone number in a ivr-to-sms request is sent as the
body of an email, thus <quote>EMAIL_TEXT</quote> in the example.</p>
</note>
<note><p>The example shows how a plus character can be entered into the template,
to indicate that the number is an international number. If the system uses
national numbers, there should be no plus character.</p>
</note>
<p>Since the receiver is not a subscriber, NTF can not find out what SMSC
to use when sending the SMS. Instead, NTF distributes ivrtosms notifications
over the SMSCs listed in the parameter <resource-id type="file-path">AllowedSmsc</resource-id>.
If this parameter is missing or empty, NTF uses all SMSCs it can find in the
Messaging Component Register.</p>
</chl2>
<chl2><title>Configuring Outdial Notification</title>
<p>This section describes how to make the outdial notification feature work,
and how to customize it for each customer.</p>
<chl3><title>Pre-requisites</title>
<p>To use outdial notification, a number of things outside NTF must be set
up correctly:</p>
<list type="unordered">
<list-item><p>The user must have the service outdial notification in the COS.</p>
</list-item>
<list-item><p>The users notification filter (or the notification filter in
the COS if the user has none) must be set up to do outdial notification.</p>
</list-item>
<list-item><p>The notification type outdial must not be disabled for the user.</p>
</list-item>
<list-item><p>There must be at least one running MVAS or MAS, registered in
MCR to provide the service OutdialNotification.</p>
</list-item>
</list>
<p>If NTF shall check if the phone is on before doing outdial, the following
is required:</p>
<list type="unordered">
<list-item><p>The SMSC must support the use of SMS type 0.</p>
</list-item>
<list-item><p>NTF must have an account in the SMSC that allows bind as a transceiver.
If there are more NTFs using the same SMSC, each NTF needs its own account
to ensure that delivery receipts are returned to the NTF that sent the SMS
type 0.</p>
</list-item>
<list-item><p>The users phone must support SMS type 0.</p>
</list-item>
</list>
</chl3>
<chl3><title>Enabling the Function</title>
<p>To turn outdial notification on, you must set the following parameters
in <resource-id type="file-path">&lt;NTF_HOME>/cfg/notification.cfg</resource-id>:</p>
<def-list><dl-item>
<term>DoOutdial</term><def><p>Set this parameter to yes, to enable the outdial
function.</p>
</def>
</dl-item>
</def-list>
<p>If NTF shall check if the phone is on before doing outdial, the following
parameter must be set in <resource-id type="file-path">notification.cfg</resource-id>:</p>
<def-list><dl-item>
<term>SmppBindType</term><def><p>Set this parameter to <input>transceiver</input>,
to allow NTF to receive SMS messages.</p>
</def>
</dl-item>
<dl-item>
<term>SmeSourceAddress, SmeSourceTon, SmeSourceNpi</term><def><p>Set these
parameters to correspond to NTFs SMS-sender address, so the SMSC knows where
to return the receipt when the phone is turned on. These values are provided
by the operator.</p>
</def>
</dl-item>
<dl-item>
<term>SetReplyPath</term><def><p>This parameter must be set to match the SMSCs
way of routing the receipt to NTF. This value is provided by the operator.</p>
</def>
</dl-item>
</def-list>
</chl3>
<chl3><title>Customizing the Function</title>
<p>To tailor the function to each customers preferences, you primarily edit
the outdial sequence as describer in <xref linkend="outdialsequence"/>. You
can also set the following parameters in <resource-id type="file-path">notification.cfg</resource-id>:</p>
<def-list><dl-item>
<term>DataDirectory</term><def><p>This is the directory where NTF writes files
needed to recreate pending outdial notification if NTF is restarted.</p>
</def>
</dl-item>
</def-list>
</chl3>
<chl3><title>Other parameters</title>
<p>The following parameters in <resource-id type="file-path">&lt;NTF_HOME>/cfg/notification.cfg</resource-id> affect
the outdial notification function, but rarely need changing:</p>
<list type="unordered">
<list-item><p>XmpValidity</p>
</list-item>
<list-item><p>XmpTimeout</p>
</list-item>
<list-item><p>MaxXmpConnections</p>
</list-item>
</list>
</chl3>
<chl3><title xml:id="outdialsequence">Configuring the Outdial Sequence</title>
<p>The outdial sequence is determined by a state machine which is completely
configurable. Thus, almost any conceivable outdial sequence can be achieved
by configuration. Each class of service can have its own state machine defined
by the attribute emOutdialSequence in MUR. NTF looks for configuration files
in <resource-id type="file-path">&lt;NTF_HOME>/cfg</resource-id> that are
in the format of <resource-id type="file-path">outdial-&lt;name>.cfg</resource-id> where <resource-id
type="file-path">&lt;name></resource-id> is the name in emOutdialSequence.
If no name exists in MUR or there is no matching configuration file, <resource-id
type="file-path">outdial-default.cfg</resource-id> is used.</p>
<p>Each outdial starts with the state machine in an initial state, doing some
initial actions. When a call attempt is made the result code from the call,
together with the current state that the outdial sequence is in, is used to
determine the next operation sequence to be used and the state to go to after
the sequence has been run.</p>
<p>The reason for using a state machine is that an ongoing call can have different
behavior depending both on the outcome of the call attempt and how many tries
that have already been done.</p>
<p>An operation sequence can have zero or more operations. An operation sequence
that does not end with a call attempt should lead to the final state of the
state machine. The result code from the call attempt will be used to select
the next operation sequence and state.</p>
<chl4><title>Result Codes</title>
<p>The purpose of the outdial sequence is to call the subscriber, and the
operation of the state machine is controlled entirely by the result of the
call attempts.</p>
<p>Status codes from 900 and up, are internal NTF codes, while the other codes
are status codes related to the outdial notification service in the XMP protocol.
6xx codes are used in some CA-versions of MVAS/MAS, for all other MVAS/MAS
versions 4xx codes are used. The 6xx codes can be configured in MVAS/MAS and
will replace the corresponding 4xx codes, however some 4xx codes like 408,421,450
will continue to exist. The following status codes are available:</p>
<def-list><dl-item>
<term>200</term><def><p>The call attempt was successful and someone answered
the call.</p>
</def>
</dl-item>
<dl-item>
<term>202</term><def><p>The call attempt was successful and someone answered
the call.</p>
</def>
</dl-item>
<dl-item>
<term>401</term><def><p>The call attempt failed because the phone number was
blocked.</p>
</def>
</dl-item>
<dl-item>
<term>402</term><def><p>The call attempt failed because the phone was busy
in a call.</p>
</def>
</dl-item>
<dl-item>
<term>404</term><def><p>The call attempt failed because no-one answered the
call.</p>
</def>
</dl-item>
<dl-item>
<term>405</term><def><p>The call attempt failed because the user is not reachable.</p>
</def>
</dl-item>
<dl-item>
<term>408</term><def><p>The call attempt failed because the request timed
out.</p>
</def>
</dl-item>
<dl-item>
<term>421</term><def><p>The call attempt failed because the XMP server does
not currently provide the service.</p>
</def>
</dl-item>
<dl-item>
<term>450</term><def><p>The call attempt failed temporarily.</p>
</def>
</dl-item>
<dl-item>
<term>500</term><def><p>The call attempt failed because the outdial request
is unknown by the XMP server.</p>
</def>
</dl-item>
<dl-item>
<term>501</term><def><p>The call attempt failed because the parameters in
the request were rejected by the XMP server.</p>
</def>
</dl-item>
<dl-item>
<term>502</term><def><p>The call attempt failed because resource limits in
the XMP server were exceeded.</p>
</def>
</dl-item>
<dl-item>
<term>512</term><def><p>The call attempt failed because the phone number is
not valid.</p>
</def>
</dl-item>
<dl-item>
<term>513</term><def><p>The call attempt failed for an unspecified reason.</p>
</def>
</dl-item>
<dl-item>
<term>514</term><def><p>The call attempt failed because the mailbox used for
billing does not exist.</p>
</def>
</dl-item>
<dl-item>
<term>603</term><def><p>The call attempt failed because the user was busy
in call.</p>
</def>
</dl-item>
<dl-item>
<term>610</term><def><p>The call attempt failed because no-one answered the
call.</p>
</def>
</dl-item>
<dl-item>
<term>613</term><def><p>The call attempt failed because the user was not reachable.</p>
</def>
</dl-item>
<dl-item>
<term>614</term><def><p>The call attempt failed because the user suppressed
the call.</p>
</def>
</dl-item>
<dl-item>
<term>620</term><def><p>The call attempt failed because there was congestion
in the network.</p>
</def>
</dl-item>
<dl-item>
<term>621</term><def><p>The call attempt failed because of other calling failure.</p>
</def>
</dl-item>
<dl-item>
<term>900</term><def><p>Start of Outdial handling</p>
</def>
</dl-item>
<dl-item>
<term>910</term><def><p>Outdial notification is disabled by user for users
current location (often because user is roaming). This occurs if the user
has changed location since outdial was started.</p>
</def>
</dl-item>
<dl-item>
<term>915</term><def><p>It is not possible to determine the users current
location.</p>
</def>
</dl-item>
<dl-item>
<term>920</term><def><p>The user has unconditional call forwarding set.</p>
</def>
</dl-item>
<dl-item>
<term>925</term><def><p>It is not possible to determine if user had unconditional
call forwarding set.</p>
</def>
</dl-item>
<dl-item>
<term>930</term><def><p>Communication with ESI interrupted or other error.</p>
</def>
</dl-item>
<dl-item>
<term>940</term><def><p>Return after SMS or SMS0 (will probably not be used).</p>
</def>
</dl-item>
<dl-item>
<term>default</term><def><p>What to do if an code that is not handled is returned.</p>
</def>
</dl-item>
</def-list>
<note><p>The meaning of result codes in the range 600-699 is not fixed. They
are produced in the telephony interface by a configurable mapping from status
codes in the telephony network. Thus it is possible to customize the outdial
functions reaction on telephony status codes in great detail.</p>
<p>The values above is the default representation.</p>
</note>
</chl4>
<chl4><title>Operations</title>
<p>The result of a call attempt determines a sequence of operations that should
be done. The available operations are:</p>
<def-list><dl-item>
<term>WAITON </term><def><p>Wait for the phone to be on (done by sending a
SMS type 0). If the phone is not mobile, this action is ignored.</p>
</def>
</dl-item>
<dl-item>
<term>WAIT &lt;t></term><def><p>Wait for <emph>&lt;t></emph> seconds, then
go to the next operation</p>
</def>
</dl-item>
<dl-item>
<term>SMS &lt;templatename></term><def><p>Send an SMS using the template <emph>&lt;templatename></emph>.</p>
</def>
</dl-item>
<dl-item>
<term>CALL</term><def><p>Try to call.</p>
</def>
</dl-item>
</def-list>
<p>The last operation in each sequence should be CALL, unless the outdial
sequence ends with the next state.</p>
</chl4>
<chl4><title>States</title>
<p>A state is represented by an integer number, where the initial state by
convention has number 0. The state is changed after the operation sequence
is completed</p>
</chl4>
<chl4><title>Outdial Configuration File</title>
<p>The configuration file for the outdial sequence consists of a number of
lines, each of the form <input>param=value</input>. There can also be comment
lines, starting with <input>'#'.</input> Most of the configuration file describes
the states and transitions but some parts of it define some basic operation
for outdial. It is possible to define default transitions that apply for any
state that does not have its own transition for an event explicitly set. This
is useful for error codes that should be the same in any state but may be
used for all reply codes. This is an example of an outdial configuration file:</p>
<note><p>The file is not complete, and does not handle all codes. It just
illustrates the type of lines that can occur in the configuration file.</p>
</note>
<p><preform># Example state machine
# Parameters not shown in diagram but needed
# Maximum time for call to stay in machine is 48 hours,
# if an outdial takes longer a sms with template
# outdial_replace will be sent
# The initial state is state 0 and total number of 
# states is three (state 0 , state 1 and state 2).
maxwaithours = 48
initialstate = 0
numberofstates = 3
longtimesms = outdial_replace

# In any state that does not specifiy code 402,
# wait 120 seconds, do a call, then go to state 1
# This covers both the arc from state1 back to state1
# and the arc from state2 to state1 in the diagram
# It also defines an arc from state 0 to state 1 that is
# not in the diagram, but that arc will never be travelled.
default.402 = 1/wait 120; call

# In any state, if a call succeeds go to the final state
# and do nothing further
default.200 = END/


#
# Action to do when starting
state.0.900 = 1/waiton; wait 20; call

#
# Most of state 1 is given by default, but we must
# define what to do when no answer
state.1.404 = 2/wait 900; call

# If an unknown code comes continue with another call attempt.
# Known errors should be taken care of by setting default.&lt;CODE>.
# The other errors that might come comes from making calls 
# through MVAS/MAS. 
state.1.default = 2/wait 900; call

# Most of state 1 is default, when no answer
# send sms and go to end state
state.2.404 = END/sms outdial_replace</preform></p>
</chl4>
<chl4><title>Properties</title>
<p>There are some general properties that can be set in the file:</p>
<def-list><dl-item>
<term>maxwaithours</term><def><p>This is the maximum time outdial is to be
attempted. When that time has passed the outdial will be stopped, regardless
of the current state. An sms is sent if <resource-id type="file-path">longtimesms</resource-id> is
defined.</p>
</def>
</dl-item>
<dl-item>
<term>initialstate</term><def><p>This is the state to start the outdial sequence
in. The initial action is determined from this state. This should normally
have the value 0. The states are numbered; 0, 1, 2, 3, n.</p>
</def>
</dl-item>
<dl-item>
<term>numberofstates</term><def><p>This is the total number of states used.
Note that if the last state number is n, then number of states must be n+1.</p>
</def>
</dl-item>
<dl-item>
<term>longtimesms</term><def><p>This is the SMS template to use when sending
SMS to notify about a call attempt that has taken longer than <resource-id
type="file-path">maxwaithours</resource-id>. The template is also used when
a call gives a return code that is not defined for the current state.</p>
</def>
</dl-item>
</def-list>
</chl4>
<chl4><title>Default Handling</title>
<p>Since many reply codes can be handled in the same way, regardless of the
state, it is possible to define default handling of a result code. Similarly,
there can be a default handling in a state, independent of the result code.</p>
<p>The properties defining the default handling are named <input>default.&lt;code></input> and <input>&lt;state>.default</input> where
&lt;code> and &lt;state> correspond to some code or state number.</p>
<p>The default handling means that there can be conflicting rules for a state
and code. The rules are seleced in the following order:</p>
<list type="unordered">
<list-item><p>Correct state and correct code.</p>
</list-item>
<list-item><p>Default state and correct code.</p>
</list-item>
<list-item><p>Correct state and default code.</p>
</list-item>
<list-item><p>If neither the state nor code match, an SMS is sent with the
template defined by the <resource-id type="file-path">longtimesms</resource-id> parameter.</p>
</list-item>
</list>
<p>The value specifies the next state and a sequence of operations in the
format described in <xref linkend="outdialstateandaction"/> below.</p>
<p>Example:Meaning that the outdial sequence will by default terminate in
all states when the call succeeds.</p>
<p><preform>default.200=END/</preform></p>
</chl4>
<chl4><title>Individual State Handling</title>
<p>Each combination of state and result code that needs an action or next
state different from the default, needs a parameter in the configuration file.
The parameter is named <input>state.&lt;stateno>.&lt;code></input>. <input>Stateno</input> is
the number of the state (0 up to numberofstates - 1) and <input>code</input> is
the result code. </p>
<p>The value specifies the next state and a sequence of operations in the
format described in <xref linkend="outdialstateandaction"/> below.</p>
<p>Example: Meaning that if a call attempt in state 3 gives the result code
404, another call attempt should be done after 15 minutes and the next state
is 4.</p>
<p><preform>state.3.404 = 4/wait 900; call</preform></p>
</chl4>
<chl4><title xml:id="outdialstateandaction">Syntax for State and Actions</title>
<p>The syntax for the property values is the same for default handling and
for individual states. The format is <input>&lt;next state>/[&lt;operation>[;&lt;operation...]]</input>,
i.e. the value consists of two parts; the next state and the action. The parts
are separated by a forward slash '/'. The next state is either a state number
or the string <quote>END</quote>. <quote>END</quote> defines that the machine
should go to its final state. The action is a sequence of zero or more operations.
If there are more than one operation the operations must be separated with
semicolon <quote>;</quote>. If the operation has a parameter the parameter
is separated from the operation name with a blank <quote></quote>.</p>
</chl4>
</chl3>
</chl2>
<chl2><title>Configuring MWI Notification for IP networks</title>
<p>Message waiting indicator (MWI) notification can be sent to both mobile
and IP-based telephones. MWI for mobile phones are sent as SMS and the configuration
can be found in <xref linkend="smsconfig"/>. This section will handle MWI
for IP-based telephones. </p>
<p>NTF sends a MWINotification XMP-request to MAS that sends a SIP NOTIFY
request to the end user. The XMP config parameters in <xref linkend="xmpconfig"/> are
therefore used in the call towards MAS.</p>
<p>Except from the XMP configuration MWI for IP networks has all configuration
in the file <resource-id type="file-path">&lt;NTFHOME>/cfg/MWIforIP.cfg</resource-id>.
This file must exist or MWI for IP will not work. It is possible to configure
the max time a notification is valid and how long to wait before making a
new notification retry. It is possible to have different retry times for different
retry attempts. For example the first 50 attempts could be done with 60 seconds
interval and the rest with 300 seconds interval to decrease the load on the
system and network.</p>
<p>NTF can count the users mail before every call attempt or NTF can count
the mails at incoming deposit or when the subscriber logs out. This is controlled
by the parameter alwayscheckcount in <resource-id type="file-path">MWIforIP.cfg</resource-id>.
The advantage by checking count at every call attempt is that the count will
be correct even if the user reads mail from an external imapclient or via
MEC but the disadvantage is increased IMAP traffic and load on the MS/NTF
machine. The default value is to not check count at every call.</p>
<p>Example on MWIforIP.cfg</p>
<p><preform>maxtimehours=168
waittime = 60
waittime.50-100 = 120
waittime.101-  = 300
alwayscheckcount = false</preform> 				</p>
<p>Wait 60 seconds for the first 50 attempts, 120 seconds for retry attempt
50 to 100 and wait 300 seconds for all other retry attempts. The notification
is only valid for 168 hours.</p>
<note><p>The answer from MAS can contain a retry-time that is the minimum
time to wait before making a new attempt. This time will override the time
configured.</p>
</note>
</chl2>
<chl2><title xml:id="slamdown">Configuring Slamdown Information</title>
<p>There are two forms of slamdown information. When basic slamdown information
is selected, an SMS and or E-mail with slamdown information is sent to the
subscriber immediately, for each slamdown call. When slamdown information
list is selected, NTF collects slamdown information until the subscribers
phone is turned on. Then NTF sends one or more SMS containing a list of information
about several slamdown calls. For Notification by E-mail, slamdown list is
not supported. When slamdown list is configured for SMS, the E-mail notifications
fall back to basic slamdown information. The configuration options differ
depending on which slamdown information is selected.</p>
<chl3><title>Pre-requisites</title>
<p>To use slamdown information, a number of things outside NTF must be set
up correctly:</p>
<list type="unordered">
<list-item><p>The slamdown function must be enabled in the users COS.</p>
</list-item>
<list-item><p>The slamdown function must be enabled in the MVAS/MAS configuration.</p>
</list-item>
<list-item><p>The user must have the service slamdown information (i.e. slamdown_notification
in the COS).</p>
</list-item>
<list-item><p>The user must not have disabled slamdown information.</p>
</list-item>
</list>
<p>If slamdown information list is used, the following must be set:</p>
<list type="unordered">
<list-item><p>NTF must have an account in the SMSC that allows bind as a transceiver.
If there are more NTFs using the same SMSC, each NTF needs its own account
or source address, to ensure that delivery receipts are returned to the NTF
that sent the SMS type 0.</p>
</list-item>
</list>
</chl3>
<chl3><title>Enabling the Function</title>
<p>When all pre-requisites are fulfilled, slamdown information in some form
will be sent, without further configuration</p>
</chl3>
<chl3><title>Customizing the Function</title>
<p>The slamdown information function can be customized in many ways. Most
important is the choice between basic slamdown and slamdown information list.</p>
<p>You customize the function with the following parameters in NTFs configuration
file ( <resource-id type="file-path">&lt;NTF_HOME>/cfg/notification.cfg</resource-id>):</p>
<def-list><dl-item>
<term>SlamdownList</term><def><p>This parameter selects between basic slamdown
and slamdown information list.</p>
</def>
</dl-item>
</def-list>
<p>For the slamdown information list function, NTF needs some special communincation
with the SMSC. The following parameters must be set:</p>
<def-list><dl-item>
<term>SmppBindType</term><def><p>Set this parameter to <input>transceiver</input>,
to allow NTF to receive SMS messages.</p>
</def>
</dl-item>
<dl-item>
<term>SmeSourceAddress, SmeSourceTon, SmeSourceNpi</term><def><p>Set these
parameters to correspond to NTFs SMS-sender address, so the SMSC knows where
to return the receipt when the phone is turned on. These values are provided
by the operator.</p>
</def>
</dl-item>
<dl-item>
<term>SourceAddress_slamdown</term><def><p>Source address that is set instead
of SmeSourceAddress if source addresses should be differentiated for different
types of SMS. This can contain the callers number.</p>
</def>
</dl-item>
<dl-item>
<term>SourceAddress_smsType0</term><def><p>Source address that is set instead
of SmeSourceAddress if source addresses should be differentiated for different
types of SMS.</p>
</def>
</dl-item>
<dl-item>
<term>SetReplyPath</term><def><p>This parameter must be set to match the SMSCs
way of routing the receipt to NTF. This value is provided by the operator.</p>
</def>
</dl-item>
</def-list>
<p>The following settings control the content of the slamdown information
list:</p>
<def-list><dl-item>
<term>SmsStringLength</term><def><p>Set this parameter to control the maximum
length of a slamdown information message. If the slamdown information does
not fit into one SMS, it will be sent in several SMS.</p>
</def>
</dl-item>
<dl-item>
<term>SlamdownMaxCallers</term><def><p>Set this parameter to force NTF to
include fewer callers in the slamdown information SMS than there is room for.</p>
</def>
</dl-item>
<dl-item>
<term>SlamdownMaxCallsPerCaller</term><def><p>Set this parameter to 9, to
restrict the call count to one digit even if a caller has called 10 or more
times.</p>
</def>
</dl-item>
<dl-item>
<term>SlamdownMaxDigitsInNumber</term><def><p>Set this parameter to truncate
the callers number, if you need to fit more callers in one SMS</p>
</def>
</dl-item>
<dl-item>
<term>SlamdownTimeOfLastCall</term><def><p>Set this parameter show the last
or first call to the user.</p>
</def>
</dl-item>
<dl-item>
<term>SlamdownTruncatedNumberIndication</term><def><p>If you choose to truncate
caller numbers, you may also want to set this parameter, so that it is apparent
that the number has been truncated.</p>
</def>
</dl-item>
</def-list>
</chl3>
<chl3><title>Customizing SMS Content for Slamdown Information</title>
<p>The phrase files for language customizing (&lt;NTF_HOME>/templates/*.cphr)
have a number of parameters that control the content of slamdown information
sent to the subscriber. These parameters should always be customized, the
default values will provide some information, but probably not good enough.</p>
<p>The customization of content is completely different depending on whether
the information is presented as a list or per slamdown call.</p>
<chl4><title>Content for Basic Slamdown Information</title>
<p>The template <resource-id type="file-path">slamdown</resource-id> in the
language file determines the content of the message sent, when slamdown information
is sent for each slamdown call. The template is any string, and these tags
can be embedded in the text:</p>
<def-list><dl-item>
<term>FROM</term><def><p>This tag is replaced by the callers telephone number.</p>
</def>
</dl-item>
<dl-item>
<term>TYPE</term><def><p>This tag is replaced by the call type (voice or video,
translated to the users preferred language).</p>
</def>
</dl-item>
</def-list>
</chl4>
<chl4><title>Content for Slamdown Information Lists</title>
<p>Each slamdown information message will consist of a header, one or more
body parts and a footer. Any of these may be empty. The content of the message
is determined by the templates:</p>
<list type="unordered">
<list-item><p>slamdownheader</p>
</list-item>
<list-item><p>slamdownheader1</p>
</list-item>
<list-item><p>slamdownfooter</p>
</list-item>
<list-item><p>slamdownbody</p>
</list-item>
</list>
<chl5><title>slamdownheader</title>
<p>Every slamdown information list SMS begins with this text. The slamdown
header can not contain any tags.</p>
<p>The default value is &ldquo;Callers:&rdquo; \u000a</p>
<note><p>To insert a special character in a phrase file, enter a backslash
followed by the character u and four-digit hexadecimal Unicode code. In particular,
a newline can be entered as \u000a.</p>
</note>
</chl5>
<chl5><title>slamdownheader1</title>
<p>If the slamdown information list has calls from a single caller, this template
is used instead of slamdownheader.</p>
<p>The default value is the value defined by <resource-id type="file-path">slamdownheader</resource-id></p>
</chl5>
<chl5><title>slamdownfooter</title>
<p>Every slamdown information list message ends with this text. The slamdown
header can not contain any tags.</p>
<p>The default value is empty.</p>
</chl5>
<chl5><title>slamdownbody</title>
<p>Between the header and footer in a slamdown information list message, information
about one or more callers is inserted. This template determines the content
of the information for each caller. In the slamdown body, the following tags
can be used:</p>
<def-list><dl-item>
<term>FROM</term><def><p>This tag is replaced by the callers telephone number.</p>
</def>
</dl-item>
<dl-item>
<term>COUNT</term><def><p>This tag is replaced by the number of times the
caller has made a slamdown call.</p>
</def>
</dl-item>
<dl-item>
<term>DATE=</term><def><p>This tag is replaced by the time (and date) of the
first/last slamdown call from the caller. See <xref linkend="dateformat"/></p>
</def>
</dl-item>
</def-list>
<p>The default value is FROM \u000a.</p>
</chl5>
</chl4>
</chl3>
<chl3><title>Examples</title>
<p>These examples assume that we have a user that has received a lot of slamdown
calls:</p>
<list type="unordered">
<list-item><p>1 call from 111222</p>
</list-item>
<list-item><p>46 calls from 333444</p>
</list-item>
<list-item><p>5 calls from 555666</p>
</list-item>
<list-item><p>1 call from 888999999999999</p>
</list-item>
<list-item><p>7 calls from 123456</p>
</list-item>
</list>
<table indent="column">
<caption>notification.cfg</caption>
<tgroup cols="1" char="" charoff="50"><colspec colname="col1"/>
<thead>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0">
<tp>notification.cfg</tp></entry>
</row>
</thead>
<tbody>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SMSStringLength=140</tp>
<tp>SlamdownMaxCallers=0</tp>
<tp>SlamdownMaxCallsPerCaller=0</tp>
<tp>SlamdownMaxDigitsInNumber=0</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
<table indent="column">
<caption>en.cphr</caption>
<tgroup cols="1" char="" charoff="50"><colspec colname="col1"/>
<thead>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0">
<tp>en.cphr</tp></entry>
</row>
</thead>
<tbody>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>slamdownheader={&rdquo;Callers:&rdquo;
\u000a }</tp>
<tp>slamdownbody={ FROM \u000a }</tp>
<tp>slamdownfooter={&rdquo;&ldquo;}</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
<table indent="column">
<caption>charconv.cfg</caption>
<tgroup cols="1" char="" charoff="50"><colspec colname="col1"/>
<thead>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0">
<tp>charconv.cfg</tp></entry>
</row>
</thead>
<tbody>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>Pack=No</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
<p>The different examples are described in relation to the following settings,
which are the default settings:</p>
<chl4><title>Default</title>
<p>This example shows what happens if all parameters have their default values,
with the exception of SlamdownList, of course.</p>
<table indent="column">
<caption>notification.cfg</caption>
<tgroup cols="1" char="" charoff="50"><colspec colname="col1"/>
<thead>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0">
<tp>notification.cfg</tp></entry>
</row>
</thead>
<tbody>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SlamdownList=Yes</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
<p> The slamdown information sent becomes:</p>
<p><preform>Callers:
111222
333444
555666
888999999999999
123456</preform></p>
</chl4>
<chl4><title>Extended Templates</title>
<p>This example uses templates with more information than the default settings: </p>
<table indent="column">
<caption>en.cphr</caption>
<tgroup cols="1" char="" charoff="50"><colspec colname="col1"/>
<thead>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0">
<tp>en.cphr</tp></entry>
</row>
</thead>
<tbody>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>slamdownheader={&rdquo;Calls
with no message left:&rdquo; \u000a }</tp>
<tp>slamdownbody={&rdquo;[&ldquo; COUNT &ldquo;] &rdquo; FROM &ldquo;, &ldquo;
DATE=dMMM_HH:mm \u000a }</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
<p>There will be two slamdown information SMS:</p>
<p><preform>Calls with no message left:
[1] 111222, 24May 17:00
[46] 333444, 24May 16:00
[5] 555666, 24May 15:00
[1] 999999123456, 24May 14:00</preform></p>
<p>and</p>
<p><preform>Calls with no message left:
[7] 123456, 23May 17:00</preform></p>
</chl4>
<chl4><title>Compact Format</title>
<p>By truncating long numbers, limiting call count to 9 and removing unecessary
characters from the templates, we can squeeze 5 callers in one SMS</p>
<table indent="column">
<caption>en.cphr</caption>
<tgroup cols="1" char="" charoff="50"><colspec colname="col1"/>
<thead>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0">
<tp>en.cphr</tp></entry>
</row>
</thead>
<tbody>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>slamdownheader=
{ &ldquo;Calls with no message left:&rdquo; \u000a }</tp>
<tp>slamdownbody={&rdquo;&lt;<tnote type="specific">In the default GSM character
set, the character &lt; uses one byte while [ uses two bytes.</tnote>&rdquo;
COUNT &ldquo;> &ldquo; FROM &ldquo;,&rdquo; DATE=dMMM_HH:mm \u000a }</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
<table indent="column">
<caption>notification.cfg</caption>
<tgroup cols="1" char="" charoff="50"><colspec colname="col1"/>
<thead>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0">
<tp>notification.cfg</tp></entry>
</row>
</thead>
<tbody>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SlamdownList=Yes</tp>
<tp>SlamdownMaxDigitsInNumber=6</tp>
<tp>SlamdownMaxCallsPerCaller=9</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
<p>Now, we get everything in one SMS:</p>
<p><preform>Calls with no message left:
&lt;1> 111222,24May 1700
&lt;9> 333444,24May 1600
&lt;5> 555666,24May 1500
&lt;1> *23456,24May 1400
&lt;7> 123456,23May 1700</preform></p>
</chl4>
</chl3>
</chl2>
<chl2><title xml:id="quotaconfig">Configuring Mailbox Quota Handling</title>
<p>It is possible to limit how much mail a users mailbox may contain. The
limit can be a number of megabytes, a number of messages or both. NTF can
be configured to send warning messages when a new message arrives and the
mailbox is full or almost full. The warning can be sent even when the mailbox
is so full that there is not room for the new message. NTFs quota handling
is very flexible and can be configured in many ways.</p>
<p>NTFs quota handling, which is activated when new messages arrive, should
not be confused with the daily quota check in the message store. This quota
check scans the users mailbox once a day and sends a warning message if the
mailbox is full.</p>
<p>When NTF detects that the users mailbox is full or almost full, it can
do one of these actions:</p>
<list type="unordered">
<list-item><p>Notify as usual.</p>
</list-item>
<list-item><p>Do not notify at all.</p>
</list-item>
<list-item><p>Notify as usual, but with a quota warning added to the notification
(only for SMS notification).</p>
</list-item>
<list-item><p>Send a special quota warning message.</p>
</list-item>
<list-item><p>Notify as usual, and send a special quota warning message.</p>
</list-item>
</list>
<p>NTFs quota handling is triggered every time a message arrives to the users
mailbox when it is full.</p>
<p>To find out if the users mailbox is full, NTF has to log into the users
inbox, so using this function will put extra load on both NTF and MS. If the
system has message count enabled, this function does not cost anything extra
though, since NTF then logs in to the inbox anyway.</p>
<p>The following parameters in notification.cfg are involved in this functionality:</p>
<list type="unordered">
<list-item><p>CheckQuota</p>
</list-item>
<list-item><p>NumberOfMailQuotaLevel</p>
</list-item>
<list-item><p>QuotaAction</p>
</list-item>
<list-item><p>QuotaTemplate</p>
</list-item>
</list>
<p>The phrase files for different languages (e.g. en.cphr and sv.cphr) must
also be tailored to the customers needs.</p>
<p>For quota based on number of messages, there are two levels; one when the
mailbox contains the maximum number of messages and one when it is full to
the level set with <resource-id type="file-path">NumberOfMailQuotaLevel</resource-id>.
The handling is the same, but different templates are used to generate the
warning message. For quota based on the number of megabytes in the inbox,
there is only one level. This level is set in the message store.</p>
<chl3><title>Examples</title>
<chl4><title>Configuring NTF to notify as usual even if the mailbox is full.</title>
<list type="unordered">
<list-item><p>Set CheckQuota to <emph type="low">Off</emph>.</p>
</list-item>
</list>
</chl4>
<chl4><title>Configuring NTF to stop notifications when the mailbox is full.</title>
<list type="unordered">
<list-item><p>Set CheckQuota to <emph type="low">On</emph>.</p>
</list-item>
<list-item><p>Set QuotaAction to <emph type="low">Discard</emph>.</p>
</list-item>
</list>
</chl4>
<chl4><title>Configuring NTF to send a warning message instead of notifications
when the mailbox is full.</title>
<list type="unordered">
<list-item><p>Set CheckQuota to <emph type="low">On</emph>.</p>
</list-item>
<list-item><p>Set QuotaAction to <emph type="low">Warn</emph>.</p>
</list-item>
<list-item><p>Configure the template for the warning message:</p>
<list type="unordered">
<list-item><p>Set the content for the template mailquotaexceeded in en.cphr
and other phrase files, e.g.</p>
<p><preform>mailquotaexceeded={"Your mailbox is nearly full, 
you may be missing messages."}</preform></p>
</list-item>
</list>
</list-item>
</list>
</chl4>
<chl4><title>Configuring NTF to send a warning message with some information
about the new message when the mailbox is full.</title>
<list type="unordered">
<list-item><p>Set CheckQuota to <emph type="low">On</emph>.</p>
</list-item>
<list-item><p>Set QuotaAction to <emph type="low">Warn</emph>.</p>
</list-item>
<list-item><p>Create a new template in en.cphr and other phrase files with
tags available for notification templates, e.g.</p>
<p><preform>quotawarning={"
You received a message from " FROM " , but your mailbox 
is full, so it may not have been stored."
}</preform></p>
</list-item>
<list-item><p>Set QuotaTemplate to the name of the new template e.g. </p>
<p><preform>QuotaTemplate=quotawarning</preform></p>
</list-item>
</list>
</chl4>
<chl4><title>Configuring NTF to send a warning message with some information
about the new message when the mailbox contains the maximum (or almost the
maximum) number of messages.</title>
<list type="unordered">
<list-item><p>Set CheckQuota to <emph type="low">On</emph>.</p>
</list-item>
<list-item><p>Set QuotaAction to <emph type="low">Warn</emph>.</p>
</list-item>
<list-item><p>Set NumberOfMailQuotaLevel to 90</p>
</list-item>
<list-item><p>Create new templates in en.cphr and other phrase files with
tags available for notification templates, e.g.</p>
<p><preform>quotawarning={
"You received a message from "
 FROM ", but your mailbox is full, 
so it was not stored in your inbox."
}</preform></p>
<p><preform>mailquotahighlevelexceeded={
"You received a message 
from " FROM ". Your mailbox is almost full, 
please make room for new messages."
}</preform></p>
</list-item>
<list-item><p>Set QuotaTemplate to the name of the new template e.g. </p>
<p><preform>QuotaTemplate=quotawarning</preform></p>
</list-item>
</list>
</chl4>
<chl4><title>Configuring NTF to send a warning message and normal notifications
when the mailbox is full.</title>
<list type="unordered">
<list-item><p>Set CheckQuota to <emph type="low">On</emph>.</p>
</list-item>
<list-item><p>Set QuotaAction to <emph type="low">NotifyAndWarn</emph>.</p>
</list-item>
<list-item><p>Configure the template for the warning message:</p>
</list-item>
<list-item><p>Set the content for the template mailquotaexceeded in en.cphr
and other phrase files, e.g.</p>
<p><preform>mailquotaexceeded= {
"Your mailbox is nearly full, you may be missing messages."
}</preform></p>
</list-item>
</list>
</chl4>
<chl4><title>Configuring NTF to send normal notifications, but with a quota
warning added to messages when the mailbox is full.</title>
<list type="unordered">
<list-item><p>Set CheckQuota to <emph type="low">On</emph>.</p>
</list-item>
<list-item><p>Set QuotaAction to <emph type="low">Notify</emph>.</p>
</list-item>
<list-item><p>Configure a subtemplate called QuotaText in en.cphr and other
phrase files, e.g.</p>
<p><preform>QuotaText= {
 " (Your mailbox is full)"
}</preform></p>
</list-item>
<list-item><p>Add the quota tag (QUOTA_TEXT) to all your templates (usually
called c, s h, or e0). Do <emph>not</emph> add the quota tag to any subtemplates.</p>
</list-item>
</list>
<p>If the mailbox is full, the text in the quota subtemplate will be inserted
into the message at the position of the quota tag. If the mailbox is not full,
the quota tag will just be removed.</p>
</chl4>
</chl3>
<chl3><title>Daily quota check</title>
<p>The mail server will scan mailboxes daily and warn users about full mailboxes.
This functionality has nothing to do with NTFs quota check functionality,
but to send the warnings, NTFs general system notification functionality is
used.</p>
<p>By default, NTF is delivered with a system notification called mailquotaexceeded,
which can be used for this functionality. The specification for this system
notification is:</p>
<example condensed="yes" indent="column">
<caption>Excerpt from systemnotification.cfg</caption>
<preform>[ mailquotaexceeded ]
 Subject=WARNING: Quota exceeded
 Received=[(x.x.x.x)]</preform>
</example>
<p>You should replace x.x.x.x with the IP-address of the mailserver. This
is to prevent malicious users outside MoIP from creating mail quota messages.</p>
<p>The default phrase files for different languages are delivered with a system
notification template called mailquotaexceeded. As you may notice, this is
the same name as the default template for NTFs quota warnings. Thus, the default
values will give the users the same warning text when NTF detects a full mailbox
when a message arrives, as when the message store detects a full mailbox in
its daily scan.</p>
<p></p>
<note><p>System Notifications like Daily Quota Check are available only for
SMS.</p>
</note>
</chl3>
</chl2>
<chl2><title xml:id="callmwi">Configuring Call-MWI Notification</title>
<p>The following parameters affect call-MWI notification:</p>
<chl3><title xml:id="callmwicaller">CallMwiCaller</title>
<p>Selects the sender that will appear on the subscribers calling line presentation
device.</p>
<def-list><dl-item>
<term>System</term><def><p>The number of the messaging system is used.</p>
</def>
</dl-item>
<dl-item>
<term>Caller</term><def><p>The number of the user that left the message is
used. If no number is available due to calling line presentation restriction,
or because the message is not telephone related (i.e. an ordinary email),
the system number is used instead.</p>
</def>
</dl-item>
<dl-item>
<term>Subscriber</term><def><p>The subscribers own telephone number is used.</p>
</def>
</dl-item>
</def-list>
</chl3>
<chl3><title xml:id="numbertomessagingsystemforcallmwi">NumberToMessagingSystemForCallMwi</title>
<p>Defines the number of the messaging system that appears on the subscribers
calling line presentation device when <resource-id type="file-path">CallMwiCaller</resource-id> is
set to <quote>System</quote></p>
<p>By default, this number is the same as that of <resource-id type="file-path">NumberToMessagingSystem</resource-id>.
Since that number is used in mobile notification types, and call-MWI notification
is primarily intended for fixed telephones, there may be a need for another
number, which is set in this parameter.</p>
</chl3>
<chl3><title>SMSTypeOfNumber and SMSNumberingPlanIndicator</title>
<p>The type of number and numbering plan indicator for the called and calling
number are taken from these parameters.</p>
</chl3>
<chl3><title>Prerequisites For Call-MWI Notification</title>
<p>This notification type is available for a user if the service is active
in the users COS and at least one MVAS/MAS that provides the needed XMP service,
is registered in MCR.</p>
<p>The user will get a call-MWI notification if</p>
<list type="unordered">
<list-item><p><quote>CMW</quote> is one of the notification types in the notification
filter (filter settings in COS).</p>
</list-item>
<list-item><p><quote>CMW</quote> is allowed for the terminal type the notification
is sent to (NTF parameters FixedTypes and MobileTypes).</p>
</list-item>
<list-item><p><quote>CMW</quote> is not disabled by the user for the telephone
number the notification is sent to (attribute on the billingnumber entry)..</p>
</list-item>
</list>
<note><p> <quote>The notification filter</quote> is short for <quote>the first
notification filter that matches the filter requirements on time and mail
headers</quote>.</p>
</note>
</chl3>
</chl2>
<chl2><title xml:id="characterconversion">Configuring character conversion </title>
<p>Internally, NTF uses the Unicode character set. This character set handles
almost any character, but requires two bytes per character. Many languages
only need a character set with 8 or 7 bits per character, such as the GSM
default character set, and can then have messages twice as long. To convert
Unicode into some other character set, NTF provides a character conversion
that can convert a Unicode character to output bytes. NTF is delivered with
general functionality that can convert a character to 0, 1, 2 or more bytes.
In addition, it is possible to plug in customized converters if the need arises.</p>
<p>The default converter that comes with the NTF component is configurable
and can convert a character to any sequence of output bytes. The conversion
is controlled by a configuration file. This file should be called <quote>charconv.&lt;protocol></quote> where
&lt;protocol> is the lower-case name of the protocol used for communication
with the SMSC. If that file is not found, the file <quote>charconv.cfg</quote> is
used instead.</p>
<p>NTF can try to convert to one character set, but if that fails because
of <quote>impossible</quote> characters, reconvert the entire message to UCS2
(SMSC version of Unicode). This is useful, e.g. if you want full-length messages
in english, but also want to allow chinese messages in the same system.</p>
<chl3><title>charconv.cfg</title>
<p>The NTF converter functionality is controlled by a character conversion
configuration file, <quote>charconv.cfg</quote>. This file could look like
this: </p>
<example condensed="yes" indent="column" xml:id="charconvexemp">
<caption>charconv.cfg</caption>
<preform>DataCodingScheme=0
Converter=Converter

#Convert unsupported characters to reverse question-marks.
0000-FFFF=60
#Just chop characters that are the same as ASCII
000A,000D,0020-007A=Chop

0009=3C7461623C

0060=Delete
#Currency symbols and accented characters
0040=Keep
00A3=01
00A4=24
20AC=1B65</preform>
</example>
<p>From this example, you can see that the file contains parameters (DataCodingScheme=0,
Converter=Converter) and conversion rules (0040=Keep, 20AC=1B65). There can
also be blank lines and comments in the file.</p>
</chl3>
<chl3><title>Parameters</title>
<p>The parameters that can be set in <resource-id type="file-path">charconv.cfg</resource-id> are:</p>
<def-list><dl-item>
<term>DataCodingScheme</term><def><p>A number between 0 (default) and 255
defining the character set after conversion. This is normally 0 (SMSC default
alphabet). Other values can be used, as defined by the SMSC protocol.</p>
</def>
</dl-item>
<dl-item>
<term>DataCodingSchemeForUcs2</term><def><p>When the converter failed to convert
to the configured character set, and had to revert to UCS2 conversion, another
data coding scheme must be set. The available values are the same a for <resource-id
type="file-path">DataCodingScheme</resource-id>, but for UCS2, the value is
usually 8..</p>
</def>
</dl-item>
<dl-item>
<term>Converter</term><def><p>Specifies the name of a plug-in converter to
replace the general converter. The default is "Converter", which means there
is no plug-in and the general converter is used.</p>
</def>
</dl-item>
<dl-item>
<term>Pack</term><def><p>NTF normally puts one character in each byte of the
converted message. If <resource-id type="file-path">Pack</resource-id> is
set to <quote>yes</quote>, NTF will instead put 8 characters in 7 bytes. The
value can be <quote>yes</quote> or <quote>no</quote>.</p>
</def>
</dl-item>
</def-list>
</chl3>
<chl3><title>Basic Conversion Rules</title>
<p>The rest of consists of character conversion rules. The most basic conversion
rule is of the form:where you specify character with one four-digit hexadecimal
number and the output bytes with 0 or more pairs of hexadecimal digits. 20AC=1B65
specifies a conversion from a Unicode euro currency character to the byte
sequence giving the euro character from the extension table in the GSM default
character set. You can specify any byte sequence you want, 0009=3C7461623C
in makes the tab-character in a message show as the five characters &lt;tab>
in the telephone if the default GSM character set is used.</p>
<p><preform>character>=&lt;output bytes></preform></p>
</chl3>
<chl3><title>Extended Conversion Rules</title>
<p>To make the file smaller and more convenient to write, there are some extensions.</p>
<p>First, you can specify a <quote>character list</quote> of characters that
shall be handled the same way. In <xref linkend="charconvexemp"/>, <quote>0000-FFFF=60</quote> specifies
a default for all characters, so that any characters not mentioned in another
conversion rule will give a reverse question mark in the default GSM character
set. In the same example it is also shown that character lists can be more
complex, like the one in <quote>000A,000D,0020-007A=Chop</quote>. </p>
<note><p>A character list can not contain spaces.</p>
</note>
<p>You can also specify <quote>actions</quote> for a character or character
list instead of output bytes, like the line <quote>0060=Delete</quote> in <xref
linkend="charconvexemp"/>. There are three actions and they are described
in this table:</p>
<table indent="column" xml:id="actiontable">
<caption>Actions</caption>
<tgroup cols="2" char="" charoff="50"><colspec colname="col1"/><colspec colname="col2"/>
<thead valign="bottom">
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0">
<tp>Action</tp></entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0">
<tp>Description</tp></entry>
</row>
</thead>
<tbody>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>chop</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>The most
significant byte of the unicode character is chopped off and the least significant
byte is output.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>delete</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>No byte
at all is output, i.e. the character is deleted.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>keep</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>The two
bytes of the unicode character are output unchanged.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>ucs2</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Conversion
is aborted, and the entire message is recoded into UCS2, i.e. the <quote>keep</quote> rule
is applied to all characters in the message.</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
<p>Hexadecimal digits and actions are not case sensitive.</p>
</chl3>
<chl3><title>Conversion Rule Priority</title>
<p>To make the file convenient to write, the same character can occur many
times in different overlapping rules. To resolve the ambiguities this leads
to, the following priorities are used:</p>
<list type="numeric">
<list-item><p>If there are several rules with identical character lists, the
last one is used. (Identical means that the sequence of hexadecimal digits,
commas and hyphens is identical including case, not just that the lists specify
the same characters). Except from that, the order between rules is not significant.</p>
</list-item>
<list-item><p>A rule specified for a single character has higher priority
than any rule where the character is part of a list.</p>
</list-item>
<list-item><p>Rules with the <quote>chop</quote> action have the highest priority
of all rules for a list of characters.</p>
</list-item>
<list-item><p>Rules specifying an <quote>output byte sequence</quote> have
second highest priority of all rules for a list of characters.</p>
</list-item>
<list-item><p>Rules specifying the <quote>keep</quote> action have the third
highest priority of all rules for a list of characters.</p>
</list-item>
<list-item><p>Rules specifying the <quote>delete</quote> action have the second
lowest priority of all rules for a list of characters.</p>
</list-item>
<list-item><p>Rules specifying the <quote>ucs2</quote> action have the lowest
priority of all rules for a list of characters.</p>
</list-item>
<list-item><p>If no rule at all is specified for a character, the default
action is chop which gives a reasonable result for digits and letters and
many punctuation characters.</p>
</list-item>
</list>
</chl3>
<chl3><title>Advice</title>
<p>Multi-byte output sequences take more time to process and require more
memory, so use actions or single-byte output sequences if possible. If many
multi-byte output sequences are needed, consider using a customized converter
if performance or memory usage are unacceptable.</p>
</chl3>
</chl2>
<chl2><title xml:id="smil">Configuring MMS notifications</title>
<p>The connection to the MMSC must be configured if MM7 is used as protocol
towards the MMSC. The needed configuration parameter are listed in <xref linkend="mmsconfig"/>.</p>
<p>NTF can use smil templates for the notification for video and voice messages.
The parameter usesmil must be set to true to activate smil templates.</p>
<p>The smiltemplate is located in a zip file together with additional media
content.</p>
<chl3><title>MMS zip file</title>
<p>The templates for MMS media content are located in one zip file for each
supported language and message type, so the user gets notification texts and
sounds in his/hers preferred language.</p>
<p>NTF uses different files for video and voice mms notifications. Video content
is stored in a file named video-&lt;language>.zip, voice content i stored
in a file named &lt;language>.zip. NTF uses the default language if a zip
file for the users language can't be found. The default language is english
(en).</p>
<p>All language files must be stored in the template directory under &lt;NTFHOME>
and have a file name consisting of the language name with the file extension
.zip, for example en.zip for the English phrase file for voice and "video-sv.zip"
for the Swedish phrase file for video.</p>
<note><p>The MMS zip files must be located in the specified directory and
have the required file names. Otherwise, the NTF component will not find the
files.</p>
</note>
<p>The zip file is mere a container of one or more different media files.</p>
<p> Consider the following rules when you create a MMS zip file:</p>
<list type="unordered">
<list-item><p>The zip file name must not contain any spaces.</p>
</list-item>
<list-item><p>The zip file MUST contain one and only one file with the extention
smil. I.e. &lt;any_name>.smil.</p>
</list-item>
</list>
</chl3>
<chl3><title>SMIL template</title>
<note><p>It is important to read and understand how SMIL works before any
configuration is done with MMS templates. To obtain information about how
SMIL work please consult www.w3c.org</p>
</note>
<p>The MMS messages use a subset of the Synchronized Multimedia Integration
Language (SMIL) as the presentation language, specified by the World Wide
Web Consortium (W3C).</p>
<p>The MMS notifications consist of a slide show of one or several slides. </p>
<p>The templates for an MMS notification (smil document and media files, such
as pictures, audio and text files) are located in a zip file. When a notification
should be sent, a MMS notification is generated using the media content in
the zip file.</p>
<p>The smil document defines how different types of media, e.g. text, sound
and pictures should be presented on receiving device.</p>
<p>SMIL stands for Synchronized Multimedia Integration Language and is tag
based language (xml). It is the SMIL template, located in the zip file that
determines how the different media files in the zip file should be presented
on the receiving device. There are SMIL tags available to specify timing,
sound and positioning on the screen. However, the actual appearance of the
presentation is dependent on the characteristics of the receiving device.
A presentation created for one device, may appear differently on another.</p>
<p>A slide in a SMIL presentation contains information about how different
multimedia elements should appear on a display. Due to the characteristics
of todays mobile devices, such as their screen sizes, audio limitations etc...,
there are limits to how MMS messages can be reproduced on the receiving devices.
Since NTF doesnt have a terminal database, it is very important that the SMIL
templates are configured so that the template agrees with as many mobile devices
as possible.</p>
<p>To obtain more information on how SMIL work please consult www.w3c.org.
Further more, since different mobile devices handle and implement SMIL differently,
please consult the different white papers that are available for different
mobile devices if the SMIL template should be modified.</p>
<chl4><title>An example of a SMIL template</title>
<p>The following example shows how an MMS SMIL template can look like.</p>
<p><preform>&lt;smil xmlns="http://www.w3.org/2001/SMIL20/Language">
&lt;head>
       &lt;layout>
               &lt;root-layout width="60" height="60" 
                background-color="#CEF6F0"/>
               &lt;region id="From" top="0" left="0" 
                height="15" width="60"/>
               &lt;region id="Image" top="15" left="0" 
                height="30" width="60"/>
               &lt;region id="Image" top="15" left="0" 
                height="30" width="60"/>
       &lt;/layout>
&lt;/head>
&lt;body>
       &lt;par dur="__LENGTH__s">
               &lt;text src="__FROM__" region="From">
                       &lt;param name="foreground-color" 
                        value="#00ccff"/>
                       &lt;param name="textsize" 
                        value="small"/>
               &lt;/text>
               &lt;img src="image.gif" region="Image"/>
               &lt;text src="__DATE__" region="Date">
                       &lt;param name="foreground-color" 
                        value="#ff00ff"/>
                       &lt;param name="textsize" 
                        value="large"/>
               &lt;/text>
               &lt;audio src="__MESSAGE__"/>
       &lt;/par>
&lt;/body>
&lt;/smil></preform></p>
<list type="unordered">
<list-item><p>This SMIL example defines a one slide show presentation for
text, image and audio.</p>
</list-item>
<list-item><p>This slide is displayed for __LENGTH__ seconds and includes
the image en_image.jpg. Below the image, the text defined by __FROM__ is displayed,
in small size and with colour #0000ff. Below that text, the text defined by
__DATE__ is displayed, in small size and with colour #0000ff. Simultaneously
an audio file is played.</p>
</list-item>
<list-item><p>__LENGTH__, __FROM__ and __DATE__ are SMIL template strings.</p>
</list-item>
</list>
<p>These will be explained in the following chapter:</p>
</chl4>
<chl4><title>SMIL template strings</title>
<p>A SMIL template string is a string that defines parts of the content in
SMIL template and in the MMS content that is displayed on the receiving device.</p>
<p>The following SMIL template strings can be inserted into the SMIL template
(the file with extension file with extension &lt;any_name>.smil</p>
<table indent="column">
<caption>SMIL Template Strings</caption>
<tgroup cols="2" char="" charoff="50"><colspec colname="col1"/><colspec colname="col2"/>
<tbody>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp> <emph>Tag</emph>	
					</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp> <emph>Description</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>__DATE__</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Indicates
that information about when the message was deposited should be displayed
on the receiving device. The format is based on the subscriber's preference.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>__FROM__</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Indicates
that information about the senders phone number should be displayed on the
receiving device . If the senders phonenumber could not be determined the
default system number will be used.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>__MESSAGE__</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Indicates
that the message should be transcoded and should be included in MMS notification.
Voice messages is encoded to amr and Video messages are transcoded to 3gp. </tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>__LENGTH__</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Duration
of a slide. If present within the smil template, __LENGTH__ will be replaced
with the length of the voice or video message in milliseconds.</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
<note>
<list type="unordered">
<list-item><p>The __LENGTH__ template string can only be present within a
SMIL dur parameter. I.e. &lt;par dur="__LENGTH__s"></p>
</list-item>
<list-item><p>The __DATE__, __FROM__, __MESSAGE__ and __COUNT__ template strings
can only be present within a SMIL src parameter. I.e. &lt;audio src="__MESSAGE__"/></p>
</list-item>
<list-item><p>The __DATE__, __FROM__, __MESSAGE__, __COUNT__ and __LENGTH__
template string can occur several times within the smil template.</p>
</list-item>
</list>
</note>
</chl4>
</chl3>
<chl3><title>Update a MMS zip template for a specific language</title>
<p>Simply create a new zip file with a new set of media files that should
be be a part of the MMS notification.</p>
<p>Add or remove media files to the zip file and/or modify the SMIL template
(if necessary) so that it corresponds to media files that should be included
in the MMS zip file and to the MMS template strings. Copy the new zip to template
directory and restart NTF.</p>
</chl3>
</chl2>
<chl2><title>Configuring Autoprint of New faxes</title>
<p>When a new fax arrives in a subscribers inbox, NTF can automatically forward
it to a fax machine for printing. The fax is printed after all notifications
have been sent. When the fax has been printed, NTF marks it as seen, in the
subscribers inbox.</p>
<chl3><title>Pre-requisites</title>
<list type="unordered">
<list-item><p>The user must have autoprint of fax active. Autoprint is active
if it is enabled in the user entry, or blank in the user entry and enabled
in the CoS.</p>
</list-item>
<list-item><p>The user must have set a default fax print number, and the number
must be another number than the users inbound fax number.</p>
</list-item>
<list-item><p>If subscriber external prefixes are used, a prefix for the subscriber
must be available via ESI.</p>
</list-item>
<list-item><p>The MS must be set up so that mails to the host "mfc" arrive
to the MFC..</p>
</list-item>
</list>
</chl3>
<chl3><title>Enabling the Function</title>
<p>When all pre-requisites are fulfilled, faxes will be autoprinted.</p>
</chl3>
<chl3><title>Customizing the Function</title>
<p>You customize the function with the following parameters in NTFs configuration
file ( <resource-id type="file-path">&lt;NTF_HOME>/cfg/notification.cfg</resource-id>):</p>
<def-list><dl-item>
<term>FaxPrintIp</term><def><p>Internal prefix which is added to the fax number.</p>
</def>
</dl-item>
<dl-item>
<term>FaxPrinSepSize</term><def><p>The number of digits in the subscriber
external prefix.</p>
</def>
</dl-item>
</def-list>
</chl3>
</chl2>
</chl1>
<chl1><title xml:id="tdatah">Traffic Data Handling</title>
<p>Events are sent as Accounting Request packets following the RADIUS-MA protocol.</p>
<p>The attributes field in the packet contains a number of attributes with
accounting details. Each attribute contains the following data: attribute
number (one octet), length (one octet) and value (0-253 octets).</p>
<p>The Accounting-Status-Type attribute is always set to Start-Stop (12),
to indicate an instantaneous event, combining the start and end of service
delivery.</p>
<p>The following attributes are reused from the RADIUS protocol and are required
in the request packet, that is common for all events.</p>
<table indent="column">
<caption>RADIUS Attributes</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>MA-Mailbox-Id</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Identifies the mailbox.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>{1234567}</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>MA-SAS-Identifier</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Name of the component  as registered in MCR.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>{ntf1@hostname.domain}</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Acct-Status-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The type of event.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>12 (Start-Stop event)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Acct-Session-Id</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Random value that is used to identify a session. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>&lt;random value></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Vendor-Specific</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The MoIP specific attributes are part of the vendor specific
attribute.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>193 </tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
<p>The MoIP specific attributes are part of the Vendor-Specific attribute.
The following MoIP specific attributes are required in the request packet,
that is common for all events.</p>
<table indent="column">
<caption>MOIP Specific Attributes</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Escape-To-Product</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>This attribute tells that the following attributes are specific
for the product.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>4 </tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>MAE-Time-Of-Event</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Timestamp for the event.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>&lt;timestamp></tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
<note><p>The complete set of attributes in a RADIUS-MA request packet is made
up of the attributes described for an event together with the required (common)
attributes.</p>
</note>
<chl2><title xml:id="notifyrelev">Notification Events</title>
<chl3><title xml:id="evsmsnotification">SMS Notification</title>
<table indent="column">
<caption>SMS Notification Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>1 (SMS)</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MAE-Event-Description</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Telephone
number of caller for voice message notifications.</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Default:
not present.</tp>
<tp>If configured: 12345678</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title xml:id="evemailnotification">E-mail Notification</title>
<table indent="column">
<caption>E-mail Notification Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>14 (Notification by E-mail)</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MAE-Event-Description</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Telephone
number of caller for voice message notifications.</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Default:
not present.</tp>
<tp>If configured: 12345678</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title xml:id="evslamdown">Slamdown Information</title>
<table indent="column">
<caption>Slamdown Information Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>1 (SMS)</tp>
<tp>14 (Notification by E-mail)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Reason</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Why the event was sent</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>1 (slamdown information)</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>System Reminder</title>
<table indent="column">
<caption>System Reminder Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>1 (SMS)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Reason</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Why the event was sent</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>2 (reminder)</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>SMS Replacing Outdial</title>
<table indent="column">
<caption>SMS Replacing Outdial Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>1 (SMS)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Reason</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Why the event was sent</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>3 (outdial replacement)</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>Fax print failed notification</title>
<table indent="column">
<caption>Fax Print Failed Notification Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>1 (SMS)</tp>
<tp> 14 (Notification by E-mail)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Reason</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Why the event was sent</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>4 (fax print has failed)</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>SMS Phone On (SMS type 0)</title>
<table indent="column">
<caption>SMS Phone On Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>1 (SMS)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Reason</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Why the event was sent</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>5 (PhoneOn)</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>Reminder SMS</title>
<table indent="column">
<caption>Reminder SMS Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>1 (SMS)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Reason</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Why the event was sent</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>13 (Reminder SMS)</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>Update SMS</title>
<table indent="column">
<caption>Update SMS Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>1 (SMS)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Reason</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Why the event was sent</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>14 (Update SMS)</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>Cancel SMS</title>
<table indent="column">
<caption>Cancel SMS Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>1 (SMS)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Reason</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Why the event was sent</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>15 (Cancel SMS)</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>Missed Call Information</title>
<table indent="column">
<caption>Missed Call Information Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>1 (SMS)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Reason</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Why the event was sent</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>6 (MissedCallInformation)</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title xml:id="evwapnotification">WAP Push Notification</title>
<table indent="column">
<caption>WAP Push Notification Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>2 (WAP)</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title xml:id="evmmsnotification">MMS Notification</title>
<table indent="column">
<caption>MMS Notification Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>4 (MMS)</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title xml:id="evmwinotification">MWI Notification</title>
<note><p>The MWI function applies only to Messaging-over-IP solutions that
include a voice application.</p>
</note>
<table indent="column">
<caption>MWI Notification Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>5 (MWI)</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title xml:id="evoutdialnotification">Outdial Notification</title>
<note><p>The Outdial function applies only to Messaging-over-IP solutions
that include a voice application.</p>
</note>
<table indent="column">
<caption>Outdial Notification Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>3 (Outdial)</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title xml:id="evpagernotification">Pager Notification</title>
<table indent="column">
<caption>Pager Notification Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>8 (Pager)</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>Call MWI Notification</title>
<table indent="column">
<caption>Call MWI Notification Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>9 (Call MWI)</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>Flash Notification (SMS class 0)</title>
<table indent="column">
<caption>Flash Notification Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>11 (Flash)</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>Wireline Notification</title>
<table indent="column">
<caption>Wireline Notification Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>12 (WMW)</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>Fax Autoprinted</title>
<table indent="column">
<caption>Fax Autoprinted Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>13 (Fax)</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>Failed Notification</title>
<table indent="column">
<caption>Failed Notification Event</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="1*"/><colspec colname="col2" colwidth="1*"/><colspec colname="col3"
colwidth="1*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Attribute name</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Value {example}</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Event-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of operation.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>7 (Send)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-Object-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of object. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>3 (Notifier)</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>MAE-SAS-Port-Type</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top"><tp>Type of port.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>One of the port numbers above, depending on what type of
send that failed</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MAE-Terminate-Cause</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Type of
failure</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>5 (notification
expired)</tp>
<tp>6 (general error)</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MAE-Event-Description</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Failure
description</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>discarding
bad message: ERROR CODE [0x0B] FROM SMSC (invalid destination address) when
sending SMS to {SMSAddress: 1,1,12ggH89}</tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
</chl2>
</chl1>
<chl1><title xml:id="ntfomappa">Appendix</title>
<chl2><title>Configuration Parameters</title>
<p>This section describes parameters in <resource-id type="file-path">notification.cfg</resource-id>.</p>
<p>The parameters are grouped in tables for different types of parameters.
Some parameters have a short description in the table. If there is no description
in the table, it can be found in <xref linkend="parameterdescriptions"/>.</p>
<chl3><title xml:id="configparameters">Miscellaneous Configuration Parameters</title>
<table indent="left-margin">
<caption>Miscellaneous Configuration Parameters</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="0.28*"/><colspec colname="col2" colwidth="0.36*"/><colspec colname="col3"
colwidth="0.36*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Parameter</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Values</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>LogicalZone</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Name of
the logical zone this NTF belongs to (if any)</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>String</tp>
<tp>Default: "unspecified".</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>Netmask</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>The netmask
of the the local host network. This parameter is used when determining whether
a component (e.g. MVAS) is local or non-local, but only if LogicalZone is
not set.</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>a.b.c.d
where a,b c and d are numbers 0..255.</tp>
<tp>Default: <input>255.255.255.0</input></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>NumberToMessagingSystem</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>This should
be a telephone number that can be used to call the messaging system. It may
be used in e.g. pager notifications.</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Range:
NA</tp>
<tp>Default: <input>133</input></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>InternalQueueSize</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Number of e-mail messages that NTF can buffer before being
processed.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: 1..100</tp>
<tp>Default: <input>5</input></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>LogLevel</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The log level to be used by the notification process, i.e.
level of detail written to the log file (LogFile):</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: </tp>
<tp>0 no logging (off)</tp>
<tp>1 error level</tp>
<tp>2 verbose level</tp>
<tp>3 debug level</tp>
<tp>Default: <emph>1</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>LogSize</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The maximum size in bytes for the notification log file (LogFile).
Once the size has been reached, the log file will be moved to a file with <quote>.sav </quote> as
file name extension.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: 100000..1000000000</tp>
<tp>Default: <emph>10000000</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>FlushLog</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>If true,
NTF will flush the log output after each line, otherwise, it will only flush
the log after error lines. </tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Range:
true-false</tp>
<tp>Default: <emph>false</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>WatchdogLogLevel</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The log level to be used by the ntfWatchdog.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: </tp>
<tp>0 no logging</tp>
<tp>1 error level</tp>
<tp>2 warning level</tp>
<tp>3 information level</tp>
<tp>Default: <emph>1</emph></tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>WatchdogLogSize</tp>
</entry>
<entry rotate="0"><tp>The maximum size of the logfile for the watchdog</tp>
</entry>
<entry rotate="0"><tp>Range: 100000..1000000000</tp>
<tp>Default: <emph>10000000</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>EsiFailureAction</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"></entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="esifailureaction"/></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>EsiSystem</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp> Indicates wheather there exists a ESI in the system or not.
At present this is used in CFU-check only. Other Esi-communication is determined
by input to NTF.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: yes-no</tp>
<tp>Default: <emph>no</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>PathToSnmpScripts</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Where to find snmp scripts.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: valid port number</tp>
<tp>Default: <emph>/apps/snmp/scripts</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>SnmpAgentPort</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Port number for management and monitoring.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>See <xref linkend="parameterdescriptions"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SnmpAgentTimeout</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>The time
in milliseconds the ntfagent process waits for updated MIB parameter values.</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Range:
NA</tp>
<tp>Default: <emph>10</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>VeryOldMessage</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Messages older than this time will be deleted by a clean-up
function, to ensure that messages do not linger in the notification mailboxes
for ever. This parameter shall not be confused with the expiry time for SMS
messages, that is stored in the user database. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Seconds</tp>
<tp>Range: 3600..604800</tp>
<tp>Default: <emph>259200</emph> (3 days)</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>CheckUserHasMessage</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"></entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="checkuserhasmessage"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>CheckUserHasMessageRetryCount</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"></entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="checkuserhasmessageretrycount"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>CheckQuota</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"></entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="checkquota"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>QuotaAction</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"></entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="quotaaction"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>QuotaTemplate</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"></entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="quotatemplate"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>NumberOfMailQuotaLevel</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"></entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="numberofmailquotalevel"/></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>NotifThreads</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Maximum number of notifications that should be processed
simultaneously.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: 3..30</tp>
<tp>Default: <emph>10</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>RetryInterval</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>If NTF
fails to send a notification, e.g. because it can not contact the SMSC, the
first few notifications are queued in NTF but the rest are cancelled and later
retrieved from the store again to be retried. </tp>
<tp>This parameter defines the interval between retries.</tp>
<tp> This parameter should be long enough that it is likely that the error
has been corrected, but not too long, since then the accumulated messages
will cause temporarily very high load on NTF.</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Seconds</tp>
<tp>Range: 60..3600</tp>
<tp>Default: <emph>600</emph></tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>MailMemoryMegabyte</tp>
</entry>
<entry rotate="0"><tp>This parameter limits the amount of memory used to store
notifications that could not be delivered due to communication problems with
an external system. If the limit is exceeded, NTF stops checking for new notifications
until the communication with the external system is OK again and memory has
been freed.</tp>
</entry>
<entry rotate="0"><tp>Range: 10-50</tp>
<tp>Default: <emph>20</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>FaxPrintIp</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"></entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="faxprintlp"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>FaxPrintSepSize</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"></entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="faxprintsepsize"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>FaxProvisioningPrefixSize</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"></entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="faxprovisioningprefixsize"/></tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>FaxPrintANumberPrefixSize</tp>
</entry>
<entry rotate="0"><tp>Defines the size of a prefix (e.g. size of country code)
that is removed from the subscribers telephone number, when used as A-number
in fax print requests</tp>
</entry>
<entry rotate="0"><tp>Range: 0-5</tp>
<tp>Default: <emph>0</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>UseCallerInEventDescription</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"></entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="usecallerineventdescription"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MessageIdValidate</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>The time
in seconds an autoprint fax notification shall be delayed.</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Range:
yes-no</tp>
<tp>Default: yes</tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>DelayAutoprintFaxSms</tp>
</entry>
<entry rotate="0"></entry>
<entry rotate="0"><tp>See description in <xref linkend="delayautoprintfaxsms"/></tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>AutoForwardedMessages</tp>
</entry>
<entry rotate="0"><tp>If set to true NTF will check for receivers that are
autoforwarded from other mail accounts. </tp>
</entry>
<entry rotate="0"><tp>Range: true|false</tp>
<tp>Default: <emph>false</emph></tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>DefaultNotificationFilter</tp>
</entry>
<entry rotate="0"><tp>The notification filter to use if no filter in the user
entry or COS matches. </tp>
<tp>It is not recommended to change this parameter.</tp>
</entry>
<entry rotate="0"><tp>Range: N/A</tp>
<tp>Default: <emph>1;n;a;evfm;;;997;;;;;OFF;;</emph></tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>DefaultNotificationFilter2</tp>
</entry>
<entry rotate="0"><tp>The notification filter for slamdowns.</tp>
<tp>It is not recommended to change this parameter.</tp>
</entry>
<entry rotate="0"><tp>Range: N/A</tp>
<tp>Default: <emph>1;y;a;s;SMS,EML;slamdown,slamdown;998;;;;;SLAMDOWN;;</emph></tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>DefaultNotificationFilter3</tp>
</entry>
<entry rotate="0"><tp>The notification filter for faxprint fail messages.</tp>
<tp>It is not recommended to change this parameter</tp>
</entry>
<entry rotate="0"><tp>Range: N/A</tp>
<tp>Default: <emph>1;y;a;p;SMS,EML;faxprintfail,faxprintfail;999;;;;;FAXPRINTFAIL;;</emph></tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>Directory Server Configuration Parameters</title>
<table indent="left-margin">
<caption>Directory Server Configuration Parameters</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="0.82*"/><colspec colname="col2" colwidth="1.36*"/><colspec colname="col3"
colwidth="0.79*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Parameter</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Values</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>MURPort</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The LDAP port number for the directory server (MUR). </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: valid port number</tp>
<tp>Default: <emph>389</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>MURHost</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Full DNS name of the host where the directory server (MUR)
is installed.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp>Default: <emph>murhost</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MURUserName</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>The user
that does reading and writing to MUR. Enter the full DN or one of the two
predefined names.</tp>
<tp><emph>Admin</emph> = uid=admin,ou=Directory Administrators,&lt;SEARCH
BASE></tp>
<tp><emph>Directory Manager</emph> = cn=Directory Manager</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Range:
NA</tp>
<tp>Default: <emph>Directory Manager</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>MURPassword</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Password for the MUR user.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp>Default: <emph>emmanager</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>MurRetryInterval</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>If the connection to MUR is lost, then NTF tries to re-establish
the connection with this interval.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Seconds</tp>
<tp>Range: 1..60</tp>
<tp>Default: <emph>10</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>MCRPort</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The LDAP port number for the configuration directory server
(MCR).</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: valid port number</tp>
<tp>Default: <emph>389</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>MCRHost</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Full DNS name of the host where the configuration directory
server (MCR) is installed.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp>Default: <emph>mcrhost</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>MCROrg</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The search base for MCR.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp>Default: <emph>o=config</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>MCRUserName</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The name of the MCR admin.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp>Default: <emph>IComponent</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>MCRPassword</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The password for the MCR admin.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp>Default: <emph>abc123</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>MCR_INSTANCE_NAME</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>Name of the NTF component instance as registered in MCR.</tp>
<tp>This name should be defined as follows: <emph>ntf1@hostname.domainname</emph>,
where <emph>hostname.domainname</emph> must be possible to look up by use
of DNS from the clients utilizing this service. Note that a host with several
network interfaces has several hostnames.</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>Range: NA</tp>
<tp>Default: <emph>ntf1@host1. yourcompany.com</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>SearchB<?Pub Caret?>ase</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>This value must be changed for each customer.</tp>
<tp>The search base used for all LDAP searches in MUR.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp>Default: <emph>ou=site1,o=userdb</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>McrExpiryTime</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The NTF component caches the information fetched from MCR
about other components in the system. This parameter determines how often
this information is refreshed. This parameter also determines how often NTF
reconnects to MUR.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Seconds</tp>
<tp>Range: 60..36000</tp>
<tp>Default: <emph>300</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>MurMaxConn</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Maximum number of simultaneous connections to the user directory.
This value should be the same as NotifThreads or a little less.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: 1..30</tp>
<tp>Default: <emph>10</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>DefaultDateFormat</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>The format
used for date information in notifications, if the information is missing
in the user entry, or if the notification is for a user that is not a subscriber.</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Range: </tp>
<tp>mm/dd/yyyy</tp>
<tp>dd/mm/yyyy</tp>
<tp>dd/mmm/yyyy</tp>
<tp>yyyy/mm/dd</tp>
<tp>yyyy-mm-dd</tp>
<tp>dd/mmm/yyyy</tp>
<tp>dd.mm.yyyy</tp>
<tp>yyyy_mm_dd</tp>
<tp>Default: <emph>yyyy/mm/dd</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>DefaultTimeFormat</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>The format
used for time information in notifications, if the information is missing
in the user entry, or if the notification is for a user that is not a subscriber.</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Range:
12 or 24</tp>
<tp>Default: <emph>24</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>DefaultLanguage</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"></entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="defaultlanguage"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MurConnectionJNDI</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>NTF can
use Netscape LDAP or Sun JNDI to connect to MUR. Set this parameter to true
for JNDI and false for Netscape LDAP. </tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Range:
true|false</tp>
<tp>Default: <emph>true</emph></tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>IMAP Configuration Parameters</title>
<table indent="left-margin">
<caption>IMAP Configuration Parameters</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="0.82*"/><colspec colname="col2" colwidth="1.36*"/><colspec colname="col3"
colwidth="0.81*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Parameter</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Values</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>IMAPRetryInterval</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>How long time NTF will wait until it retries to connect to
the notification mailbox (in MS). This parameter will have effect only when
NTF has lost its IMAP connection to MS.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Seconds</tp>
<tp>Range: 1..999</tp>
<tp>Default: <emph>30</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>IMAPThreads</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The number of <resource-id type="file-path">IMAPThreads</resource-id> connecting
to the notification mailboxes.  There should be one thread per mailbox, so
if you define 6 mailboxes in the message store, you should define 6 <resource-id
type="file-path">IMAPThreads</resource-id> in NTF.  The number of threads
are directly related to the notification mailbox name. For example: <resource-id
type="file-path">IMAPThreads = 6</resource-id> <resource-id type="file-path">gnotification1_0</resource-id> ... <resource-id
type="file-path">gnotification1_5</resource-id></tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: 3..30</tp>
<tp>Default: <emph>30</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>IMAPHost</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Full DNS name of the host where the message store (MS) is
installed.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp><emph>No Default</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>IMAPUserName</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>This value must be changed for all NTFs in a system, but
the first.</tp>
<tp>This is the basename for the notification mailboxes.  The actual mailbox
names will be of the format:  </tp>
<tp>&lt;IMAPUserName> _&lt;Thread_no> </tp>
<tp>For example, if the IMAPUserName = gnotification1 and IMAPThreads = 2
 then the mailbox names will be:  </tp>
<tp>gnotification1_0 gnotification1_1 </tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>Range: NA</tp>
<tp>Default: <emph>gnotification1</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>IMAPPassword</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The password to be used for the notification mailbox (IMAPUserName). </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp>Default: <emph>system</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>IMAPPostmaster</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The postmaster address. Messages sent to this address will
not get notification. </tp>
<tp>The format of the address is: <input>postmaster@&lt;host name>.&lt;domain
name></input></tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>Range: NA</tp>
<tp>Default: <emph>postmaster</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>IMAPPollInterval</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The interval NTF uses to poll the notification mailboxes. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Seconds</tp>
<tp>Range: 1..99</tp>
<tp>Default: <emph>10</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>IMAPPort</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The IMAP port number.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: valid port number</tp>
<tp>Default: <emph>143</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>ImapRootUserName</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>The user ID that will be used for logging in to the Messaging Server.
This user is the ServiceAdministrator that was defined during MS installation.
This user can be found in the user directory server, MUR. </tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp>Default: <emph>ServiceAdmin</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>ImapRootPassWord</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The password for the ImapRootUserName.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp><emph>admin</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>ImapTimeout</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>How long time NTF will try to connect to the IMAP server,
and also wait for a response.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Milliseconds</tp>
<tp>Range: 1000..30000</tp>
<tp>Default: <emph>5000</emph></tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>IMAPBatchSize</tp>
</entry>
<entry rotate="0"><tp>The number of message identities read from the store
in one operation.</tp>
</entry>
<entry rotate="0"><tp>Range: 1-1000</tp>
<tp>Default: <emph>100</emph></tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>DeletesBeforeExpunge</tp>
</entry>
<entry rotate="0"><tp>When NTF has deleted this many messages, an expunge
operation is done.</tp>
</entry>
<entry rotate="0"><tp>Range: 1-1000</tp>
<tp>Default: <emph>50</emph></tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>MaxTimeBeforeExpunge</tp>
</entry>
<entry rotate="0"><tp>If this number of seconds have passed since the last
expunge, a new expunge operation is done even if fewer than deletesBeforeExpunge
messages have been deleted.</tp>
</entry>
<entry rotate="0"><tp>Range: 10-3600</tp>
<tp>Default: <emph>300</emph></tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>NewMailFolders</tp>
</entry>
<entry rotate="0"></entry>
<entry rotate="0"><tp>See description in <xref linkend="newmailfolders"/></tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>WAP Push Configuration Parameters</title>
<table indent="left-margin">
<caption>WAP Push Configuration Parameters</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="0.83*"/><colspec colname="col2" colwidth="1.37*"/><colspec colname="col3"
colwidth="0.83*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Parameter</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Values</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>WAPPushUserName</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>User ID to be used for logging into the WAP gateway.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp><emph>No default</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>WAPPushPasswd</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Password to be used (by WAPPushUserName) for logging into
the WAP gateway.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp><emph>No default</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>WAPPushUrlSuffix</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp> <resource-id type="file-path">WAP Push</resource-id> application
on the WAP gateway.  </tp>
<tp>For example, if the <resource-id type="file-path">WAP Push</resource-id> application
is named <input>wap_push_appl</input>, and is located in the <resource-id
type="file-path">wap_push_dir</resource-id> directory on the host <input>host10.yourcompany.com</input>,
then the URL suffix is: <resource-id type="file-path">/wap_push_dir/wap_push_appl</resource-id> (and
the URL will become: <resource-id type="file-path">http://host10.yourcompany.com/wap_push_dir/wap_push_appl</resource-id>).</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>Range: NA</tp>
<tp>Default: <emph>/wap_push_dir/ wap_push_appl</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>WAPPushRetrievalHost</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The name of the host used for WAP push retrieval. This should
be a name that can be reached by the users, i.e. from an external network.
It can be the name of an MWS host or a load balancer for example.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp><emph>No Default</emph></tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title xml:id="mmsconfig">MMS Configuration Parameters</title>
<table indent="left-margin">
<caption>MMS Configuration Parameters</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="0.82*"/><colspec colname="col2" colwidth="1.36*"/><colspec colname="col3"
colwidth="0.82*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Parameter</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Values</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MMSWhiteList</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>The domain
that will be used in the <resource-id type="file-path">Mail From:</resource-id> field
of the envelope when MMS is sent via SMTP. Some MMSCs need to be configured
to accept this domain.</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Range:
NA</tp>
<tp>Default: An IP address of the NTF host.</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>MMSVersion</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>MMSheader that states which MMS version that should be used.
This header will be interpreted by the MMS-C.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp>Default: Single space character.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MMSUserName</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>The user
name for the external MMS-C. (Only valid for MM7 enabled servers that uses
HTTP)</tp>
<tp>If one single NTF instance shall use several MMS-Cs , the same NTF user
ID and password (as specified by the MMSUserName and MMSCPassword parameters)
must be used for all MMS-Cs.</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Range:
NA</tp>
<tp><emph>No default</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MMSCPassword</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>The password
for the external MMS-C. (Only valid for MM7 enabled servers that uses HTTP)</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Range:
NA</tp>
<tp><emph>No default</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>UseSmil</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>If the
MMS voice notification should include smil formatting.</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Range:
true|false</tp>
<tp>Default: false</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MMSMaxVideoLength</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Limits
the max length of the Video sent in the MMS notification. </tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Range:
-1 = no limit</tp>
<tp>0 = only first frame</tp>
<tp>1- = limit to X seconds</tp>
<tp>Default: -1</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MMSMaxConnections</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Max number
of outgoing MMS notifications. </tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Range:
1-1000</tp>
<tp>Default: 10</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MmscVaspId</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>The VASP
ID parameter for MM7</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Range:
NA</tp>
<tp>Default: NTF</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MmscVasId</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>The VAS
ID parameter for MM7</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Range:
NA</tp>
<tp>Default:</tp>
<tp>ntf@&lt;hostname></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MarkAsRead</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Marks a
message for the user as seen if the complete message has been sent out as
MMS.</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Range:
true|false</tp>
<tp>Default: false</tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>MMSPostMaster</tp>
</entry>
<entry rotate="0"><tp>Email address to use as receiver of all MMS notifications.</tp>
</entry>
<entry rotate="0"><tp>Range: N/A</tp>
<tp>Default: &ldquo; &ldquo;</tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>UseMMSPostMaster</tp>
</entry>
<entry rotate="0"><tp>If set to YES MMSPostMaster has to be set with a valid
email address. All MMS notifications will now be sent to this address.</tp>
</entry>
<entry rotate="0"><tp>Range: true|false</tp>
<tp>Default: <emph>false</emph></tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title xml:id="smsconfig">SMS Configuration Parameters</title>
<table indent="left-margin">
<caption>SMS Configuration Parameters</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="0.82*"/><colspec colname="col2" colwidth="1.34*"/><colspec colname="col3"
colwidth="0.82*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Parameter</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Values</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>SMSCTimeout</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The time for the SMSC to respond to an SMPP message.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Seconds</tp>
<tp>Range: 1..300</tp>
<tp>Default: <emph>30</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>ReplaceNotifications</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>This parameter lists the SMS templates<tnote type="specific">The
templates are defined in the phrase files for different languages, e.g. h,
s, slamdown, general and ivrtosms.</tnote> that are replaceable.</tp>
<tp> An SMS generated from a replaceable template will replace all previous
SMS from the same template to the same mobile.</tp>
<tp>The default value is suitable if the templates for c and mailquotaexceeded
generate messages like <output>"You have 3 new messages"</output> and <output>"Your
mailbox is almost full"</output></tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: Up to seven different notification content values.</tp>
<tp>Default: <emph>c, mailquotaexceeded</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>DisableSmscReplace</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>If DisableSmscReplace is set to yes, replace will only be
in the telephone, not in the SMSC. NTF uses the service type to control replace
in the SMSC. If this is not properly supported by the SMSC, set DisableSmscReplace
to yes.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range:yes, no, true, false, on and off.</tp>
<tp>Default: <emph>no</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>MessageCount</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>This is a global parameter that will turn the message count
feature on or off. <tnote type="specific" xml:id="messagecount">If both MessageCount
and CheckQuota are active, they will be combined so the quota is checked in
the process of finding the message count.</tnote></tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: ON/OFF</tp>
<tp>Default: <emph>ON</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>MsgCntByType</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>If <resource-id type="file-path">MessageCount</resource-id> is <quote>ON</quote>,
the <resource-id type="file-path">MsgCntByType</resource-id> parameter determines
whether or not the count of new messages in the mailbox will regard the message
type (voice, fax, e-mail, video). </tp>
<tp>If <resource-id type="file-path">MsgCntByType</resource-id> is set to <quote>YES</quote>,
the number of new messages will be counted by message type (voice, fax, e-mail,
video). The total number of new messages will also be counted.  </tp>
<tp>If <resource-id type="file-path">MsgCntByType</resource-id> is set to <quote>NO</quote>,
the total number of new messages will be counted, regardless of message type. </tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>Range: YES/NO</tp>
<tp>Default: <emph>YES</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>SMSString Length</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The maximum number of bytes allowed for one SMS message.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: 0..140</tp>
<tp>Default: <emph>140</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>SMESystemID</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The system name for the External Short Message Entity (ESME),
i.e the SMSC.</tp>
<tp>If a single NTF instance shall use several SMSCs, you can only specify
one account  with the SMESystemID and SMEPassword parameters. To use different
credentials on different SMSCs, you must use the MCRAddon file ( <xref linkend="mcraddon"/>).</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp><emph>No default</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>SMEPassword</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The password for the ESME used for connecting to the SMSC.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp><emph>No default</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>SMESystemType</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Identifies the type of ESME requesting to bind with the SMSC.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp>Default: <emph>MOIP</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SMEServiceType</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Used to
specify the type of service an SMS belongs to<tnote type="specific">For replaceable
templates, NTF assigns the service type to other, non-standard values</tnote>.
The default value <quote>VMN</quote> (voice-mail notification) should normally
be used</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Range:
NA</tp>
<tp>Default: <emph>VMN</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SMEServiceTypeForMwi</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Used to
specify the type of service for MWI on and MWI off messages.</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Range:
NA</tp>
<tp>Default: <emph>not set</emph>, meaning that the value for SMEServiceType
is used</tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>NumberOfSMS</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Maximum number of SMS messages that can sent for one notification.
 If a message is too large for one SMS, it can be split up into several SMS
messages.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: 1..10</tp>
<tp>Default: <emph>5</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>BearingNetwork</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Identifies the bearer network, CDMA2000 or GSM.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: GSM/CDMA2000</tp>
<tp>Default: <emph>GSM</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>SMSTypeOfNumber</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Describes the default type of telephone number used for SMS
and MWI notifications. <tnote type="specific" xml:id="tnotewwwsmpporg">Defined
in <emph type="low">Short Message Peer to Peer (SMPP) Specification</emph> (http://www.smpp.org)</tnote>.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp>Default: <emph>1</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>SMSNumberingPlanIndicator</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Indicates the default numbering plan of the telephone number
used for SMS and MWI notifications. <xref linkend="tnotewwwsmpporg"/></tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: NA</tp>
<tp>Default: <emph>1</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>SMESourceAddress</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="smesourceaddress"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SourceAddress_&lt;type></tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="sourceaddress"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SourceAddress_&lt;type>_&lt;cosname></tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="sourceaddress"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SourceAddress_&lt;system
notification name></tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="sourceaddress"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SourceAddress_&lt;system
notification name>_&lt;cosname></tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="sourceaddress"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>SMESourceTON</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="smesourceton"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>SMESourceNPI</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="smesourcenpi"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SMSMaxConn</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>The maximum
number of connections NTF is allowed to make to one SMSC</tp>
<tp>This number should not exceed the maximum allowed by the SMSC.</tp>
</entry>
<entry colname="" colsep="1" rowsep="1" char="" rotate="0"><tp>Range: 1..30</tp>
<tp>Default: 10</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SMSQueueSize</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="smsqueuesize"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>AllowedSmsc</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>When a
subscribers user entry specifies the SMSC <quote>auto</quote>, or when SMS
shall be sent to non-subscribers, NTF selects an SMSC from those found in
MCR. This parameter can be set to restrict the selection to a subset of the
SMSCs, e.g. to avoid using a test SMSC that is in MCR.</tp>
</entry>
<entry colname="" colsep="1" rowsep="1" char="" rotate="0"><tp>Range: a list
of space-separated SMSC names, e.g. <input>alfa beta gamma</input></tp>
<tp>Default: an empty list, which means NTF is allowed to use all SMSCs registered
in the component register.</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>DiscardSmsWhenCountIs0</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>If this
parameter is true, NTF will discard an SMS notification if the users new messages
have been counted and that count is 0.</tp>
<tp>This currently applies to all SMS messages, also those not related to
mail arriving to the users inbox, so it should normally be left at the default
value.</tp>
</entry>
<entry colname="" colsep="1" rowsep="1" char="" rotate="0"><tp>Range: YES/NO</tp>
<tp>Default: <emph>NO</emph></tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>KeepSmscConnections</tp>
</entry>
<entry rotate="0"><tp>If this parameter is false, NTF will drop connections
to the SMSC if the traffic is low. </tp>
<tp>If the parameter is set to true, NTF will keep the connections open even
without traffic</tp>
</entry>
<entry><tp>Range: YES/NO</tp>
<tp>Default: <emph>NO</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MwiOffCheckCount</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="mwioffcheckcount"/></tp>
</entry>
<entry></entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>MwiServers</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="mwiservers"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>smscbackup</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Defines
backup-SMSCs. The value is a list of pairs of SMSC names, in this format:</tp>
<tp>smsc1>smsc2 <emph> or</emph></tp>
<tp>smsc1>smsc2;smsc2>smsc3</tp>
<tp>The character <emph>></emph> can be seen as an arrow redirecting traffic
from smsc1 to smsc2 and from smsc2 to smsc3.The SMSC pairs are separated with
a <emph> ;</emph> character.</tp>
</entry>
<entry colname="" colsep="1" rowsep="1" char="" rotate="0"><tp>Range: NA</tp>
<tp><emph>No default</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SmppBindType</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="smppbindtype"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SmppErrorCodesIgnored</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="smpperrorcodesignored"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SmppVersion</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>The version
NTF sends during bind. This does not affect the actual version of smpp that
is used. Note that version is in decimal-format.</tp>
</entry>
<entry colname="" colsep="1" rowsep="1" char="" rotate="0"><tp>Range: NA</tp>
<tp>Default: 52</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>Smshandlerloadbalancing</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Loadbalancing
the handle of SMS between the SMSC for name and the backup SMSC.</tp>
<tp>When this parameter is true, NTF will switch to the backup SMSC not only
when there is a failure, but also when the SMSC is temporarily overloaded.</tp>
</entry>
<entry colname="" colsep="1" rowsep="1" char="" rotate="0"><tp>Range: true|false</tp>
<tp>Default: false</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SetReplyPath</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Tells how
the routing of replies from the telephone shall be routed to NTF.</tp>
</entry>
<entry colname="" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="setreplypath"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SmscPollInterval</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Tells how
often NTF should poll the SMSC, to keep the connection up.</tp>
</entry>
<entry colname="" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="smscpollinterval"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SmsPriority</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="smspriority"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SmscErrorAction</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>This is
an emergency parameter that can be set if NTF and the SMSC do not agree on
error codes.</tp>
<tp>Normally, the value <quote>handle</quote> is used, and NTF does its best
to handle the error, by retrying temporary errors and discarding messages
that give permanent errors.</tp>
<tp>Some SMSCs generate vendor-specific error codes or give a temporary error
code to permanent errors.</tp>
<tp>To stop NTF from retrying permanently failing messages, this parameter
can be set to <quote>log</quote> or <quote>ignore</quote>, which makes NTF
ignore error codes from the SMSC. <quote>log</quote> logs the error code though.</tp>
</entry>
<entry colname="" colsep="1" rowsep="1" char="" rotate="0"><tp>Range:handle|log|ignore</tp>
<tp>Default:handle</tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SplitMwiAndSms</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>Setting
this parameter to true forces NTF to send one sms-message and one mwi-message
if the user has both mwi and sms.</tp>
</entry>
<entry colname="" colsep="1" rowsep="1" char="" rotate="0"><tp>Range: true|false</tp>
<tp>Default: false</tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>UseAlternativeFlashDcs</tp>
</entry>
<entry rotate="0"><tp>See description in <xref linkend="usealternativeflashdcs"/></tp>
</entry>
<entry></entry>
</row>
<row>
<entry rotate="0"><tp>CancelSMSAtRetrieval</tp>
</entry>
<entry rotate="0"><tp>See description in <xref linkend="cancelsmsatretrieval"/></tp>
</entry>
<entry></entry>
</row>
<row>
<entry rotate="0"><tp>CheckTerminalCapability</tp>
</entry>
<entry rotate="0"><tp>See description in <xref linkend="checkterminalcapability"/></tp>
</entry>
<entry></entry>
</row>
<row>
<entry rotate="0"><tp>DefaultTerminalCapability</tp>
</entry>
<entry rotate="0"><tp>See description in <xref linkend="defaultterminalcapability"/></tp>
</entry>
<entry></entry>
</row>
<row>
<entry rotate="0"><tp>SendUpdateAfterRetrieval</tp>
</entry>
<entry rotate="0"><tp>See description in <xref linkend="sendupdateafterretrieval"/></tp>
</entry>
<entry></entry>
</row>
<row>
<entry rotate="0"><tp>SendUpdateAfterTerminalChange</tp>
</entry>
<entry rotate="0"><tp>See description in <xref linkend="sendupdateafterterminalchange"/></tp>
</entry>
<entry></entry>
</row>
<row>
<entry rotate="0"><tp>UnreadMessageReminderInterval</tp>
</entry>
<entry rotate="0"><tp>See description in <xref linkend="unreadmessagereminderinterval"/></tp>
</entry>
<entry></entry>
</row>
<row>
<entry rotate="0"><tp>UnreadMessageReminderMaxTimes</tp>
</entry>
<entry rotate="0"><tp>See description in <xref linkend="unreadmessageremindermaxtimes"/></tp>
</entry>
<entry></entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>UnreadMessageReminderType</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="unreadmessageremindertype"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>Validity_Flash</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="validity"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>Validity_SmsType0</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="validity"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>Validity_MwiOn</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="validity"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>Validity_MwiOff</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="validity"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>Validity_MailQuotaExceeded</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="validity"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>Validity_TemporaryGreetingOnReminder</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="validity"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>Validity_VoiceMailOffReminder</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="validity"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>Validity_CfuOnReminder</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="validity"/></tp>
</entry>
</row>
<row>
<entry rotate="0"><tp>Validity_Slamdown</tp>
</entry>
<entry rotate="0"><tp>See description in <xref linkend="validity"/></tp>
</entry>
<entry></entry>
</row>
<row>
<entry rotate="0"><tp>Validity_UnreadMessageReminder</tp>
</entry>
<entry rotate="0"><tp>See description in <xref linkend="validity"/></tp>
</entry>
<entry></entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>Validity_UpdateSMS</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="validity"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>Validity_&lt;system
notification name></tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="validity"/></tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>Slamdown Configuration Parameters</title>
<table indent="left-margin">
<caption>Slamdown Configuration Parameters</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="0.82*"/><colspec colname="col2" colwidth="1.35*"/><colspec colname="col3"
colwidth="0.82*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Parameter</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Values</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>SlamdownList</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="slamdownlist"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>SlamdownMaxCallers</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="slamdownmaxcallers"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SlamdownMaxCallsPerCaller</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="slamdownmaxcallspercaller"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SlamdownMaxDigitsInNumber</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="slamdownmaxdigitsinnumber"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SlamdownNumberOfRetries</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="slamdownnumberofretries"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SlamdownOldestFirst</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="slamdownoldestfirst"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SlamdownTimeOfLastCall</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="slamdowntimeoflastcall"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SlamdownRetryInterval</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="slamdownretryinterval"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>SlamdownTruncatedNumberIndication</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="slamdowntruncatednumberindication"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>JournalRefresh</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="journalrefresh"/></tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>Parameters for Outdial Notification</title>
<p>Some parameters in the <resource-id type="file-path"> notification.cfg </resource-id> configuration
file are used to configure the outdial notification function. </p>
<table indent="left-margin">
<caption>Parameters for Outdial Notification</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="0.82*"/><colspec colname="col2" colwidth="1.36*"/><colspec colname="col3"
colwidth="0.82*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Parameter</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" align="left" char=""
rotate="0" valign="top">
<tp>Values</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>DoOutdial</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>This parameter enables (YES) or disables (NO) the out-dial
notification function.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: YES/NO</tp>
<tp>Default: <emph>YES</emph></tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title xml:id="xmpconfig">XMP Configuration Parameters</title>
<p>The XMP protocol is used to communicate with other components, e.g. MVAS/MAS
for outdial notification and ESI for external subscriber information. This
section defines general XMP parameters. If there are specific parameters for
a certain notification type, that parameter overrides these general parameters.</p>
<table indent="left-margin">
<caption>XMP Configuration Parameters</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="0.82*"/><colspec colname="col2" colwidth="1.36*"/><colspec colname="col3"
colwidth="0.82*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Parameter</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Values</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>XmpTimeout</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Timeout for connection and response for XMP.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Seconds</tp>
<tp>Range: 5..120</tp>
<tp>Default: <emph>30</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>MaxXmpConnections</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The maximum number of simultaneous connections to one host/port
combination.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Range: this number should not have to be large, since each
connection supports multiple simultaneous transactions</tp>
<tp>Default: <emph>3</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>XmpValidity</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>How long an XMP transaction is useful, i.e. if this time
has passed, the transactions is not valid any more.</tp>
</entry>
<entry colname="col3" colsep="1" rowsep="1" char="" rotate="0"><tp>Seconds</tp>
<tp>Range: 30..3600</tp>
<tp>Default: <emph>90</emph></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>XmpPollInterval</tp>
</entry>
<entry><tp>See description in <xref linkend="xmppollinterval"/></tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>Pager Notification Configuration Parameters</title>
<table indent="left-margin">
<caption>Pager Notification Configuration Parameters</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="0.82*"/><colspec colname="col2" colwidth="1.35*"/><colspec colname="col3"
colwidth="0.83*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Parameter</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Values</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>PagerPauseTime</tp>
</entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>The string of digits used to send notifications to a pager
system may contain pauses. This parameter defines how long each pause shall
be.</tp>
</entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top"><tp>Milliseconds</tp>
<tp>Range: 100..10000</tp>
<tp>Default: <emph>1000</emph></tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title>Call-MWI Notification Configuration Parameters</title>
<table indent="left-margin">
<caption>Call-MWI Notification Configuration Parameters</caption>
<tgroup cols="3" align="left" char="" charoff="50"><colspec colname="col1"
colwidth="0.82*"/><colspec colname="col2" colwidth="1.35*"/><colspec colname="col3"
colwidth="0.83*"/>
<thead valign="bottom">
<row>
<entry colname="col1" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Parameter</tp></entry>
<entry colname="col2" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Description</tp></entry>
<entry colname="col3" morerows="0" colsep="1" rowsep="1" char="" rotate="0"
valign="top">
<tp>Values</tp></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0"><tp>CallMwiCaller</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="callmwicaller"/></tp>
</entry>
</row>
<row>
<entry colname="col1" colsep="1" rowsep="1" char="" rotate="0" valign="top">
<tp>NumberToMessagingSystemForCallMwi</tp>
</entry>
<entry colname="col2" colsep="1" rowsep="1" char="" rotate="0"><tp>See description
in <xref linkend="numbertomessagingsystemforcallmwi"/></tp>
</entry>
</row>
</tbody>
</tgroup>
</table>
</chl3>
<chl3><title xml:id="parameterdescriptions">Parameter Descriptions</title>
<chl4><title xml:id="cancelsmsatretrieval">CancelSmsAtRetrieval</title>
<p>This parameter enables or disables cancelling of pending notification messages
at retrieval. </p>
<def-list><dl-item>
<term>On, Yes, True</term><def><p>Cancel of pending notification messages
at retrieval is enabled.</p>
</def>
</dl-item>
<dl-item>
<term>Off, No, False</term><def><p>Cancel of pending notification messages
at retrieval is disabled.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">Off</emph>.</p>
</chl4>
<chl4><title xml:id="checkquota">CheckQuota</title>
<p>This parameter is the main switch for quota check functionality. If it
is <emph type="low">off</emph>, NTF will never even check the status of the
users mailbox, so there will never be any special quota handling. Turning
it on will enable the check, and increase the load on NTF and MS. The value
is not case-sensitive</p>
<def-list><dl-item>
<term>On, Yes, True</term><def><p>Log in to the users mailbox and check for
quota warning.</p>
</def>
</dl-item>
<dl-item>
<term>Off, No, False</term><def><p>Do not check for quota warning.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">Off</emph>.</p>
</chl4>
<chl4><title xml:id="checkterminalcapability">CheckTerminalCapability</title>
<p>This parameter enables or disables terminal awareness functionality. </p>
<def-list><dl-item>
<term>On, Yes, True</term><def><p>Terminal awareness functionality is enabled.</p>
</def>
</dl-item>
<dl-item>
<term>Off, No, False</term><def><p>Terminal awareness functionality is disabled.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">Off</emph>.</p>
</chl4>
<chl4><title xml:id="checkuserhasmessage">CheckUserHasMessage</title>
<p>If this parameter is true, NTF will check every notification by logging
in to the users mailbox and verifying that the message exists and is unread.
If not, the notification is cancelled. The advantage with this check is that
the user is not notified when the message has already been read, or when the
message was never stored in the users mailbox because it would exceed the
users quota. The disadvantage is that it puts extra load on the message store
and user registry.</p>
<def-list><dl-item>
<term>On, Yes, True</term><def><p>Only notify about unread messages that are
in the users mailbox.</p>
</def>
</dl-item>
<dl-item>
<term>Off, No, False</term><def><p>Notify for all messages that have arrived
to the system.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">Off</emph>.</p>
</chl4>
<chl4><title xml:id="checkuserhasmessageretrycount">CheckUserHasMessageRetryCount</title>
<p>This parameter tells how many times NTF will try to find a message in the
subscribers inbox before the message is finally removed from the store.</p>
<def-list><dl-item>
<term>-1</term><def><p>Retry until the message has arrived in the users mailbox
or the message is too old.</p>
</def>
</dl-item>
<dl-item>
<term>0</term><def><p>The message is removed with no retry.</p>
</def>
</dl-item>
<dl-item>
<term>199</term><def><p>The message is retried X times until it is removed.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph>0</emph>.</p>
</chl4>
<chl4><title xml:id="defaultlanguage">DefaultLanguage</title>
<p>If the user has no preferred language, the language in this parameter is
used instead.</p>
<def-list><dl-item>
<term>&lt;valid language code></term><def><p>The language is used for user
that do not have a preferred language.</p>
</def>
</dl-item>
<dl-item>
<term>&lt;not valid language code></term><def><p>English is used for users
that do not have a preferred language.</p>
</def>
</dl-item>
</def-list>
<p>A valid language code is one for which there is a phrase file in &lt;NTF_HOME/templates.</p>
<p>The default value is <emph type="low">en</emph>.</p>
</chl4>
<chl4><title xml:id="defaultterminalcapability">DefaultTerminalCapability</title>
<p>This parameter indicates the default terminal capabilties that shall be
used if the terminal capability can not be determined. This parameter is only
valid if CheckTerminalCapability is set to On. It is a string with three settings
in a comma separated list. Each setting has a name, an equals sign and a value.
The names are.</p>
<def-list><dl-item>
<term>MWI</term><def><p>Terminal MWI capability.</p>
</def>
</dl-item>
<dl-item>
<term>Flash</term><def><p>Terminal flash capability.</p>
</def>
</dl-item>
<dl-item>
<term>Replace</term><def><p>Terminal replace capability.</p>
</def>
</dl-item>
</def-list>
<p>And the value is one of:</p>
<def-list><dl-item>
<term>On</term><def><p>The terminal supports this feature</p>
</def>
</dl-item>
<dl-item>
<term>Off</term><def><p>The terminal does not support this feature</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">mwi=off,flash=on,replace=on</emph>.</p>
</chl4>
<chl4><title xml:id="esifailureaction">EsiFailureAction</title>
<p>Determines what to NTF shall do in case the notification is affected by
roaming status and the roaming status of the subscriber can not be determined.
The value is not case sensitive.</p>
<def-list><dl-item>
<term>Retry</term><def><p>Retry the notification later, by keeping the mail
in the store and activating it again within 10 minutes (configurable). If
some notification type that is not dependent on location succeeds, this retry
is cancelled.</p>
</def>
</dl-item>
<dl-item>
<term>Home</term><def><p>Assume the subscriber is home, i.e. disable the notification
types the subscriber wants disabled in the home network.</p>
</def>
</dl-item>
<dl-item>
<term>Roam</term><def><p>Assume the subscriber is roaming, i.e. disable the
notification types the subscriber wants disabled when roaming.</p>
</def>
</dl-item>
<dl-item>
<term>Both</term><def><p>Assume the subscriber is both home and roaming, i.e.
disable all notification types that depend on roaming status.</p>
</def>
</dl-item>
<dl-item>
<term>None</term><def><p>Assume the subscriber is neither home nor roaming,
i.e. enable all notification types that depend on roaming status.</p>
</def>
</dl-item>
<dl-item>
<term>AllowNotificationTypes=&lt;list of types></term><def><p>Of the notification
types that depend on roaming status, allow those in the list, i.e. types in
the list are enabled and all other types are disabled.</p>
<p>Example: </p>
<p><preform>EsiFailureAction=AllowNotificationTypes=SMS,MWI</preform></p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">Retry</emph>.</p>
</chl4>
<chl4><title xml:id="faxprintlp">FaxPrintIp</title>
<p>This parameter specifies the Internal Prefix for faxprint.</p>
<def-list><dl-item>
<term>&lt;any string></term><def><p>This string is prepended to the number
of the destination fax machine. This should normally be a number, but any
string is allowed.</p>
</def>
</dl-item>
<dl-item>
<term>&lt;empty string></term><def><p>No prefix is added.</p>
</def>
</dl-item>
</def-list>
<p>The default value is the empty string.</p>
</chl4>
<chl4><title xml:id="faxprintsepsize">FaxPrintSepSize</title>
<p>This parameter specifies the size of the Subscriber External Prefix for
faxprint.</p>
<def-list><dl-item>
<term>0</term><def><p>No subscriber external prefix is added.</p>
</def>
</dl-item>
<dl-item>
<term>1 and up </term><def><p>The subscriber external prefix is retrieved
from an external subscriber information system. Then it is made exactly the
number of digits specified by this parameter by zero padding to the left,
or truncating to the right. Finally, it is prepended to the number of the
destination fax machine.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">0</emph>.</p>
</chl4>
<chl4><title xml:id="faxprovisioningprefixsize">FaxProvisioningPrefixSize</title>
<p>Some customers have fax-only subscriptions. To let one subscriber have
both a voice and a fax-only subscription (with the same telephone number),
a provisioning prefix is added to the telephone number of all fax-only subscriptions.
When communicating with external systems, NTF must use the telephone number
of the real telephone, i.e. remove the provisioning prefix. This parameter
specifies the size of the prefix to remove.</p>
<p>This parameter is only effective for subscribers that have fax enabled
but not the voice service.</p>
<def-list><dl-item>
<term>0</term><def><p>No provisioning prefix is removed.</p>
</def>
</dl-item>
<dl-item>
<term>1 and up </term><def><p>This many characters in the beginning of the
provisioned telephone number are removed, before use in communication with
external systems.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">0</emph>.</p>
</chl4>
<chl4><title xml:id="delayautoprintfaxsms">DelayAutoprintFaxSms</title>
<p>The time an SMS notification about a new fax message is delayed, if the
fax is also autoprinted.</p>
<p>The time is set in seconds.</p>
<p>The default value is <emph type="low">3</emph>.</p>
</chl4>
<chl4><title xml:id="journalrefresh">JournalRefresh</title>
<p>Specifies how often the slamdown and emaillist data files should be refreshed.
The datafiles are trimmed and information not longer needed are removed when
a refresh is done.</p>
<p>The refreshtime is set in seconds.</p>
<p>The default value is <emph type="low">1800</emph>.</p>
</chl4>
<chl4><title xml:id="mwioffcheckcount">MwiOffCheckCount</title>
<p>When a user logs out of his mailbox, NTF normally sends an MWI off (if
the user has MWI). If this parameter is on, NTF counts the unread messages
in the users inbox and sends MWI off if the count is 0, but an updated MWI
on if not all messages have been read.</p>
<def-list><dl-item>
<term>On, Yes, True</term><def><p>Count the users unread messages and send
MWI off only when the count is 0.</p>
</def>
</dl-item>
<dl-item>
<term>Off, No, False</term><def><p>Always send MWI off when the user logs
out from the mailbox.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">Off</emph>.</p>
</chl4>
<chl4><title xml:id="mwiservers">MwiServers</title>
<p>This parameter tells NTF to send MWI requests to certain SMPP servers.
The parameter connects regular SMSC to MWI servers. When an MWI notification
is sent, NTF first checks which SMSC the user has. NTF checks this parameter
for a MWI server to use. If no MWI server is defined, the regular SMSC is
used, otherwise the MWI server is used.</p>
<p>The format of the parameter is a list of many to many connections.</p>
<example condensed="yes" indent="column">
<caption>MwiServers example</caption>
<preform>SMSCA>MWIA,MWIB;SMSCB,SMSCC>MWIC</preform>
</example>
<p>This means that SMSCA will use the mwi servers MWIA and MWIB. SMSCB and
SMSCC will use MWIC.</p>
<p>The default value is &ldquo;&ldquo;.</p>
</chl4>
<chl4 xml:id="newmailfolders"><title>NewMailFolders</title>
<p>This parameter determines if NTF will look in the inbox only or in the
Voice, Video, Fax and Inbox. </p>
<p>The parameter can have the following values and are case sensitive:</p>
<def-list><dl-item>
<term>single</term><def><p>NTF looks in the inbox only.</p>
</def>
</dl-item>
<dl-item>
<term>multiple</term><def><p>NTF looks in different folders. All messages
in the inbox are treated as e-mails</p>
</def>
</dl-item>
<dl-item>
<term>unknown</term><def><p>NTF looks in different folders. Messages in the
inbox are checked to see the type of message.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph>single</emph>.</p>
</chl4>
<chl4><title xml:id="numberofmailquotalevel">NumberOfMailQuotaLevel</title>
<p>The CoS of a user can limit the number of messages the user can have. If <resource-id
type="file-path">CheckQuota</resource-id> is set, NTF will warn when the mailbox
is full. If <resource-id type="file-path">NumberOfMailQuotaLevel</resource-id> is
set, NTF will also warn (with another message) when the mailbox is partly
full. This parameter defines the percentage for <quote>partly</quote>.See <xref
linkend="quotaconfig"/></p>
<def-list><dl-item>
<term>0-99</term><def><p>When the mailbox contains at least this many percent
of the allowed number of messages, a quota warning will be sent for each new
message that arrives.</p>
</def>
</dl-item>
<dl-item>
<term>-1, 100 and up</term><def><p>Quota warning only when the malbox is full.</p>
</def>
</dl-item>
</def-list>
</chl4>
<chl4><title xml:id="quotaaction">QuotaAction</title>
<p>QuotaAction controls NTFs handling of a notification if the users mailbox
is full. It is a string that can be <emph type="low">Notify</emph>, <emph
type="low">Discard</emph>, <emph type="low">Warn</emph> or <emph type="low">NotifyAndWarn</emph>.
The value is not case-sensitive.</p>
<def-list><dl-item>
<term>Notify</term><def><p>means NTF will send normal notifications to the
user.</p>
</def>
</dl-item>
<dl-item>
<term>Discard</term><def><p>means NTF will neither send any normal notifications
nor quota warnings to the user.</p>
</def>
</dl-item>
<dl-item>
<term>Warn</term><def><p>means NTF will send a quota warning message to the
user instead of the normal notification.</p>
</def>
</dl-item>
<dl-item>
<term>NotifyAndWarn</term><def><p>means NTF will send normal notifications
to the user, plus a quota warning message. If the normal notification also
uses SMS (or E-mail), the user will receive two messages.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">Warn</emph>.</p>
</chl4>
<chl4><title xml:id="quotatemplate">QuotaTemplate</title>
<p>QuotaTemplate tells NTF the name of the template to use for the quota warning
message sent when the mailbox is full. The template is defined in the phrase
files for the different languages. It can be any valid template name (see <xref
linkend="templatestrings"/>) The value is case-sensitive.</p>
<note><p>The name of the other template (when the mailbox is not quite full), <resource-id
type="file-path">mailquotahighlevelexceeded</resource-id>, is not configurable.
The name of the <quote>full</quote> template is configurable to allow it both
to be any template, and to be the same as the template used when the daily
quota check finds a full mailbox.</p>
</note>
<p>The default value is <emph type="low">mailquotaexceeded</emph>.</p>
</chl4>
<chl4 xml:id="sendupdateafterretrieval"><title>SendUpdateAfterRetrieval</title>
<p>This parameter enables or disables sending of an update SMS after retrieval.</p>
<def-list><dl-item>
<term>On, Yes, True</term><def><p>Update SMS after retrieval is enabled</p>
</def>
</dl-item>
<dl-item>
<term>Off, No, False</term><def><p>Update SMS after retrieval is disabled.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph>off</emph></p>
</chl4>
<chl4><title xml:id="sendupdateafterterminalchange">SendUpdateAfterTerminalChange</title>
<p>This parameter enables or disables sending of an update SMS after terminal
change.</p>
<def-list><dl-item>
<term>On, Yes, True</term><def><p>Update SMS after terminal change is enabled</p>
</def>
</dl-item>
<dl-item>
<term>Off, No, False</term><def><p>Update SMS after terminal change is disabled.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph>off</emph></p>
</chl4>
<chl4><title xml:id="setreplypath">SetReplyPath</title>
<p>This parameter is used to enable or disable the ReplyPath feature in the
SMSC. NTF sends this flag to the SMSC to tell it how a response from the phone
shall be routed.</p>
<p>The value must be provided by the operator.</p>
<def-list><dl-item>
<term>On, Yes, True, 1</term><def><p>Responses to SMS type 0 will be routed
"back to where it came from", i.e. the SMSCs involved will keep track of how
the response should come back to NTF.</p>
</def>
</dl-item>
<dl-item>
<term>Off, No, False, 0</term><def><p>The responses will be routed to a default
SMSC, stored in the users SIM card.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">No</emph>.</p>
</chl4>
<chl4><title xml:id="slamdownlist">SlamdownList</title>
<p>The slamdownlist parameter determines if an SMS with slamdown information
should be sent for each call, or if slamdown information should be collected
in a list that is sent as one or more SMS when the phone is turned on. The
value is not case sensitive.</p>
<def-list><dl-item>
<term>On, Yes, True, 1</term><def><p>Slamdown information is collected in
a list which is sent as a number of SMS when the phone is turned on.</p>
</def>
</dl-item>
<dl-item>
<term>Off, No, False, 0</term><def><p>Slamdown information is sent as one
message per slamdown call.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">No</emph>.</p>
<p></p>
<note><p>This configuration is not applicable for Notification by E-mail.</p>
</note>
<p></p>
</chl4>
<chl4><title xml:id="slamdownmaxcallers">SlamdownMaxCallers</title>
<p>SlamdownMaxCallers is the maximum number of callers in one slamdown information
message. The value must be a number:</p>
<def-list><dl-item>
<term>0</term><def><p>Put as many callers as possible in each SMS.</p>
</def>
</dl-item>
<dl-item>
<term>1 - about 5</term><def><p>Put at most this many callers in each SMS,
there will be fever callers if the SMS size would be exceeded.</p>
</def>
</dl-item>
<dl-item>
<term>about 6 and up</term><def><p>Un-necessarily large number with the same
effect as 0.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">0</emph>.</p>
</chl4>
<chl4><title xml:id="slamdownmaxcallspercaller">SlamdownMaxCallsPerCaller</title>
<p>SlamdownMaxCallsPerCaller limits the count of slamdown calls from one caller.
This is useful primarily for minimizing the size of the caller information
in the SMS by not counting more than e.g. 9 slamdown calls from the same caller.</p>
<def-list><dl-item>
<term>0 </term><def><p>Count all slamdown calls</p>
</def>
</dl-item>
<dl-item>
<term>9</term><def><p>Limit the count to one digit.</p>
</def>
</dl-item>
<dl-item>
<term>99</term><def><p>Limit the count to two digits</p>
</def>
</dl-item>
<dl-item>
<term>other numbers</term><def><p>Limit the count to other, perhaps less useful
numbers.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">0</emph>.</p>
</chl4>
<chl4><title xml:id="slamdownmaxdigitsinnumber">SlamdownMaxDigitsInNumber</title>
<p>SlamdownMaxDigitsInNumber can be set if long caller numbers should be truncated.</p>
<def-list><dl-item>
<term>0</term><def><p>Show all digits in the caller number. </p>
</def>
</dl-item>
<dl-item>
<term>other numbers</term><def><p>Remove leading digits from the caller numbers,
so at most this many digits remain.</p>
</def>
</dl-item>
</def-list>
<p>The default value is 0.</p>
</chl4>
<chl4><title xml:id="slamdownnumberofretries">SlamdownNumberOfRetries</title>
<p>If sending of the SMS type 0 or a slamdown information message fails, it
is retried periodically. This parameter determines how many retries will be
made before the slamdown information is discarded.</p>
<def-list><dl-item>
<term>number</term><def><p>NTF tries to send the SMS type 0 and the slamdown
information this many times, before giving up.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">5</emph>.</p>
</chl4>
<chl4><title xml:id="slamdownoldestfirst">SlamdownOldestFirst</title>
<p>This parameter determines the order in slamdown information messages ,
of the callers that made slamdown calls.</p>
<def-list><dl-item>
<term>On, Yes, True, 1</term><def><p>The caller that called least recently
is sent first.</p>
</def>
</dl-item>
<dl-item>
<term>Off, No, False, 0</term><def><p>The caller that called most recently
is sent first.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">Yes</emph>.</p>
</chl4>
<chl4><title xml:id="slamdowntimeoflastcall">SlamdownTimeOfLastCall</title>
<p>In case there are several slamdown calls from the same caller, this parameter
lets you select if the slamdown information shall show the time of the first
or last call.</p>
<def-list><dl-item>
<term>On, Yes, True, 1</term><def><p>The time of the callers last call is
shown in the slamdown information.</p>
</def>
</dl-item>
<dl-item>
<term>Off, No, False, 0</term><def><p>The time of the callers first call is
shown in the slamdown information.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">Yes</emph>.</p>
</chl4>
<chl4><title xml:id="slamdownretryinterval">SlamdownRetryInterval</title>
<p>If sending of the SMS type 0 or a slamdown information message fails, it
is retried periodically. This parameter determines the length of the period.</p>
<def-list><dl-item>
<term>number</term><def><p>How many seconds shall pass before NTF tries sending
a slamdown-related SMS again.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">300</emph>.</p>
</chl4>
<chl4><title xml:id="slamdowntruncatednumberindication">SlamdownTruncatedNumberIndication</title>
<p>SlamdownMaxDigitsInNumber can be used with SlamdownTruncatedNumberIndication
to replace the leftmost digit in a truncated number by another character,
to clearly indicate that the number has been truncated.</p>
<def-list><dl-item>
<term>empty</term><def><p>If a number has been truncated, there will be no
special indication.</p>
</def>
</dl-item>
<dl-item>
<term>any string</term><def><p>The leftmost digit of truncated numbers is
replaced with the first character of this string.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">*</emph>.</p>
</chl4>
<chl4><title xml:id="smesourceaddress">SMESourceAddress</title>
<p>If this parameter is set, NTF sends it as originating address with SMS-requests,
i.e. the SMS will be shown in the users mobile as if it came from this address.
This address can often be configured in the SMSC instead, and then the value
is omitted in notification.cfg.</p>
<p>It is possible to set a different source address for each type of SMS message,
by setting one or more of the parameters below with names starting with <input>SourceAddress_</input>.
The value of SMESourceAddress is the default for all those parameters.</p>
<def-list><dl-item>
<term>&lt;address></term><def><p>This telephone number is used as source address,
together with the type-of-number and numbering-plan-indicator set with the
parameters SMESourceTON and SMESourceNPI.</p>
</def>
</dl-item>
<dl-item>
<term>&lt;ton>,&lt;npi>,&lt;address></term><def><p>This type-of-number, numbering-plan-indicator
and telephone number is used as source address.</p>
</def>
</dl-item>
<dl-item>
<term>callers_number</term><def><p>The callers telephone number is used as
the sourceaddress, together with the type-of-number and numbering-plan-indicator
set with the parameters SMSSourceTON and SMSSourceNPI. Callers_number are
only valid for SourceAddress_slamdown and SourceAddress_ivrtosms.</p>
</def>
</dl-item>
<dl-item>
<term>&lt;ton>,&lt;npi>,callers_number</term><def><p>This type-of-number and
numbering-plan-indicator and the callers telephone number is used as the source
address. This is only available to SourceAddress_slamdown and SourceAddress_ivrtosms.</p>
</def>
</dl-item>
</def-list>
<p>The default value is the empty string, meaning the null source adress is
sent..</p>
</chl4>
<chl4><title xml:id="smesourcenpi">SMESourceNPI</title>
<p>The default numbering-plan-indicator used for source address parameters
with only the telephone number set.</p>
<def-list><dl-item>
<term>0..255</term><def><p>Numbering-plan-indicator is set to this value for
all source addresses that do not explicitly contain a numbering-plan-indicator.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">0</emph>.</p>
</chl4>
<chl4><title xml:id="smesourceton">SMESourceTON</title>
<p>The default type-of-number used for source address parameters with only
the telephone number set.</p>
<def-list><dl-item>
<term>0..255</term><def><p>Type-of-number is set to this value for all source
addresses that do not explicitly contain a type-of-number.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">0</emph>.</p>
</chl4>
<chl4><title xml:id="smppbindtype">SmppBindType</title>
<p>This parameter tells how NTF binds to the SMSC. If the function Slamdown
Information List is used, or if the outdial sequence checks for the phone
to be on, the value must be <quote>transceiver</quote>. Otherwise it should
be <quote>transmitter</quote>.</p>
<def-list><dl-item>
<term>transmitter</term><def><p>NTF binds to the SMSC as a transmitter.</p>
</def>
</dl-item>
<dl-item>
<term>transceiver</term><def><p>NTF binds to the SMSC as a transceiver.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">transmitter</emph>.</p>
</chl4>
<chl4><title xml:id="smpperrorcodesignored">SmppErrorCodesIgnored</title>
<p>This parameter tells which error codes from the smsc that should be ignored.
An ignored error code will cause the sms-notification to be treated as if
it was ok. Enter the codes seperated by &ldquo;,&rdquo; or &ldquo; &ldquo;.
The codes can be in hex-format (e.g. 0xAF) or decimal-format.</p>
<p>The default value is the empty string, meaning that no error codes ignored.</p>
</chl4>
<chl4><title xml:id="snmpagentport">SnmpAgentPort</title>
<p>This parameter defines the port where NTF listens to requests from the
SNMP agent. If the value only specifies a port number, NTF listens to that
port on the wildcard address. If the value includes an IP address, NTF listens
to the port on that interface.</p>
<def-list><dl-item>
<term>&lt;local-ip-address>:&lt;port number></term><def><p>NTF listens to
the port on the specified interface.</p>
</def>
</dl-item>
<dl-item>
<term>&lt;port number></term><def><p>NTF listens to the port on all interfaces.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">18001</emph>.</p>
</chl4>
<chl4><title xml:id="smscpollinterval">SMSCPollInterval</title>
<p>This parameter is only used if NTF shall wait until the phone is on before
outdial starts. To ensure that a connection is always up, NTF sends periodic
poll messages to avoid timeout in network components and the SMSC. The default
is often a suitable value, but other values may be needed, depending on how
the SMSC (and network components between NTF and the SMSC) is set up.</p>
<def-list><dl-item>
<term>any number</term><def><p>The number of seconds between polls.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">60</emph>.</p>
</chl4>
<chl4><title xml:id="smspriority">SmsPriority</title>
<p>This parameter defines the priority for all SMS messages sent by NTF. The
values are different depending on the protocol used for SMSC communcation.
If one NTF is attached to SMSCs with different protocols, a value that is
valid for all protocols should be used. Values outside the valid range have
the same effect as setting the priority to 0.</p>
<chl5><title>SMPP</title>
<def-list><dl-item>
<term>0-3</term><def><p>Priority, 0 is the lowest priority.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">0</emph>.</p>
</chl5>
<chl5><title>CIMD2</title>
<def-list><dl-item>
<term>0</term><def><p> No priority information is sent to the SMSC.</p>
</def>
</dl-item>
<dl-item>
<term>1-9</term><def><p> Priority, 9 is the lowest priority.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">0</emph>.</p>
</chl5>
</chl4>
<chl4><title xml:id="smsqueuesize">SmsQueueSize</title>
<p>Defines the max length for a queue towards one smsc. When the queue is
full no more requests to that smsc can be accepted and calls are directed
to the backup if loadbalancing is set or fails if loadbalancing is not set.</p>
<p>The default value is <emph>20</emph>.</p>
</chl4>
<chl4><title xml:id="sourceaddress">SourceAddress_*</title>
<p>It is possible to have different source addresses for different kinds of
SMS messages. If one of the source addresses in this section are not set,
the value of SMESourceAddress is used. All of the settings below support a
CoS specific source address that is used if present. The &lt;cosname> is COSname
in MUR. If for example setting SourceAddress_fax_cos1 is set and the user's
cosname is "cos2" the setting of SourceAddress_fax will be tried, and if this
is not set either, the SMESourceAddress is used. There is one exception: SourceAddress_IvrToSms
can only be set per NTF instance.</p>
<p>The format of source addresses is described in <xref linkend="smesourceaddress"/>.</p>
<chl5><title>SourceAddress_CfuOnReminder</title>
<p>Source address for reminders that the user has left unconditional call
forwarding on.</p>
</chl5>
<chl5><title>SourceAddress_email</title>
<p>Source address for email notifications.</p>
</chl5>
<chl5><title>SourceAddress_fax</title>
<p>Source address for faxmail notifications.</p>
</chl5>
<chl5><title>SourceAddress_Flash</title>
<p>Source address for flash notifications (SMS class 0).</p>
</chl5>
<chl5><title>SourceAddress_MailQuotaExceeded</title>
<p>Source address for mailbox full warnings.</p>
</chl5>
<chl5><title>SourceAddress_MwiOff</title>
<p>Source address for MWI off messages.</p>
</chl5>
<chl5><title>SourceAddress_MwiOn</title>
<p>Source address for MWI on messages.</p>
</chl5>
<chl5><title>SourceAddress_Slamdown</title>
<p>Source address for slamdown information SMS. Can have callers_numbers as
value.</p>
</chl5>
<chl5><title>SourceAddress_IvrtToSms</title>
<p>Source address for sending messages to non subscribers. Can have callers_numbers
as value.</p>
</chl5>
<chl5><title>SourceAddress_SmsType0</title>
<p>Source address for the SMS type 0 message that may be sent for some types
of slamdown information or outdial notification.</p>
</chl5>
<chl5><title>SourceAddress_TemporaryGreetingOnReminder</title>
<p>Source address for reminders that the user has left temporary greeting
on.</p>
</chl5>
<chl5><title>SourceAddress_UnreadMessageReminder</title>
<p>Source address for reminder SMS.</p>
</chl5>
<chl5><title>SourceAddress_UpdateSms</title>
<p>Source address for update SMS. Used both for updateAfterRetrieval and updateAfterTerminalChange.</p>
</chl5>
<chl5><title>SourceAddress_video</title>
<p>Source address for videomail notifications.</p>
</chl5>
<chl5><title>SourceAddress_voice</title>
<p>Source address for voicemail notifications.</p>
</chl5>
<chl5><title>SourceAddress_VoiceMailOffReminder</title>
<p>Source address for reminders that the user has left voice mail off.</p>
</chl5>
<chl5><title>SourceAddress_&lt;system notification name></title>
<p>Source address for a named system notification. If a system notification
is defined (see <xref linkend="systemnotifcfg"/>) a special source address
can be defined for that system notification by adding a source address parameter
named after the systemnotification.</p>
<p>E.g. a special source address for a system notification called cutthroughpaging
can be specified by defining the configuration parameter <input>SourceAddress_cutthroughpaging</input> in <resource-id
type="file-path">notification.cfg</resource-id></p>
</chl5>
</chl4>
<chl4><title xml:id="unreadmessageremindertype">UnreadMessageReminderType</title>
<p>This parameter enables or disables periodic sending of a reminder SMS to
inactive users, and selects the type of message.</p>
<def-list><dl-item>
<term>none</term><def><p>Sending of reminder SMS is disabled</p>
</def>
</dl-item>
<dl-item>
<term>sms</term><def><p>Sending of reminder SMS is enabled and the message
is an ordinary SMS.</p>
</def>
</dl-item>
<dl-item>
<term>flash</term><def><p>Sending of reminder SMS is enabled and the message
is a flash SMS.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">none</emph>.</p>
</chl4>
<chl4><title xml:id="unreadmessagereminderinterval">UnreadMessageReminderInterval</title>
<p>This parameter defines with what interval, the reminder SMS is sent. The
value shall be an integer number of seconds and it is recommended to use at
least several hours.</p>
<def-list><dl-item>
<term>&lt;60</term><def><p>Illegal value interpreted as 60 seconds.</p>
</def>
</dl-item>
<dl-item>
<term>60-</term><def><p>The number of seconds before the first reminder SMS
and between the following.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">86400 (one day)</emph>.</p>
</chl4>
<chl4><title xml:id="unreadmessageremindermaxtimes">UnreadMessageReminderMaxTimes</title>
<p>The maximum number of reminder SMS to send to a user. The value should
be a small, positive integer.</p>
<def-list><dl-item>
<term>1-</term><def><p>The number of times to send a reminder SMS before giving
up.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">3</emph>.</p>
</chl4>
<chl4><title xml:id="usealternativeflashdcs">UseAlternativeFlashDcs</title>
<p>The flash SMS function is implemented by sending an SMS Class 0. SMS class
0 is controlled by the GSM parameter data coding scheme, but this can be done
in two ways. Normally the DCS used is 16 for messages with the GSM default
character set and 24 for messages that require the UCS2 character set. With
this parameter, you can force DCS to be 240.</p>
<note><p>The alternative flash DCS can not be used with the UCS2 character
set. Make sure the UCS2 conversion is not used in the character conversion
file ( <xref linkend="characterconversion"/>).</p>
</note>
<def-list><dl-item>
<term>On, Yes, True, 1</term><def><p>Force DCS=240.</p>
</def>
</dl-item>
<dl-item>
<term>Off, No, False, 0</term><def><p>Set DCS to 16 or 24 depending on the
character set.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">off</emph>.</p>
</chl4>
<chl4><title xml:id="usecallerineventdescription">UseCallerInEventDescription</title>
<p>If this parameter is true, NTF will include the telephone number of the
caller in the event description of notification events <xref linkend="evemailnotification"/>.
This applies only to successful SMS notification of voice messages.</p>
<def-list><dl-item>
<term>On, Yes, True, 1</term><def><p>Include the caller number in the event
description.</p>
</def>
</dl-item>
<dl-item>
<term>Off, No, False, 0</term><def><p>Do not include the caller number in
event descriptions.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">off</emph>.</p>
</chl4>
<chl4><title xml:id="validity">Validity_*</title>
<p>These parameters specify the validity period for different types of SMS.
The validity period is the time period during which NTF shall consider a short
message of this type, to be valid.</p>
<p>This time is given to the SMSC, so that if it is not able to send the SMS
within the validity period, the SMS will be discarded.</p>
<def-list><dl-item>
<term>0</term><def><p>The SMSC will decide validity period</p>
</def>
</dl-item>
<dl-item>
<term>1-300</term><def><p>The validity period is set to this many hours. </p>
</def>
</dl-item>
<dl-item>
<term>301-</term><def><p>Valid values that are probably useless.</p>
</def>
</dl-item>
</def-list>
<p>The default value is taken from the expiration time in the users service
profile.</p>
<chl5><title>Validity_CfuOnReminder</title>
<p>Validity period for reminders that the user has left unconditional call
forwarding on.</p>
</chl5>
<chl5><title>Validity_Flash</title>
<p>Validity period for flash notifications (SMS class 0).</p>
</chl5>
<chl5><title>Validity_MailQuotaExceeded</title>
<p>Validity period for mailbox full warnings.</p>
</chl5>
<chl5><title>Validity_MwiOff</title>
<p>Validity period for MWI off messages.</p>
</chl5>
<chl5><title>Validity_MwiOn</title>
<p>Validity period for MWI on messages.</p>
</chl5>
<chl5><title>Validity_Slamdown</title>
<p>Validity period for slamdown information SMS.</p>
</chl5>
<chl5><title>Validity_SmsType0</title>
<p>Validity period for the SMS type 0 message that may be sent for some types
of slamdown information or outdial notification.</p>
</chl5>
<chl5><title>Validity_TemporaryGreetingOnReminder</title>
<p>Validity period for reminders that the user has left temporary greeting
on.</p>
</chl5>
<chl5><title>Validity_VoiceMailOffReminder</title>
<p>Validity period for reminders that the user has left voice mail off.</p>
</chl5>
<chl5><title>Validity_UnreadMessageReminder</title>
<p>Validity period for unread message reminders.</p>
</chl5>
<chl5><title>Validity_UpdateSms</title>
<p>Validity period for update SMS. Used both for updateAfterTerminalChange
and updateAfterRetrieval.</p>
</chl5>
<chl5><title>Validity_&lt;system notification name></title>
<p>Validity period for a named system notification. If a system notification
is defined (by configuring <resource-id type="file-path">systemnotification.cfg</resource-id> and <resource-id
type="file-path">*.cphr</resource-id>) a special validity period can be defined
for that system notification by adding a validity period parameter named after
the systemnotification.</p>
<p>E.g. a special validity period for a system notification called cutthroughpaging
can be specified by defining the configuration parameter <input>Validity_cutthroughpaging</input> to <resource-id
type="file-path">notification.cfg</resource-id></p>
</chl5>
</chl4>
<chl4><title xml:id="xmppollinterval">XmpPollInterval</title>
<p>NTF sends empty XMP requests with this interval to allow servers a possibility
to send replies.</p>
<def-list><dl-item>
<term>5-180</term><def><p>An empty requests is sent with this many seconds
interval. </p>
</def>
</dl-item>
<dl-item>
<term>other</term><def><p>Allowed but not useful.</p>
</def>
</dl-item>
</def-list>
<p>The default value is <emph type="low">90</emph>.</p>
</chl4>
</chl3>
</chl2>
<chl2><title>Tools</title>
<p>This appendix describes some tools delivered with NTF.</p>
<p>All tools can be found in the <resource-id type="file-path">bin</resource-id> directory
of the NTF installation ( <resource-id type="file-path">&lt;NTF_HOME>/bin</resource-id>).</p>
<chl3><title xml:id="checkconfig">checkconfig</title>
<p>checkconfig removes comments, illegal parameters, obsolete parameters and
parameters with default values from an NTF configuration file and prints the
result. The output is the smallest file that gives the same configuration
as the input file.</p>
<p>The tool can be used to </p>
<list type="unordered">
<list-item><p>See just the most interesting parameters in a configuration
file, i.e. those that have been modified from the default values.</p>
</list-item>
<list-item><p>Find illegal or obsolete parameters (using the option <quote> a</quote>).</p>
</list-item>
<list-item><p>Find parameters that should be set (parameters that should be
set will have the value <quote>NoDefault</quote> in the output).</p>
</list-item>
<list-item><p>Update the original configuration file with the output (using
the option <quote> c</quote>, for change).</p>
</list-item>
</list>
<p>To run <resource-id type="file-path">checkconfig</resource-id>, NTFs java
archive ( <resource-id type="file-path">ntf.jar</resource-id>) must be available
either in the current directory or in a child or sibling directory called <resource-id
type="file-path">bin</resource-id>. One way to fulfill this is to run <resource-id
type="file-path">checkconfig</resource-id> from <resource-id type="file-path">&lt;NTF_HOME>/cfg</resource-id> where
the configuration files are stored:</p>
<p><emph>NOTE that checkconfig deletes comments from the configuration file.</emph></p>
<p>These examples show the ways the tool can be used:</p>
<example condensed="yes" indent="column">
<caption>Help information for checkconfig</caption>
<preform>#cd &lt;NTF_HOME>/cfg
#../bin/checkconfig -h
Usage: checkconfig [-anc] [&lt;configfilename>]
    -a include parameters with default values and \
               illegal or obsolete parameters as comments.
    -c replace the config file with the cleaned version.
    -n run in noninteractive mode, not asking questions \
       if cleaning.
    configfilename defaults to "./notification.cfg".</preform>
</example>
<example condensed="yes" indent="column">
<caption>Checking the default file ./notification.cfg</caption>
<preform>#cd &lt;NTF_HOME>/cfg
#../bin/checkconfig</preform>
</example>
<example condensed="yes" indent="column">
<caption>Checking another file</caption>
<preform>#cd &lt;NTF_HOME>/cfg
#../bin/checkconfig notification.cfg.old</preform>
</example>
<example condensed="yes" indent="column">
<caption>Displaying all parameters, even obsolete and illegal ones, and those
that just have the default value.</caption>
<preform>#cd &lt;NTF_HOME>/cfg
#../bin/checkconfig -a</preform>
</example>
<example condensed="yes" indent="column">
<caption>Updating the original file.</caption>
<preform>#cd &lt;NTF_HOME>/cfg
#../bin/checkconfig -c</preform>
</example>
<example condensed="yes" indent="column">
<caption>Everything at once - checking and updating a non-default file, keeping
all parameters and not asking for confirmation.</caption>
<preform>#cd &lt;NTF_HOME>/cfg
#../bin/checkconfig -anc outdial.cfg</preform>
</example>
</chl3>
<chl3><title>verify-outdial</title>
<p>Verify-outdial checks the configuration file used for outdial. It must
be run in the cfg directory.</p>
<example condensed="yes" indent="column">
<caption>Running verify-outdial.</caption>
<preform>../bin/verify-outdial outdial-default.cfg</preform>
</example>
<p>The tool examines the configuration file and prints out potential problems
it finds in the file. If there is an error in the file that makes it impossible
to create the outdial state machine, that error is reported and nothing else.</p>
<p>If the configuration file describes a valid state machine, there may still
be problems that might lead to failures during outdial handling. Those problems
are classified as warnings, with three different levels; high, medium and
low; depending on the impact and the probability that it was intentional.</p>
<p>The tool checks the following things:</p>
<chl4><title>Error</title>
<list type="unordered">
<list-item><p>The state machine can not start, because no transition is defined
from the initial state when the start code is received. This means that there
will be a runtime error at the first transition for all outdial attempts.
The outdial handling sends a replacement sms if this happens.</p>
</list-item>
</list>
</chl4>
<chl4><title>High Level Warning</title>
<list type="unordered">
<list-item><p>Some state does not handle all reply codes. This will give a
runtime failure if the unhandled code is received. The outdial handling sends
a replacement sms if this happens.</p>
</list-item>
<list-item><p>Transition after a sucessful call does not lead to the end state.
This means that more actions might be done after a successful call, including
calling again.</p>
</list-item>
<list-item><p>A command list does a call that is not at the end of the list.
This means that the following operations will be done regardless of the result
of the call.</p>
</list-item>
<list-item><p>The state machine may stop, i.e. there is a command list not
ending with a call, where the next state is not the end state. Without a call,
no code will be received that can move the state machine to a new state.</p>
</list-item>
<list-item><p>A state will never be reached. There are no transitions from
the initial state to a state. This means that the state will never be reached.
This is not in itself dangerous but indicates a mistake in the configuration
file.</p>
</list-item>
</list>
</chl4>
<chl4><title>Medium Level Warning</title>
<list type="unordered">
<list-item><p>The state machine contains transitions for unknown codes. This
is not dangerous in itself, the transitions for those codes just never will
be followed, however this can indicate other errors.</p>
</list-item>
<list-item><p>An SMS template that does not exist in the template files is
used. This means that the default sms content will be used when that sms command
is executed.</p>
</list-item>
<list-item><p>A state does not define any transitions on its own, it only
uses the defaults. This might be correct if the default is appropriate, but
it might be a sign of a mistake in the configuration file.</p>
</list-item>
<list-item><p>There is a loop of states that can occur for other codes than
the busy code. This means that there are some conditions where the outdial
will try to call indefinitely. When the phone is busy, it is often desirable
to loop and call again frequently. For other codes, it may indicate a mistake
in the configuration file. In any case, the number of calls will be limited
by the general time limit in the outdial configuration file.</p>
</list-item>
</list>
</chl4>
<chl4><title>Low Level Warning</title>
<list type="unordered">
<list-item><p>A list of commands in one transition sends more than one SMS.</p>
</list-item>
<list-item><p>An SMS is sent in one transition and the next state is not final.
This means that more than one SMS might be sent.</p>
</list-item>
<list-item><p>A list of commands in one transition both sends an SMS and tries
to call.</p>
</list-item>
<list-item><p>There are more transitions than the start transition from the
initial state. If the state machine never goes back to the initial state these
transitions are meaningless. They are not dangerous in themselves but this
can be a symptom of other problems.</p>
</list-item>
<list-item><p>The start transition is defined for other states than the initial
state. Since the start transition code is only used in the initial state these
transitions will never be followed. This can be a symptom of other problems.</p>
</list-item>
<list-item><p>The initial state is not number zero. The convention is to have
the initial state as zero. This might be a mistake in the configuration file.</p>
</list-item>
<list-item><p>There are transitions back to the initial state. Normally the
initial state is only used at the start. This might be a mistake in the configuration
file.</p>
</list-item>
<list-item><p>There is a loop of states, including the busy code. This means
that if the phone is busy, the state machine can keep on trying indefinitely.
This is often wanted, but not always.</p>
</list-item>
</list>
</chl4>
</chl3>
<chl3><title>smppbind</title>
<p>Experience shows that obtaining the correct user name/password settings
for the SMSC is surprisingly difficult. To help in trouble-shooting a new
NTF installation where SMS notifications do not work, the script  <input>smppbind</input> can
be used. It can be run on any host where perl is available (as <resource-id
type="file-path">/usr/bin/perl</resource-id>). Smppbind can be used to:</p>
<list type="unordered">
<list-item><p>Isolate notification troubles to the SMSC connection.</p>
</list-item>
<list-item><p>Quickly try different user names and passwords.</p>
</list-item>
<list-item><p>Localize network problems by testing from different hosts and
networks.</p>
</list-item>
<list-item><p>Get detailed diagnostic messages.</p>
</list-item>
</list>
<p>You can run smppbind in two modes; either you specify all parameters on
the command line or you specify all parameters in one or more lines in a file.
The latter mode is useful if you want to do many bind attempts, e.g. to try
alternative spellings for system_id and password; one bind attempt is done
for each line.</p>
<p><preform>Usage
./smppbind [-v] host port system_id password system_type
  or
./smppbind [-v] -f filename
      -v verbose gives more messages
      system_type is optional
      system_id is the SMPP terminology for user name
      -f filename identifies a file with lines, where each
      line contains host port system_id password
      system_type, and a bind will be made for each line.</preform></p>
<example condensed="yes" indent="column">
<caption>Running smppbind with a bad user id.</caption>
<preform>#./smppbind smpphost 5016 smsuser smspass
Failed SMPP Bind to smpphost:5016 as smsuser(smspass) \
status code 15 (Invalid system id (i.e. user name))</preform>
</example>
</chl3>
<chl3><title>addinstance</title>
<p>Addinstance is used in a HA-system to create NTF instances.</p>
<p>addinstance -h gives help</p>
</chl3>
<chl3><title>getconfig</title>
<p>Getconfig displays the parameter value used by NTF, whether it is a default
value or in the configuration file.</p>
<p>getconfig -h gives help</p>
</chl3>
<chl3><title>interactivebind</title>
<p>Interactivebind is a simple text-based program that lets you try binding
to an SMSC interactively.</p>
<p>Start interactivebind and then use the h command for help.</p>
</chl3>
<chl3><title>ntf_mcr_reg.sh</title>
<p>Ntf_mcr_reg registers NTF in MCR.</p>
<p>ntf_mcr_reg -h gives help</p>
</chl3>
<chl3><title>ntf_mcr_unreg.sh</title>
<p>Ntf_mcr_unreg unregisters NTF from MCR.</p>
<p>ntf_mcr_unreg -h gives help</p>
</chl3>
<chl3><title>ntf_mur_reg.sh</title>
<p>Ntf_mur_reg registers NTF users in MUR.</p>
<p>ntf_mur_reg -h gives help</p>
</chl3>
<chl3><title>ntf_mur_unreg.sh</title>
<p>Ntf_mur_unreg unregisters NTF from MUR.</p>
<p>ntf_mur_unreg -h gives help</p>
</chl3>
<chl3><title>phr2cphr.pl</title>
<p>Converts phrase files from old format (.phr) to new format (.cphr)</p>
<p>phr2cphr.pl -h gives help</p>
</chl3>
<chl3><title>rminstance</title>
<p>Rminstance can be used in HA-systems to remove NTF instances.</p>
<p>rminstance -h gives help</p>
</chl3>
<chl3><title>stopntf</title>
<p>Stopntf stops the NTF traffic processes. Normally, it will be started again
by the NTF watchdog.</p>
</chl3>
<chl3><title>upgradeinstance</title>
<p>Upgradeinstance can be used in HA-systems to upgrade the configuration
of NTF instances after the software has been upgraded.</p>
<p>upgradeinstance -h gives help</p>
</chl3>
</chl2>
<chl2><title xml:id="copyrights">Copyright Notices</title>
<chl3><title>The Hypersonic SQL Group</title>
<p><preform>Copyright (c) 1995-2000 by the Hypersonic SQL Group.
All rights reserved. 

Redistribution and use in source and binary forms, with or
without modification, are permitted provided that the
following conditions are met:

Redistributions of source code must retain the above
copyright notice, this list of conditions and the following
disclaimer.

Redistributions in binary form must reproduce the above
copyright notice, this list of conditions and the following
disclaimer in the documentation and/or other materials
provided with the distribution.

Neither the name of the Hypersonic SQL Group nor the names
of its contributors may be used to endorse or promote
products derived from this software without specific prior
written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND
CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE HYPERSONIC SQL GROUP, OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
POSSIBILITY OF SUCH DAMAGE.

This software consists of voluntary contributions made by
many individuals on behalf of the Hypersonic SQL
Group.</preform></p>
</chl3>
<chl3><title>The HSQL Development Group</title>
<p><preform>Copyright (c) 2001-2004, The HSQL Development Group
All rights reserved.

Redistribution and use in source and binary forms, with or
without modification, are permitted provided that the
following conditions are met:

Redistributions of source code must retain the above
copyright notice, this list of conditions and the following
disclaimer.

Redistributions in binary form must reproduce the above
copyright notice, this list of conditions and the following
disclaimer in the documentation and/or other materials
provided with the distribution.

Neither the name of the HSQL Development Group nor the
names of its contributors may be used to endorse or promote
products derived from this software without specific prior
written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND
CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL HSQL DEVELOPMENT GROUP,
HSQLDB.ORG, OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</preform></p>
</chl3>
</chl2>
</chl1>
</body>
<back>
<reference>
<reference-list>
<rf-subsection></rf-subsection>
<rf-item><rf-title xml:id="ref1">Messaging-over-IP Technical Overview</rf-title>
<doc-no type="reference">5/1551-HDB 101 02 Uen</doc-no>
</rf-item>
<rf-item><rf-title>Glossary</rf-title><doc-no type="reference">1/0033-1/HDB
101 02 Uen</doc-no>
</rf-item>
<rf-item><rf-title xml:id="ref3">Installation Guide NTF</rf-title><doc-no
type="reference">1/1531-CRH 109 127 Uen</doc-no>
</rf-item>
<rf-item><rf-title>MIB Management User Guide</rf-title><doc-no type="reference">1/1553-CRH
109 083 Uen</doc-no>
</rf-item>
</reference-list>
</reference>
</back>
</doc>
<?Pub *0000380075 0?>
